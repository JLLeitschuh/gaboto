<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="en"><!--THIS FILE IS GENERATED FROM AN XML MASTER. DO NOT EDIT (4)-->
<head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>[oucs]  Gaboto Library - User Manual</title><link href="/favicon.ico" rel="icon" type="image/x-icon"><link href="/favicon.ico" rel="shortcut icon" type="image/x-icon"><meta content="51.759480,-1.260209" name="ICBM"><meta content="GB-OXF" name="geo.region"><meta content="Oxford" name="geo.placename"><meta content="51.759480;-1.260209" name="geo.position"><meta content="en" name="DC.Language" scheme="ISO639-1"><meta content="Oxford University Computing Services, 13 Banbury Road, Oxford OX2 6NN, United Kingdom" name="DC.Creator"><meta content="webmaster@oucs.ox.ac.uk" name="DC.Creator.Address"><meta name="author" content="Arno Mittelbach"><meta name="generator" content="Text Encoding Initiative Consortium XSLT stylesheets"><meta name="DC.Title" content="Gaboto Library - User Manual"><meta name="DC.Type" content="Text"><meta name="DC.Format" content="text/html"><link href="http://www.oucs.ox.ac.uk/stylesheet/oucs/oucs.css" media="screen" rel="stylesheet" type="text/css">
      <!--[if IE]><link href="http://www.oucs.ox.ac.uk/stylesheet/oucs/ie_inner.css" rel="stylesheet" type="text/css"><![endif]--><link href="http://www.oucs.ox.ac.uk/stylesheet/oucs/cssp_print.css" media="print" rel="stylesheet" type="text/css">
<script type="text/javascript"><!--
	    function startUp() {
	  } 

	function openpopup(location){ 
	var newwin =
        window.open(location,"OUCSPopup","status=no,menu=no,toolbar=no,width=350,height=400,resizable=yes,scrollbars=yes")
          }
	--></script><script src="http://www.oucs.ox.ac.uk/stylesheet/js/jquery-1.2.6.js" type="text/javascript"></script><script src="http://www.oucs.ox.ac.uk/stylesheet/js/util-functions.js" type="text/javascript"></script><script src="http://www.oucs.ox.ac.uk/stylesheet/js/clear-default-text.js" type="text/javascript"></script><script src="http://www.oucs.ox.ac.uk/stylesheet/js/show-hide.js" type="text/javascript"></script><script src="http://www.oucs.ox.ac.uk/stylesheet/js/jq-showhide.js" type="text/javascript"></script></head><body onload="startUp()"><div class="show-all" id="main"><div id="hdr"><div id="headerOuter"><div id="upperBarOuter"><div id="globalNavOuter"><a href="http://www.oucs.ox.ac.uk/">OUCS</a> | <a href="http://www.oucs.ox.ac.uk/about/contact.xml">Contact</a> | <a href="http://www.oucs.ox.ac.uk/atoz/">A to Z</a> | <a href="http://www.oucs.ox.ac.uk/help/">Help</a> | <a href="http://status.ox.ac.uk/">Status</a> | <a href="http://www.ict.ox.ac.uk/oxford/rules/">Rules</a> | <a href="http://www.ox.ac.uk">Oxford University</a></div><div id="searchOuter"><div id="searchInner"><div class="searchbox"><a name="search"></a><form action="http://googlesearch.oucs.ox.ac.uk/search" id="searchform" method="get"><fieldset><legend>Search</legend><input name="Unit" type="hidden" value="OUCS"><input name="UnitPicture" type="hidden" value="http://www.oucs.ox.ac.uk/googlesearch/radcliffe.jpg"><input name="client" type="hidden" value="oxford"><input name="proxystylesheet" type="hidden" value="oucs"><input name="output" type="hidden" value="xml_no_dtd"><input name="filter" type="hidden" value="1"><span class="input"><input class="cleardefault" id="input-search" maxlength="2048" name="q" size="15" title="search box" type="text" value="search OUCS">ï¿½ <input class="gobutton" name="Go" type="submit" value="Go!"><br><input name="domains" type="hidden" value="ox.ac.uk"></span><input id="oucs" name="site" type="hidden" value="oucs"></fieldset></form></div></div></div><h1>Oxford University Computing Services</h1></div><div id="lowerBarOuter"><div id="lowerBarInner"><script type="text/javascript">
var d=new Date()
var weekday=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday")
var monthname=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec")
document.write(weekday[d.getDay()] + " ")
document.write(d.getDate() + ". ")
document.write(monthname[d.getMonth()] + " ")
document.write(d.getFullYear())
</script></div></div><div id="logoOuter"></div></div></div><div class="float-wrapper"><div id="rh-col"><div class="main-content"><div id="breadcrumb"><div class="breadcrumb"><ul class="breadcrumb"><li class="breadcrumb-first"><a class="breadcrumb" href="/" target="_top">Home</a></li><li class="breadcrumb"><a class="breadcrumb" target="_top" href="/"></a></li></ul></div></div><div id="bookmarking"><script type="text/javascript">addthis_pub  = 'oucswebmaster';</script><a href="http://www.addthis.com/bookmark.php" onclick="return addthis_sendto()" onmouseout="addthis_close()" onmouseover="return addthis_open(this, '', '[URL]', '[TITLE]')"><img alt="add this bookmarking tool" border="0" height="16" src="http://s9.addthis.com/button1-bm.gif" width="125"></a><script src="http://s7.addthis.com/js/152/addthis_widget.js" type="text/javascript"></script></div><h1>Gaboto Library - User Manual</h1>
  
  
    
        <div class="teidiv0" id="front.1_div.1"><h2><a name="front.1_div.1"></a>Preface</h2>
            
            <div class="p"><a name="id89697"><!--anchor--></a>
                The Gaboto Library - User Manual contains information and tutorials on how to use 
                the library and extend its functionality. Gaboto is using RDF and the named graph 
                extension to RDF as its underlying data model. The two main libraries that implement the RDF standard and 
                that Gaboto is built upon are:
                <dl><dt><a name="index.xml-item-id89714"><!--anchor--></a><a name="index.xml-label-id89710"><!--anchor--></a>Jena</dt><dd>
                        Jena is an open source RDF triple store written entirely in Java. More information
                        on Jena can be found at its <a class="link_ref" href="http://jena.sourceforge.net/" target="_top" title="website">website</a>.
                    </dd><dt><a name="index.xml-item-id89729"><!--anchor--></a><a name="index.xml-label-id89726"><!--anchor--></a>NG4J</dt><dd>
                        NG4J is an extension for Jena implementing the concept of named graphs. More information
                        on NG4J can be found at its <a class="link_ref" href="http://www4.wiwiss.fu-berlin.de/bizer/ng4j/" target="_top" title="website">website</a>.
                    </dd></dl>
                Besides the manual, I've tried to thoroughly document the source code in the JavaDoc format so that it
                can be used as a reference when working with the library. Looking at Jena's documentation will
                not be necessary for the first steps, but if you want to seriously use Gaboto you should at least
                work through the main tutorials.
            </div>
            <p><a name="id89751"><!--anchor--></a>
                Have fun with Gaboto,<br>
                Arno Mittelbach
            </p>
        </div>
        <h2>Table of contents</h2><ul class="toc toc_front"><li class="toc"><a class="toc toc_0" href="#front.1_div.1">Preface</a></li></ul><ul class="toc toc_body"><li class="toc">1. <a class="toc toc_0" href="#body.1_div.1">Introduction to Gaboto</a><ul class="toc"><li class="toc">1.1. <a class="toc toc_1" href="#body.1_div.1_div.1">OxPoints - a short History</a></li><li class="toc">1.2. <a class="toc toc_1" href="#body.1_div.1_div.2">RDF - a very brief introduction</a></li><li class="toc">1.3. <a class="toc toc_1" href="#body.1_div.1_div.3">So what exactly is Gaboto Library</a><ul class="toc"><li class="toc">1.3.1. <a class="toc toc_2" href="#body.1_div.1_div.3_div.1">Gaboto versus Relational Database Approaches</a></li></ul></li><li class="toc">1.4. <a class="toc toc_1" href="#chap_introduction_furtherReading" title="Further Reading">Further Reading</a></li></ul></li><li class="toc">2. <a class="toc toc_0" href="#body.1_div.2">Part I - Using Gaboto</a><ul class="toc"><li class="toc">2.1. <a class="toc toc_1" href="#body.1_div.2_div.1">Setting up a Test-Environment in Eclipse</a><ul class="toc"><li class="toc">2.1.1. <a class="toc toc_2" href="#body.1_div.2_div.1_div.1">Install Eclipse</a></li><li class="toc">2.1.2. <a class="toc toc_2" href="#body.1_div.2_div.1_div.2">Creating the Project</a></li><li class="toc">2.1.3. <a class="toc toc_2" href="#body.1_div.2_div.1_div.3">Preparations for Running the Examples</a></li><li class="toc">2.1.4. <a class="toc toc_2" href="#body.1_div.2_div.1_div.4">The Gaboto Object</a></li></ul></li><li class="toc">2.2. <a class="toc toc_1" href="#chap_objectModel" title="The Gaboto Object Model">The Gaboto Object Model</a><ul class="toc"><li class="toc">2.2.1. <a class="toc toc_2" href="#chap_objectModel_Time" title="Time">Time</a><ul class="toc"><li class="toc">2.2.1.1. <a class="toc toc_3" href="#body.1_div.2_div.2_div.1_div.1">TimeInstant</a><ul class="toc"><li class="toc">2.2.1.1.1. <a class="toc toc_4" href="#body.1_div.2_div.2_div.1_div.1_div.1">Examples</a></li></ul></li><li class="toc">2.2.1.2. <a class="toc toc_3" href="#body.1_div.2_div.2_div.1_div.2">TimeSpan</a><ul class="toc"><li class="toc">2.2.1.2.1. <a class="toc toc_4" href="#body.1_div.2_div.2_div.1_div.2_div.1">Examples</a></li></ul></li></ul></li><li class="toc">2.2.2. <a class="toc toc_2" href="#chap_objectModel_GabotoLibrary" title="GabotoLibrary">GabotoLibrary</a></li><li class="toc">2.2.3. <a class="toc toc_2" href="#chap_objectModel_Gaboto" title="Gaboto">Gaboto</a><ul class="toc"><li class="toc">2.2.3.1. <a class="toc toc_3" href="#body.1_div.2_div.2_div.3_div.1">Instantiating Gaboto Objects</a></li></ul></li><li class="toc">2.2.4. <a class="toc toc_2" href="#chap_objectModel_GabotoSnapshot" title="GabotoSnapshot">GabotoSnapshot</a></li><li class="toc">2.2.5. <a class="toc toc_2" href="#chap_objectModel_GabotoEntity" title="GabotoEntity">GabotoEntity</a><ul class="toc"><li class="toc">2.2.5.1. <a class="toc toc_3" href="#body.1_div.2_div.2_div.5_div.1">Examples</a></li></ul></li><li class="toc">2.2.6. <a class="toc toc_2" href="#chap_objectModel_GabotoEntityPool" title="GabotoEntityPool">GabotoEntityPool</a><ul class="toc"><li class="toc">2.2.6.1. <a class="toc toc_3" href="#body.1_div.2_div.2_div.6_div.1">Examples</a></li></ul></li><li class="toc">2.2.7. <a class="toc toc_2" href="#chap_objectModel_GabotoTimeBasedEntity" title="GabotoTimeBasedEntity">GabotoTimeBasedEntity</a><ul class="toc"><li class="toc">2.2.7.1. <a class="toc toc_3" href="#body.1_div.2_div.2_div.7_div.1">Examples</a></li></ul></li></ul></li><li class="toc">2.3. <a class="toc toc_1" href="#chap_query" title="Querying Gaboto">Querying Gaboto</a><ul class="toc"><li class="toc">2.3.1. <a class="toc toc_2" href="#body.1_div.2_div.3_div.1">Different Query Types</a><ul class="toc"><li class="toc">2.3.1.1. <a class="toc toc_3" href="#body.1_div.2_div.3_div.1_div.1">The Gaboto Object Model</a><ul class="toc"><li class="toc">2.3.1.1.1. <a class="toc toc_4" href="#body.1_div.2_div.3_div.1_div.1_div.1">Point Queries</a><ul class="toc"><li class="toc">2.3.1.1.1.1. <a class="toc toc_5" href="#body.1_div.2_div.3_div.1_div.1_div.1_div.1">Finding Entities</a></li></ul></li><li class="toc">2.3.1.1.2. <a class="toc toc_4" href="#body.1_div.2_div.3_div.1_div.1_div.2">GabotoEntityPool - Complex Queries</a><ul class="toc"><li class="toc">2.3.1.1.2.1. <a class="toc toc_5" href="#body.1_div.2_div.3_div.1_div.1_div.2_div.1">Types</a></li><li class="toc">2.3.1.1.2.2. <a class="toc toc_5" href="#body.1_div.2_div.3_div.1_div.1_div.2_div.2">Resources</a></li><li class="toc">2.3.1.1.2.3. <a class="toc toc_5" href="#chap_query_forceCreation" title="Dereferencing of Objects">Dereferencing of Objects</a></li><li class="toc">2.3.1.1.2.4. <a class="toc toc_5" href="#chap_query_addReferencedEntities" title="Add Referenced Entities to Pool">Add Referenced Entities to Pool</a></li><li class="toc">2.3.1.1.2.5. <a class="toc toc_5" href="#chap_query_entityFilters" title="Entity Filters">Entity Filters</a></li><li class="toc">2.3.1.1.2.6. <a class="toc toc_5" href="#body.1_div.2_div.3_div.1_div.1_div.2_div.6">Resource Filters</a></li></ul></li></ul></li><li class="toc">2.3.1.2. <a class="toc toc_3" href="#chap_query_sparql" title="SPARQL Queries">SPARQL Queries</a><ul class="toc"><li class="toc">2.3.1.2.1. <a class="toc toc_4" href="#body.1_div.2_div.3_div.1_div.2_div.1">Prefixes</a></li><li class="toc">2.3.1.2.2. <a class="toc toc_4" href="#body.1_div.2_div.3_div.1_div.2_div.2">SELECT Queries</a></li><li class="toc">2.3.1.2.3. <a class="toc toc_4" href="#body.1_div.2_div.3_div.1_div.2_div.3">CONSTRUCT Queries</a></li><li class="toc">2.3.1.2.4. <a class="toc toc_4" href="#body.1_div.2_div.3_div.1_div.2_div.4">DESCRIBE Queries</a></li><li class="toc">2.3.1.2.5. <a class="toc toc_4" href="#body.1_div.2_div.3_div.1_div.2_div.5">ASK Queries</a></li></ul></li></ul></li><li class="toc">2.3.2. <a class="toc toc_2" href="#body.1_div.2_div.3_div.2">The GabotoQuery Interface</a><ul class="toc"><li class="toc">2.3.2.1. <a class="toc toc_3" href="#body.1_div.2_div.3_div.2_div.1">Using Existing Queries</a></li><li class="toc">2.3.2.2. <a class="toc toc_3" href="#body.1_div.2_div.3_div.2_div.2">Writing new custom queries</a><ul class="toc"><li class="toc">2.3.2.2.1. <a class="toc toc_4" href="#body.1_div.2_div.3_div.2_div.2_div.1">The resulting class</a></li></ul></li></ul></li><li class="toc">2.3.3. <a class="toc toc_2" href="#chap_query_furtherReading" title="Further Reading">Further Reading</a></li></ul></li><li class="toc">2.4. <a class="toc toc_1" href="#chap_manageData" title="Managing Data">Managing Data</a><ul class="toc"><li class="toc">2.4.1. <a class="toc toc_2" href="#body.1_div.2_div.4_div.1">Importing and Exporting Data</a><ul class="toc"><li class="toc">2.4.1.1. <a class="toc toc_3" href="#body.1_div.2_div.4_div.1_div.1">Example: Export to files</a></li><li class="toc">2.4.1.2. <a class="toc toc_3" href="#body.1_div.2_div.4_div.1_div.2">Example: Import from files</a></li></ul></li><li class="toc">2.4.2. <a class="toc toc_2" href="#body.1_div.2_div.4_div.2">Adding Data</a><ul class="toc"><li class="toc">2.4.2.1. <a class="toc toc_3" href="#body.1_div.2_div.4_div.2_div.1">Adding RDF Triples</a></li><li class="toc">2.4.2.2. <a class="toc toc_3" href="#body.1_div.2_div.4_div.2_div.2">Adding GabotoEntities and GabotoTimeBoundEntities</a><ul class="toc"><li class="toc">2.4.2.2.1. <a class="toc toc_4" href="#body.1_div.2_div.4_div.2_div.2_div.1">URIs</a></li><li class="toc">2.4.2.2.2. <a class="toc toc_4" href="#body.1_div.2_div.4_div.2_div.2_div.2">GabotoTimeBasedEntities</a></li><li class="toc">2.4.2.2.3. <a class="toc toc_4" href="#chap_manageData_type" title="The role of the rdf:type Property">The role of the rdf:type Property</a></li></ul></li></ul></li><li class="toc">2.4.3. <a class="toc toc_2" href="#body.1_div.2_div.4_div.3">Removing and Changing Data</a></li></ul></li></ul></li><li class="toc">3. <a class="toc toc_0" href="#part_configuring" title="Part II - Configuring Gaboto">Part II - Configuring Gaboto</a><ul class="toc"><li class="toc">3.1. <a class="toc toc_1" href="#chap_configuring_ontologies" title="Ontologies">Ontologies</a><ul class="toc"><li class="toc">3.1.1. <a class="toc toc_2" href="#chap_ontology" title="The OxPoints Ontology">The OxPoints Ontology</a></li></ul></li><li class="toc">3.2. <a class="toc toc_1" href="#chap_configuring_properties" title="Properties">Properties</a><ul class="toc"><li class="toc">3.2.1. <a class="toc toc_2" href="#body.1_div.3_div.2_div.1">Simple Properties</a></li><li class="toc">3.2.2. <a class="toc toc_2" href="#body.1_div.3_div.2_div.2">Active vs. Passive Properties</a></li><li class="toc">3.2.3. <a class="toc toc_2" href="#body.1_div.3_div.2_div.3">Complex Properties</a></li><li class="toc">3.2.4. <a class="toc toc_2" href="#body.1_div.3_div.2_div.4">Indirect Properties</a></li><li class="toc">3.2.5. <a class="toc toc_2" href="#body.1_div.3_div.2_div.5">Static Properties</a></li><li class="toc">3.2.6. <a class="toc toc_2" href="#porperties_unstoredProperty" title="Unstored Properties">Unstored Properties</a></li><li class="toc">3.2.7. <a class="toc toc_2" href="#body.1_div.3_div.2_div.7">Collections</a></li></ul></li><li class="toc">3.3. <a class="toc toc_1" href="#body.1_div.3_div.3"> The Gaboto configuration file</a><ul class="toc"><li class="toc">3.3.1. <a class="toc toc_2" href="#body.1_div.3_div.3_div.1">General Structure</a></li><li class="toc">3.3.2. <a class="toc toc_2" href="#body.1_div.3_div.3_div.2">The config Section</a><ul class="toc"><li class="toc">3.3.2.1. <a class="toc toc_3" href="#body.1_div.3_div.3_div.2_div.1">Defining Database Connection</a></li></ul></li><li class="toc">3.3.3. <a class="toc toc_2" href="#body.1_div.3_div.3_div.3">Defining GabotoBeans</a><ul class="toc"><li class="toc">3.3.3.1. <a class="toc toc_3" href="#body.1_div.3_div.3_div.3_div.1">The bean's RDF</a></li><li class="toc">3.3.3.2. <a class="toc toc_3" href="#body.1_div.3_div.3_div.3_div.2">The Resulting Class</a></li><li class="toc">3.3.3.3. <a class="toc toc_3" href="#body.1_div.3_div.3_div.3_div.3">Custom Methods</a></li></ul></li><li class="toc">3.3.4. <a class="toc toc_2" href="#body.1_div.3_div.3_div.4">Defining GabotoEntities</a><ul class="toc"><li class="toc">3.3.4.1. <a class="toc toc_3" href="#body.1_div.3_div.3_div.4_div.1">Inheritance</a></li><li class="toc">3.3.4.2. <a class="toc toc_3" href="#body.1_div.3_div.3_div.4_div.2">Indirect Properties</a><ul class="toc"><li class="toc">3.3.4.2.1. <a class="toc toc_4" href="#body.1_div.3_div.3_div.4_div.2_div.1">Multiple Alternatives</a></li><li class="toc">3.3.4.2.2. <a class="toc toc_4" href="#body.1_div.3_div.3_div.4_div.2_div.2">Method Creation</a></li></ul></li><li class="toc">3.3.4.3. <a class="toc toc_3" href="#body.1_div.3_div.3_div.4_div.3">Passive Properties</a><ul class="toc"><li class="toc">3.3.4.3.1. <a class="toc toc_4" href="#body.1_div.3_div.3_div.4_div.3_div.1">Set- and Add- Methods</a></li></ul></li><li class="toc">3.3.4.4. <a class="toc toc_3" href="#body.1_div.3_div.3_div.4_div.4">Custom Methods</a></li><li class="toc">3.3.4.5. <a class="toc toc_3" href="#body.1_div.3_div.3_div.4_div.5">Static Properties</a></li><li class="toc">3.3.4.6. <a class="toc toc_3" href="#body.1_div.3_div.3_div.4_div.6">Unstored Properties</a></li><li class="toc">3.3.4.7. <a class="toc toc_3" href="#body.1_div.3_div.3_div.4_div.7">The resulting Java Class for Place</a></li></ul></li></ul></li><li class="toc">3.4. <a class="toc toc_1" href="#body.1_div.3_div.4">Generating the Java Files from the Configuration</a><ul class="toc"><li class="toc">3.4.1. <a class="toc toc_2" href="#body.1_div.3_div.4_div.1">From the Command Line</a></li><li class="toc">3.4.2. <a class="toc toc_2" href="#body.1_div.3_div.4_div.2">From within Java</a></li><li class="toc">3.4.3. <a class="toc toc_2" href="#body.1_div.3_div.4_div.3">Using Apache Ant</a></li></ul></li></ul></li><li class="toc">4. <a class="toc toc_0" href="#part_extending" title="Part III - Extending Gaboto">Part III - Extending Gaboto</a><ul class="toc"><li class="toc">4.1. <a class="toc toc_1" href="#body.1_div.4_div.1">Working with the Gaboto Code</a><ul class="toc"><li class="toc">4.1.1. <a class="toc toc_2" href="#body.1_div.4_div.1_div.1">Test Driven Development with JUnit</a></li><li class="toc">4.1.2. <a class="toc toc_2" href="#transformOntologyIntoJava" title="Transforming Ontologies into Java Helper Classes">Transforming Ontologies into Java Helper Classes</a></li><li class="toc">4.1.3. <a class="toc toc_2" href="#compilingGaboto" title="Compiling Gaboto">Compiling Gaboto</a></li></ul></li><li class="toc">4.2. <a class="toc toc_1" href="#chap_extending_transformations" title="Output Transformation">Output Transformation</a><ul class="toc"><li class="toc">4.2.1. <a class="toc toc_2" href="#body.1_div.4_div.2_div.1">General Approach</a></li><li class="toc">4.2.2. <a class="toc toc_2" href="#body.1_div.4_div.2_div.2">The KML Transformer</a></li><li class="toc">4.2.3. <a class="toc toc_2" href="#body.1_div.4_div.2_div.3">The JSON Transformer</a></li><li class="toc">4.2.4. <a class="toc toc_2" href="#body.1_div.4_div.2_div.4">Adding new Output Transformations to Gaboto</a></li></ul></li><li class="toc">4.3. <a class="toc toc_1" href="#body.1_div.4_div.3">Insights into Gaboto</a><ul class="toc"><li class="toc">4.3.1. <a class="toc toc_2" href="#body.1_div.4_div.3_div.1">JavaBeans vs. GabotoEntity and GabotoBean</a><ul class="toc"><li class="toc">4.3.1.1. <a class="toc toc_3" href="#body.1_div.4_div.3_div.1_div.1">Gaboto's Annotation</a><ul class="toc"><li class="toc">4.3.1.1.1. <a class="toc toc_4" href="#body.1_div.4_div.3_div.1_div.1_div.1">Direct Properties</a><ul class="toc"><li class="toc">4.3.1.1.1.1. <a class="toc toc_5" href="#body.1_div.4_div.3_div.1_div.1_div.1_div.1">Direct Stored Properties</a></li><li class="toc">4.3.1.1.1.2. <a class="toc toc_5" href="#body.1_div.4_div.3_div.1_div.1_div.1_div.2">Direct Unstored Properties</a></li></ul></li><li class="toc">4.3.1.1.2. <a class="toc toc_4" href="#body.1_div.4_div.3_div.1_div.1_div.2">IndirectProperty</a></li><li class="toc">4.3.1.1.3. <a class="toc toc_4" href="#body.1_div.4_div.3_div.1_div.1_div.3">PassiveProperty</a></li></ul></li></ul></li></ul></li><li class="toc">4.4. <a class="toc toc_1" href="#body.1_div.4_div.4">To Do</a><ul class="toc"><li class="toc">4.4.1. <a class="toc toc_2" href="#body.1_div.4_div.4_div.1">Multiple Inheritance</a></li><li class="toc">4.4.2. <a class="toc toc_2" href="#body.1_div.4_div.4_div.2">Get rid of Reflection when creating RDF from a GabotoPool/GabotoEntity</a></li><li class="toc">4.4.3. <a class="toc toc_2" href="#body.1_div.4_div.4_div.3">More simple Datatypes</a></li><li class="toc">4.4.4. <a class="toc toc_2" href="#body.1_div.4_div.4_div.4">Make GabotoQuery know about existing Transformations</a></li><li class="toc">4.4.5. <a class="toc toc_2" href="#body.1_div.4_div.4_div.5">Add new Import Mechanisms (e.g., JSON Importer)</a></li><li class="toc">4.4.6. <a class="toc toc_2" href="#body.1_div.4_div.4_div.6">Create option to leave out Time Dimension</a></li><li class="toc">4.4.7. <a class="toc toc_2" href="#body.1_div.4_div.4_div.7">Remove Custom Methods from Config File</a></li><li class="toc">4.4.8. <a class="toc toc_2" href="#body.1_div.4_div.4_div.8">Allow for specific Jena Database configuration</a></li></ul></li></ul></li></ul><ul class="toc toc_back"><li class="toc"><a class="toc toc_0" href="#configuration_schema" title="Configuration File Schema">Configuration File Schema</a></li></ul>
    
      
        <div class="teidiv0" id="body.1_div.1"><h2><a name="body.1_div.1"></a>1. Introduction to Gaboto</h2>
            

            <p><a name="id89772"><!--anchor--></a>
                This chapter will give a brief introduction into the Gaboto system. I will explain the
                basic concepts and will give a short introduction to RDF, since understanding Gaboto's underlying
                data model is crucial for being able to properly work with it. I will start with describing
                the project, that led to the creation of Gaboto called <strong>OxPoints</strong> which I will use as
                a running example throughout this manual. Parts of the OxPoints data will also be shipped with
                Gaboto as an example project for you to be able to directly start playing with a completely
                configured system.
            </p>

            <div class="teidiv1" id="body.1_div.1_div.1"><h3><a name="body.1_div.1_div.1"></a>1.1. OxPoints - a short History</h3>
                
                <p><a name="id89796"><!--anchor--></a>
                    The old OxPoints system consisted of a large XML file mainly containing information about Colleges,
                    their main buildings and where these are located. Using XSL this information could be transformed
                    into various output formats such as JSON, HTML or KML. For example, the map of all colleges on the
                    university's main website was dynamically created by the OxPoints system. 
                </p>
                <div class="p"><a name="id89799"><!--anchor--></a>
                    After more and more data was added and with the plan to add much more, it became clear that a system
                    based on one hierarchical XML file would not scale with the new requirements:
                    <dl><dt><a name="index.xml-item-id89813"><!--anchor--></a><a name="index.xml-label-id89810"><!--anchor--></a>Time based data</dt><dd>
                            A time dimension should be introduced to be able to create historical maps.
                        </dd><dt><a name="index.xml-item-id89823"><!--anchor--></a><a name="index.xml-label-id89819"><!--anchor--></a>Rich Relationships</dt><dd>
                            It should be able to express many different kind of relationships between entities in the
                            system.
                        </dd><dt><a name="index.xml-item-id89832"><!--anchor--></a><a name="index.xml-label-id89829"><!--anchor--></a>More Entities</dt><dd>
                            Besides colleges and buildings many more entities should be added to the system (e.g. drain covers).
                        </dd><dt><a name="index.xml-item-id89842"><!--anchor--></a><a name="index.xml-label-id89838"><!--anchor--></a>Extendable</dt><dd>
                            Since nobody could pin down where OxPoints was to be going it should be as easy as possible to
                            extend the system in any way imaginable.
                        </dd></dl>
                </div>
                <div class="p"><a name="id89851"><!--anchor--></a>
                    If we only partly wanted to achieve these requirements we had to be very careful during the 
                    design of the underlying data model. We conducted research for several months and finally decided
                    to go with an RDF (a standard maintained by the W3C, meant to express relationships between entities)
                    based solution. We hope that chosing this very generic data model will address all the above requirements:
                    <dl><dt><a name="index.xml-item-id89861"><!--anchor--></a><a name="index.xml-label-id89857"><!--anchor--></a>Time based data</dt><dd>
                            We have found a way to introduce a time dimension (see <a class="link_ptr" href="#chap_introduction_furtherReading" title="Further Reading">1.4. Further Reading</a> for
                            a description on the research).
                        </dd><dt><a name="index.xml-item-id89876"><!--anchor--></a><a name="index.xml-label-id89872"><!--anchor--></a>Rich Relationships</dt><dd>
                            RDF is meant to express rich relationsships.
                        </dd><dt><a name="index.xml-item-id89884"><!--anchor--></a><a name="index.xml-label-id89881"><!--anchor--></a>More Entities</dt><dd>
                            RDF has no restrictions on the elements it talks about. As long as you can make up
                            a URI for the element, you can use RDF to describe it.
                        </dd><dt><a name="index.xml-item-id89894"><!--anchor--></a><a name="index.xml-label-id89891"><!--anchor--></a>Extendable</dt><dd>
                            RDF is very generic and meant to be extended. 
                        </dd></dl>
                </div>
                <p><a name="id89902"><!--anchor--></a>
                    The platform choice fell on Java and Jena (an RDF triple store written in Java) since this
                    seemed to give us one of the most sophisticated open source triple stores and the flexibility
                    of Java.  
                </p>
            </div>
            <div class="teidiv1" id="body.1_div.1_div.2"><h3><a name="body.1_div.1_div.2"></a>1.2. RDF - a very brief introduction</h3>
                
                <p><a name="id89917"><!--anchor--></a>
                    To understand Gaboto you have to understand RDF. In this section I will only very briefly
                    describe RDF and its named graph extension. If any of this does not sound familiar, you should have
                    a look at the more detailed introductions in <a class="link_ptr" href="#chap_introduction_furtherReading" title="Further Reading">1.4. Further Reading</a>.
                </p>
                <div class="p"><a name="id89930"><!--anchor--></a>
                    RDF describes the idea that any kind of resource can be identified by a URI and 
                    relationships between two resources can be described in the form of triples:
                    <div class="pre_eg cdata">
                        subject    predicate    object .
                    </div>
                    Subjects and predicates are always a resource, while objects can be either a resource
                    or a primitive literal (e.g. a string). To describe this manual we could, for example,
                    say:
                    <div class="pre_eg cdata">
                        example:GabotoManual    dc:title     "Gaboto Library - User Manual" ;
                                                  dc:author    "Arno Mittelbach" .
                    </div>
                    A set of these triples that belong together are called <strong>Graph</strong>.
                </div>
                <p><a name="id89958"><!--anchor--></a>
                    The RDF specification assumes that all RDF triples in a system are stored in one Graph. An extension
                    to RDF called <strong>Named Graphs</strong> allows for the grouping of statements into various RDF Graphs, each
                    graph described by a URI. This makes it possible to describe a graph, like any other resource, with the
                    help of RDF.
                </p>
                <div class="p"><a name="id89972"><!--anchor--></a>
                    We use this idea of describing graphs in RDF to introduce a time dimension to RDF. Each graph in Gaboto
                    contains statements that describe the state of resources during a given time span. So if, for example,
                    a college existed from 1500 to 1678 then we would put a triple describing the existance of the college
                    (we use the rdf:type predicate for this purpose) to the graph that contains all triples valid during
                    that particular time span:
                    <div class="pre_eg cdata">
                        
                            &lt;http://graphURIs/1500-1678&gt;
                               {
                                   oxpdata:someCollege    rdf:type    oxp:College .
                               }
                        
                    </div>
                    To describe the graphs in the system and define the time span they cover we use a special
                    graph: the <strong>context description graph</strong>. To actually describe the time information
                    we are using the <a class="link_ref" href="http://www.w3.org/TR/owl-time/" target="_top" title="time ontology">time ontology</a> proposed
                    by the W3C. We use another special graph, the <strong>global knowledge graph</strong> to store information
                    that is not time bound.
                </div>
            </div>
            <div class="teidiv1" id="body.1_div.1_div.3"><h3><a name="body.1_div.1_div.3"></a>1.3. So what exactly is Gaboto Library</h3>
                
                <p><a name="id90006"><!--anchor--></a>
                    Gaboto Library has nothing to do with Oxford University (except that it was developed there),
                    buildings, colleges or geo-data. It is a RDF storage engine, that allows for automatic mapping from
                    RDF to Java objects and is able to cope with time in RDF. It gives you RDF's flexibility of storing
                    objects, their properties and relationships between objects while mapping these structures to first
                    class java objects. This means that instead of handling abstractions of RDF triples in Java (which
                    is what Jena is providing) you handle objects like (in the case of OxPoints) Building, College
                    and can run operations.
                </p>
                <p><a name="id90009"><!--anchor--></a>
                    With this Gaboto is <a class="link_ref" href="http://en.wikipedia.org/wiki/Object-relational_mapping" target="_top" title="Object-relational mapping">Object-relational mapping</a>,
                    like <a class="link_ref" href="http://en.wikipedia.org/wiki/Hibernate_(Java)" target="_top" title="Hibernate">Hibernate</a> or 
                    <a class="link_ref" href="http://en.wikipedia.org/wiki/Propel_(PHP)" target="_top" title="Propel">Propel</a>. However, Gaboto is built upon
                    RDF instead of relational databases, which gives you a greater flexibility in defining relationships
                    and changing your datamodel.
                </p>
                <div class="p"><a name="id90037"><!--anchor--></a>
                    The mapping rules are all configured in an XML configuration file (see <a class="link_ptr" href="#part_configuring" title="Part II - Configuring Gaboto">3. Part II - Configuring Gaboto</a>)
                    from which the necessary classes are automatically generated. So the basic steps in using Gaboto are:
                    <ol><li><a name="id90052"><!--anchor--></a>Write configuration file, define objects, their properties and relationships.</li><li><a name="id90056"><!--anchor--></a>Execute configuration script, that basically generates a jar file.</li><li><a name="id90061"><!--anchor--></a>Plug in the jar file and start writing your system.</li></ol>
                </div>
                <div class="teidiv2" id="body.1_div.1_div.3_div.1"><h4><a name="body.1_div.1_div.3_div.1"></a>1.3.1. Gaboto versus Relational Database Approaches</h4>
                    
                    <p><a name="id90073"><!--anchor--></a>
                        At this point you might ask: If I have to explicitely define my entities why shouldn't I go
                        for a relational database approach? The answer to this is simple: Although it is true that you
                        have to define the objects you are planning on using it is very easy to change these objects
                        and add new objects and relationships. It is a simple change in your configuration file and you
                        are set to go. On the other hand, trying to change the datamodel in a system based on a relational
                        database is usually a big hazard, resulting in altering and introducing new tables etc.
                    </p>
                </div>
            </div>
            <div class="teidiv1" id="chap_introduction_furtherReading"><h3><a name="chap_introduction_furtherReading"></a>1.4. Further Reading</h3>
                
                
                <dl><dt><a name="index.xml-item-id90104"><!--anchor--></a><a name="index.xml-label-id90096"><!--anchor--></a><a class="link_ref" href="http://oxforderewhon.wordpress.com/" target="_top" title="Erewhon Blog [http://oxforderewhon.wordpress.com/]">Erewhon Blog [http://oxforderewhon.wordpress.com/]</a></dt><dd>
                        The project's blog provides various information about OxPoints and Gaboto. Especially the following articles
                        might be of interest:
                        <dl><dt><a name="index.xml-item-id90127"><!--anchor--></a><a name="index.xml-label-id90114"><!--anchor--></a>
                                <a class="link_ref" href="http://oxforderewhon.wordpress.com/2008/11/18/Gaboto-providing-geodata-for-the-university-of-oxford/" target="_top" title="OxPoints - Providing geodata for the University of Oxford">
                                    OxPoints - Providing geodata for the University of Oxford
                                </a>
                            </dt><dd>An introduction to OxPoints - Part 1</dd><dt><a name="index.xml-item-id90142"><!--anchor--></a><a name="index.xml-label-id90131"><!--anchor--></a>
                                <a class="link_ref" href="http://oxforderewhon.wordpress.com/2008/11/22/Gaboto-and-the-semantic-web/" target="_top" title="OxPoints and the Semantic Web">
                                    OxPoints and the Semantic Web
                                </a>
                            </dt><dd>An introduction to OxPoints - Part 2</dd><dt><a name="index.xml-item-id90158"><!--anchor--></a><a name="index.xml-label-id90146"><!--anchor--></a>
                                <a class="link_ref" href="http://oxforderewhon.wordpress.com/2008/11/26/rdf-an-introduction/" target="_top" title="RDF - an Introduction">
                                    RDF - an Introduction
                                </a>
                            </dt><dd>An introduction to RDF</dd><dt><a name="index.xml-item-id90173"><!--anchor--></a><a name="index.xml-label-id90161"><!--anchor--></a>
                                <a class="link_ref" href="http://oxforderewhon.wordpress.com/2008/11/28/rdf-and-the-time-dimension-part-1/" target="_top" title="RDF and the Time Dimension - Part 1">
                                    RDF and the Time Dimension - Part 1
                                </a>
                            </dt><dd>An article about RDF, focusing on the problem of using RDF to store dimensional data.</dd><dt><a name="index.xml-item-id90190"><!--anchor--></a><a name="index.xml-label-id90178"><!--anchor--></a>
                                <a class="link_ref" href="http://oxforderewhon.wordpress.com/2008/12/10/rdf-and-the-time-dimension-part-2/" target="_top" title="RDF and the Time Dimension - Part 2">
                                    RDF and the Time Dimension - Part 2
                                </a>
                            </dt><dd>
                                An article about RDF, focusing on the problem of using RDF to store dimensional data. The solution
                                (using named graphs) described here forms the basis of the Gaboto data model.
                            </dd><dt><a name="index.xml-item-id90208"><!--anchor--></a><a name="index.xml-label-id90197"><!--anchor--></a>
                                <a class="link_ref" href="http://www.w3.org/RDF/" target="_top" title="The RDF Specification [http://www.w3.org/RDF/]">
                                    The RDF Specification [http://www.w3.org/RDF/]
                                </a>
                            </dt><dd>
                                Provides several links and documents about the Resource Description Framework.
                            </dd></dl>
                    </dd><dt><a name="index.xml-item-id90224"><!--anchor--></a><a name="index.xml-label-id90216"><!--anchor--></a><a class="link_ref" href="http://www.w3.org/TR/REC-rdf-syntax/" target="_top" title="RDF Primer [http://www.w3.org/TR/REC-rdf-syntax/]">RDF Primer [http://www.w3.org/TR/REC-rdf-syntax/]</a></dt><dd>
                        The RDF Primer provides a general introduction into the world of RDF.
                    </dd><dt><a name="index.xml-item-id90237"><!--anchor--></a><a name="index.xml-label-id90230"><!--anchor--></a><a class="link_ref" href="http://www.w3.org/2004/03/trix/" target="_top" title="Named Graphs [http://www.w3.org/2004/03/trix/]">Named Graphs [http://www.w3.org/2004/03/trix/]</a></dt><dd>
                        The website of a working group on named graphs.
                    </dd></dl>
            </div>
        </div>
          
        <div class="teidiv0" id="body.1_div.2"><h2><a name="body.1_div.2"></a>2. Part I - Using Gaboto</h2>
                
            <p><a name="id90251"><!--anchor--></a>
                Gaboto was developed to be used as the underlying datamodel for the new OxPoints system. As this provides
                us with a fully configured Gaboto system, I will explain Gaboto through the example of OxPoints.
            </p>
            <div class="teidiv1" id="body.1_div.2_div.1"><h3><a name="body.1_div.2_div.1"></a>2.1. Setting up a Test-Environment in Eclipse</h3>
                
                <p><a name="id90265"><!--anchor--></a>
                     In order to try out the presented examples without setting up a full Gaboto
                     system (which would include configuring the persistent storage, defining database connections
                     etc.) I will show you how to set up a simple environment with which you can try out
                     all the examples (and of course your own examples) presented in this manual.
                     While just using Gaboto, you are free to choose any development environment you feel comfortable
                     with. However, as Eclipse is my favorite development environment and we will need Eclipse
                     when we start looking into how Gaboto can be extended, I will present these instructions
                     for Eclipse.
                </p>
                
                <div class="teidiv2" id="body.1_div.2_div.1_div.1"><h4><a name="body.1_div.2_div.1_div.1"></a>2.1.1. Install Eclipse</h4>
                    
                    <p><a name="id90274"><!--anchor--></a>
                        If you do not yet have Eclipse installed, go to <a class="link_ref" href="http://www.eclipse.org/downloads/" target="_top" title="http://www.eclipse.org/downloads/">http://www.eclipse.org/downloads/</a>
                        and grab the latest copy (currently Ganymede 3.4.1). Eclipse comes in many different packages for various tasks but the standard
                        <strong>Eclipse IDE for Java Developers</strong> should be your package of choice. After downloading
                        the package, the installation usually just consists of unzipping the package. Check the instructions
                        for your OS for more information.
                    </p>
                </div>
                
                <div class="teidiv2" id="body.1_div.2_div.1_div.2"><h4><a name="body.1_div.2_div.1_div.2"></a>2.1.2. Creating the Project</h4>
                    
                    <p><a name="id90303"><!--anchor--></a>
                        Once you are in Eclipse, 
                        first get rid of the Welcome screen
                        and then switch to the Java Perspective 
                        (Window/Open Perspective/Java, if Java is not directly visible
                        go for Other and select Java from the following menu.). 
                        You can create
                        a new Java project by right clicking in the <strong>Package Explorer</strong> (panel on the left-hand side) and then
                        choosing new/Java Project. 
                        Type in a project name (e.g., Gaboto), 
                        make sure that you select Java 1.6 and click on Finish.
                    </p>
                </div>
                
                <div class="teidiv2" id="body.1_div.2_div.1_div.3"><h4><a name="body.1_div.2_div.1_div.3"></a>2.1.3. Preparations for Running the Examples</h4>
                    
                    <p><a name="id90330"><!--anchor--></a>
                        copy the folders lib and example-data (from the Gaboto.zip) into the directory (Gaboto) for your newly 
                        created project (i.e., just drag the files from the explorer/file browser into eclipse and drop them
                        onto your object). Copy the Gaboto.jar into the new lib folder under your project. 
                    </p>
                    <p><a name="id90339"><!--anchor--></a>
                        To set the classpath you right-click your project
                        and select <strong>Properties</strong>. You go to
                        <strong>Java Build Path</strong>, then <strong>Libraries</strong> 
                        and click on <strong>Add JARs...</strong>. 
                        Select all the jars from the lib directory 
                        and use Open to add them to the classpath.
                        When you've added all the jars, click on OK.
                    </p>
                    <p><a name="id90364"><!--anchor--></a>
                        We can now create a new package under the source folder (right-click on <strong>src</strong>, select New/Package).
                        Give it a name (e.g. example) and hit Finish. Create a new Class underneath it (right-click on the package and
                        select New/Class). Give it the name Test1 and click Finish.
                    </p>
                    <div class="p"><a name="id90377"><!--anchor--></a>
                        Inside the curly brackets for the public class Test1, add the following two methods:
                        <div class="pre_eg cdata">
                            
 /**
	 * Main entrance Point
	 * 
	 * @param args
	 * @throws IOException 
	 * @throws SAXException 
	 * @throws ParserConfigurationException 
	 * @throws GabotoException 
	 */
	public static void main(String[] args) throws ParserConfigurationException, SAXException, IOException, GabotoException {
		// initialize Gaboto system
		GabotoLibrary.init(GabotoConfiguration.fromConfigFile());
		
		// load gaboto
		Gaboto gaboto = GabotoFactory.getEmptyInMemoryGaboto();
		
		File graphs = new File("graphs.rdf");
		FileInputStream fos = new FileInputStream(graphs);
		
		File cdg = new File("cdg.rdf");
		FileInputStream cdg_fos = new FileInputStream(cdg);
		
		gaboto.read(fos, cdg_fos);
		gaboto.recreateTimeDimensionIndex();
		
		processExample(gaboto);
	}

	/**
	 * Here we can test the examples.
	 * 
	 * @param gaboto
	 * @throws GabotoException
	 * @throws FileNotFoundException 
	 */
	private static void processExample(Gaboto gaboto) throws GabotoException, FileNotFoundException {
		// the example goes here
		System.out.println("Gaboto is up and running.");
	}
                            
                        </div>
                    </div>
                    <div class="p"><a name="id90386"><!--anchor--></a>
                        You will need to add some import statements. Eclipse will automatically add these, if you
                        use the QuickFixes (little light bulbs left of the code). Or you can use the autocompletion
                        (CTRL+Space): Go to the end of each term that is not recognized and click (CTRL+Space). If
                        you chose the same names as suggested, your final class should now look like:
                        
                        <div class="pre_eg cdata">
                            
package example;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;

import javax.xml.parsers.ParserConfigurationException;

import org.oucs.gaboto.GabotoConfiguration;
import org.oucs.gaboto.GabotoLibrary;
import org.oucs.gaboto.entities.pool.GabotoEntityPool;
import org.oucs.gaboto.exceptions.GabotoException;
import org.oucs.gaboto.model.Gaboto;
import org.oucs.gaboto.model.GabotoFactory;
import org.oucs.gaboto.model.GabotoSnapshot;
import org.oucs.gaboto.timedim.TimeInstant;
import org.oucs.gaboto.transformation.json.GeoJSONPoolTransfomer;
import org.oucs.gaboto.vocabulary.OxPointsVocab;
import org.xml.sax.SAXException;



public class Test1 {

	/**
	 * Main entrance Point
	 * 
	 * @param args
	 * @throws IOException 
	 * @throws SAXException 
	 * @throws ParserConfigurationException 
	 * @throws GabotoException 
	 */
	public static void main(String[] args) throws ParserConfigurationException, SAXException, IOException, GabotoException {
		// initialize Gaboto system
		GabotoLibrary.init(GabotoConfiguration.fromConfigFile());
		
		// load gaboto
		Gaboto gaboto = GabotoFactory.getEmptyInMemoryGaboto();
		
		File graphs = new File("graphs.rdf");
		FileInputStream fos = new FileInputStream(graphs);
		
		File cdg = new File("cdg.rdf");
		FileInputStream cdg_fos = new FileInputStream(cdg);
		
		gaboto.read(fos, cdg_fos);
		gaboto.recreateTimeDimensionIndex();
		
		processExample(gaboto);
	}

	/**
	 * Here we can test the examples.
	 * 
	 * @param gaboto
	 * @throws GabotoException
	 * @throws FileNotFoundException 
	 */
	private static void processExample(Gaboto gaboto) throws GabotoException, FileNotFoundException {
		// the example goes here
		System.out.println("Gaboto is up and running.");
	}

}


                            
                        </div>
                    </div>
                    <p><a name="id90393"><!--anchor--></a>
                        Running the example (right-click on the class Test1 and choose Run As/Java Application) should result in
                        in printing <em>Gaboto is up and running</em> onto the console.<br>
                        Note: the Console pane has a Maximise button at the right end of its tool bar. You can now use the
                        method <strong>processExample</strong> to try out the examples.
                    </p>
                </div>
                <div class="teidiv2" id="body.1_div.2_div.1_div.4"><h4><a name="body.1_div.2_div.1_div.4"></a>2.1.4. The Gaboto Object</h4>
                    
                    <p><a name="id90418"><!--anchor--></a>
                        I will later tell you, that you should be careful ablut which Gaboto object you use for
                        what purpose. For trying out the examples you can simply use the created Gaboto object
                        (an in-memory object, that is not connected to any persistent storage).
                    </p>
                </div>
            </div>
            
            <div class="teidiv1" id="chap_objectModel"><h3><a name="chap_objectModel"></a>2.2. The Gaboto Object Model</h3>
                
                <p><a name="id90440"><!--anchor--></a>
                    This chapter describes the most important objects in the Gaboto object model and how to use them. I will not
                    describe objects in detail (that is describe all their methods and fields) but try
                    to concentrate on describing the relationship between objects and their purpose. For an
                    in depth description for each individual object please refer to the JavaDoc.
                </p>
                <div class="teidiv2" id="chap_objectModel_Time"><h4><a name="chap_objectModel_Time"></a>2.2.1. Time</h4>
                    
                    <p><a name="id90461"><!--anchor--></a>
                        Although Gaboto does not force you to model time, it is one of its key features. Before we can start to describe
                        any of the "Gaboto classes" we have to get to know the two main classes that are used
                        througout Gaboto to work with time.
                    </p>
                    <a name="Note1"><!--anchor--></a> [Note: 
                        For more examples on the usage of TimeInstant and TimeSpan, have a look at the unit tests:
                        TestTimeSpan.java and TestTimeInstant.java in org.oucs.gaboto.test.classes.
                    ]
                    <div class="teidiv3" id="body.1_div.2_div.2_div.1_div.1"><h5><a name="body.1_div.2_div.2_div.1_div.1"></a>2.2.1.1. TimeInstant</h5>
                        
                        <p><a name="id90477"><!--anchor--></a>
                            TimeInstant is used to describe a specific point in time. It is able to work with
                            a resolution upto days<a name="Note2"><!--anchor--></a> [Note: The resolution might be refined in future versions.], 
                            although, if uncertain, Gaboto is also able to handle time instants
                            that are not exactly specified. We need this functionality in order to be able to record
                            events that we knew took place in a certain year, but we neither know the month nor the day.
                        </p>
                        
                        <div class="teidiv4" id="body.1_div.2_div.2_div.1_div.1_div.1"><h6><a name="body.1_div.2_div.2_div.1_div.1_div.1"></a>2.2.1.1.1. Examples</h6>
                            
                            <div class="p"><a name="id90499"><!--anchor--></a>
                                Creating new time instants:
                                <div class="pre_eg cdata">
                                    
    TimeInstant ti1 = new TimeInstant(200,8,10);
    
    //September 12th, 567
    TimeInstant ti2 = new TimeInstant(567,8,11);
    
    // March 2nd, 200
    TimeInstant ti3 = new TimeInstant(200,2,1);
    
    // April, 200
    TimeInstant ti4 = new TimeInstant(200,3,null);
    
    // year 200
    TimeInstant ti5 = new TimeInstant(200,null,null);
                                    
                                </div>
                            </div>
                            
                            <div class="p"><a name="id90508"><!--anchor--></a>
                                Comparing time instants:
                                <div class="pre_eg cdata">
                                    
    int i = ti1.compareTo(ti2);
    System.out.println(i);
    // Result: This prints out -1, since t1 is earlier than t2.
    
    boolean eq = t4.equals(t5);
    System.out.println(eq ? "true" : "false");
    // Result: Prints out false. The two instants are not the same.
    
    boolean eq2 = t4.aboutTheSame(t5);
    System.out.println(eq2 ? "true" : "false");
    // Result: Prints out true. The two instants are roughly the same.
                                    
                                </div>
                            </div>
                        </div>
                            
                    </div>
                    
                    <div class="teidiv3" id="body.1_div.2_div.2_div.1_div.2"><h5><a name="body.1_div.2_div.2_div.1_div.2"></a>2.2.1.2. TimeSpan</h5>
                        
                        <p><a name="id90524"><!--anchor--></a>
                            TimeSpan is used to describe a time span. Since <a class="link_ref" href="http://www.w3.org/TR/owl-time/" target="_top" title="time-owl">time-owl</a>,
                            the ontology we use to describe the time dimension uses a start date and a duration to describe
                            a time span rather than a start date and an end date, TimeSpan follows the same concept. However,
                            it offers methods to convert one form to another, i.e. you can create a TimeSpan object from a
                            start and an end date or ask a TimeSpan object to return its start or end date.
                        </p>
                        <a name="Note3"><!--anchor--></a> [Note: 
                            Time spans can, as well as time instants be underspecified. However, if you do not specify
                            a month for its start date you may not specify a month for the duration.
                        ]
                        <a name="Note4"><!--anchor--></a> [Note: 
                            Time spans do not have to have a defined end date. If a TimeSpan object is created without
                            any specification for its duration, Gaboto interprets the TimeSpan as being unbound.
                        ]
    
                        <div class="teidiv4" id="body.1_div.2_div.2_div.1_div.2_div.1"><h6><a name="body.1_div.2_div.2_div.1_div.2_div.1"></a>2.2.1.2.1. Examples</h6>
                            
                            <div class="p"><a name="id90554"><!--anchor--></a>
                                Creating new time spans:
                                <div class="pre_eg cdata">
                                
    // begin: 100-04-11, lasts: 200 years, 6 months and 8 days.
    TimeSpan ts0 = new TimeSpan(100,3,10,200,6,8);
    
    // begin 1802, April, lasts: 200 years and 6 months
    TimeSpan ts1 = new TimeSpan(1802,3,null,200,6,null);
    
    // begin 1850-12-13, lasts: 100 years and 6 months
    TimeSpan ts2 = new TimeSpan(1850,11,12,100,6,0);
                                
                                </div>
                                
                                Comparing time spans:
                                <div class="pre_eg cdata">
                                    
    System.out.println( ts0.equals(ts1) ? "true" : "false" );
    // Result: false
    
    System.out.println( ts1.contains(ts2) ? "true" : "false" );
    // Result: true
                                    
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="teidiv2" id="chap_objectModel_GabotoLibrary"><h4><a name="chap_objectModel_GabotoLibrary"></a>2.2.2. GabotoLibrary</h4>
                    
                    <p><a name="id90581"><!--anchor--></a>
                        The GabotoLibrary is used to initialize Gaboto. It also offers methods to generate the specific Gaboto
                        java classes from a configuration file.
                    </p>
                </div>
                <div class="teidiv2" id="chap_objectModel_Gaboto"><h4><a name="chap_objectModel_Gaboto"></a>2.2.3. Gaboto</h4>
                    
                    <p><a name="id90598"><!--anchor--></a>
                        The Gaboto object is your gateway to the underlying data. It provides low-level methods to directly
                        add or remove RDF triples from the graphs but also offers methods to work with high-level 
                        Java objects such as GabotoEntities (see <a class="link_ptr" href="#chap_objectModel_GabotoEntity" title="GabotoEntity">2.2.5. GabotoEntity</a>) or
                        GabotoTimeBasedEntities (see <a class="link_ptr" href="#chap_objectModel_GabotoTimeBasedEntity" title="GabotoTimeBasedEntity">2.2.7. GabotoTimeBasedEntity</a>). 
                    </p>
                    <div class="p"><a name="id90617"><!--anchor--></a>
                        Besides adding and changing data, the Gaboto object allows you to perform simple queries
                        (e.g. does entity x exist) and is able to create snapshots 
                        (see <a class="link_ptr" href="#chap_objectModel_GabotoSnapshot" title="GabotoSnapshot">2.2.4. GabotoSnapshot</a>). Snapshots are a projection of parts of
                        the data to one flat RDF Graph which is much easier to query than data distributed over various
                        named graphs. The snapshot, containing all the data that was valid at some point in 1900 could, for example be
                        generated like this:
                        <div class="pre_eg cdata">
                            
    Gaboto gaboto = GabotoFactory.getInMemoryGaboto();
    GabotoSnapshot snap = gaboto.getSnapshot(new TimeInstant(1900, null, null));
                            
                        </div>
                    </div>
                    
                    <div class="teidiv3" id="body.1_div.2_div.2_div.3_div.1"><h5><a name="body.1_div.2_div.2_div.3_div.1"></a>2.2.3.1. Instantiating Gaboto Objects</h5>
                        
                        <div class="p"><a name="id90655"><!--anchor--></a>
                            Gaboto objects cannot be instantiated directly. The <strong>GabotoFactory</strong> object
                            has to be used instead. It provides methods to create three different types of Gaboto
                            objects:
                            <dl><dt><a name="index.xml-item-id90673"><!--anchor--></a><a name="index.xml-label-id90669"><!--anchor--></a>Persistent Gaboto</dt><dd>
                                    The resulting Gaboto object uses a database backend to store its data. However,
                                    this comes at the cost of performance, which is why this object should not be used
                                    to query the data, but only for updates.
                                </dd><dt><a name="index.xml-item-id90687"><!--anchor--></a><a name="index.xml-label-id90683"><!--anchor--></a>In-Memory Gaboto</dt><dd>
                                    The in-memory Gaboto object keeps all data in an in-memory store. It is linked to
                                    the persistent Gaboto object and informed about any changes in the dataset. It should
                                    therefore not be used to change data but only for query operations.
                                </dd><dt><a name="index.xml-item-id90702"><!--anchor--></a><a name="index.xml-label-id90698"><!--anchor--></a>Empty In-Memory Gaboto</dt><dd>
                                    The empty in-memory Gaboto can be used for testing. Since it is not linked to the persistent
                                    object any changes to this Gaboto model will not be persistent (unless of course you use
                                    one of the provided serialization methods).
                                </dd></dl>
                        </div>
                    </div>
                </div>
                
                <div class="teidiv2" id="chap_objectModel_GabotoSnapshot"><h4><a name="chap_objectModel_GabotoSnapshot"></a>2.2.4. GabotoSnapshot</h4>
                    
                    <p><a name="id90722"><!--anchor--></a>
                        The GabotoSnapshot is a wrapper around a projection of parts of the data in the Gaboto system
                        from multiple RDF Graphs into one. GabotoSnapshots can then be used to more easily query the
                        now flat RDF Graph or to create an internal model (see <a class="link_ptr" href="#chap_objectModel_GabotoEntity" title="GabotoEntity">2.2.5. GabotoEntity</a>
                        and <a class="link_ptr" href="#chap_objectModel_GabotoEntityPool" title="GabotoEntityPool">2.2.6. GabotoEntityPool</a>). 
                    </p>
                    <p><a name="id90740"><!--anchor--></a>
                        GabotoSnapshots can be created using an <a class="link_ref" href="#chap_objectModel_Gaboto" title="Gaboto">Gaboto object</a>.
                    </p>
                </div>
                
                <div class="teidiv2" id="chap_objectModel_GabotoEntity"><h4><a name="chap_objectModel_GabotoEntity"></a>2.2.5. GabotoEntity</h4>
                    
                    <p><a name="id90762"><!--anchor--></a>
                        Gaboto objects are the representation of the objects in your system in Java at a certain point in
                        time. Gaboto will generate the necessary classes automatically from the configuration file. The
                        GabotoEntity class is the common base class. In the case of OxPoints we are talking about
                        Colleges, Units and Buildings and Gaboto provides the representation of these objects in Java. 
                    </p>
                    <p><a name="id90766"><!--anchor--></a>
                        GabotoEntities represent the state of an entity at a given point in time (or time span), i.e. all its
                        properties are set to the values that hold at that particular point in time (or time span). 
                        
                        For now, we will concentrate on using existing objects. We will learn more about the implementation
                        details in <a class="link_ptr" href="part_configuring" target="_top" title=""><span>part_configuring</span></a>.
                    </p>
                    <div class="teidiv3" id="body.1_div.2_div.2_div.5_div.1"><h5><a name="body.1_div.2_div.2_div.5_div.1"></a>2.2.5.1. Examples</h5>
                        
                        <div class="p"><a name="id90786"><!--anchor--></a>
                            GabotoEntities are first-class Java objects. In this case we are creating a new Building
                            (Building is one of the defined objects in OxPoints):
                            <div class="pre_eg cdata">
                                
    Building b = new Building();
    b.setURI("someURI");
    b.setTimeSpan(new TimeSpan(200,0,0));
    b.setName("foo");
    
    assert(b.getName().equals("foo"));
    assert(b.getTimeSpan.contains(new TimeSpan(300,0,0,100,0,0)));
                                
                            </div>
                        </div>
                        <div class="p"><a name="id90797"><!--anchor--></a>
                            You can store entities in Gaboto using the <a class="link_ref" href="#chap_objectModel_Gaboto" title="Gaboto">Gaboto object</a>:
                            <div class="pre_eg cdata">
                                
    Gaboto gaboto = GabotoFactory.getPersistentGaboto();
    gaboto.add(b);
                                
                            </div>
                        </div>
                        
                        <div class="p"><a name="id90821"><!--anchor--></a>
                            You can load entities from Gaboto using the <a class="link_ref" href="#chap_objectModel_Gaboto" title="Gaboto">Gaboto object</a>:
                            <a name="Note5"><!--anchor--></a> [Note: 
                                For any query operation an in-memory Gaboto should be used.
                            ]
                            <div class="pre_eg cdata">
                               
    Gaboto gaboto_m = GabotoFactory.getInMemoryGaboto();
    Building b1 = (Building) gaboto_m.getEntity(uri, new TimeInstant(600,0,0));
                                
                            </div>
                            
                        </div>
                        <div class="p"><a name="id90846"><!--anchor--></a>
                            Besides the type safe get and set mehtods, GabotoEntities offer a range of generic methods
                            for querying for properties:
                            <div class="pre_eg cdata">
                                
    // lets assume we have an entity called entity
    // GabotoEntity entity = this entity came from somewhere
    
    // let's try to find the title property described by DC:title
    String title = entity.getPropertyValue(DC.title_URI);
    System.out.println(title);
                                
                            </div>
                        </div>
                    </div>
                    
                </div>
                
                <div class="teidiv2" id="chap_objectModel_GabotoEntityPool"><h4><a name="chap_objectModel_GabotoEntityPool"></a>2.2.6. GabotoEntityPool</h4>
                    
                    <p><a name="id90866"><!--anchor--></a>
                        The GabotoEntityPool is a collection of <a class="link_ref" href="#chap_objectModel_GabotoEntity" title="GabotoEntity">GabotoEntities</a> that
                        you want to group together. You can either create an entity pool by adding entities by hand, or by parsing
                        an <a class="link_ref" href="#chap_objectModel_GabotoSnapshot" title="GabotoSnapshot">GabotoSnapshot</a> (or a Jena Model) and automatically
                        extracting entities from the specified source. Simple rules and filters can be specified to guide the
                        creation process. 
                    </p>
                    <p><a name="id90889"><!--anchor--></a>
                        Entity pools can then be used to do more work with the extracted entities or they can be automatically
                        transformed into different output formats (such as RDF or KML). For most queries it will be sufficient
                        to create an entity pool, containing all the entities that fulfil the query's requirements and then
                        to transform the resulting pool into whatever output format the user requested.
                    </p> 
                    <div class="teidiv3" id="body.1_div.2_div.2_div.6_div.1"><h5><a name="body.1_div.2_div.2_div.6_div.1"></a>2.2.6.1. Examples</h5>
                        
                        <div class="p"><a name="id90898"><!--anchor--></a>
                        Creating an entity pool containing all Colleges that currently exist:
                        <div class="pre_eg cdata">
                            
    Gaboto gaboto = GabotoFactory.getInMemoryGaboto();
    
    // create snapshot
    GabotoSnapshot snap = gaboto.getSnapshot(TimeInstant.now());
    
    // configure creation
    GabotoEntityPoolConfiguration config = new GabotoEntityPoolConfiguration(snap);
    config.addAcceptedType(OxPointsVocab.College_URI);
    
    // create entity pool
    GabotoEntityPool pool = GabotoEntityPool.createFrom(config);
    
    // transform to KML
    String kml = new KMLPoolTransformer().transform(pool);
                            
                        </div>
                        </div>
                        <p><a name="id90907"><!--anchor--></a>
                            In the above example, we create an entity pool through a <strong>GabotoEntityPoolConfiguration</strong> object. 
                            This configuration object offers 
                            various properties to guide the pool's creation process. For a detailed reference
                            refer to the GabotoEntityPoolConfiguration's JavaDoc. We will also tackle more examples
                            in <a class="link_ptr" href="#chap_query" title="Querying Gaboto">2.3. Querying Gaboto</a>.
                        </p>
                        <div class="p"><a name="id90925"><!--anchor--></a>
                            Using <strong>EntityFilters</strong> to find colleges near OUCS:
                            <div class="pre_eg cdata">
                                
    // define some constants
	final double max_distance = 0.002;
	final double lat_oucs = 51.760010;
	final double long_oucs = -1.260350;

    // create gaboto object
    Gaboto gaboto = GabotoFactory.getInMemoryGaboto();

	// create snapshot
	GabotoSnapshot snap = gaboto.getSnapshot(TimeInstant.now());

	// configure creation
	GabotoEntityPoolConfiguration config = new GabotoEntityPoolConfiguration(snap);
	config.addAcceptedType(OxPointsVocab.College_URI);

	// add filter
	config.addEntityFilter(new EntityFilter(){
	    	
		@Override
		public boolean filterEntity(GabotoEntity entity) {
			College col = (College) entity;
	    	
	    	// reject if no primary place is set
	    	if(null == col.getPrimaryPlace())
	    		return false;
	    	
	    	// load location
	    	Location loc = col.getPrimaryPlace().getLocation();
	    	
	    	// reject if no location is set
	    	if(null == loc)
	    		return false;
	    	
			double lat_diff = loc.getLatitude() - lat_oucs;
			double long_diff = loc.getLongitude() - long_oucs;
			double distance = Math.sqrt(lat_diff*lat_diff + long_diff*long_diff);

	    	// if distance is small enough, allow entity to pass.
	    	if(distance &lt; max_distance)
	    		return true;
	    	
	    	// reject by default
	    	return false;
		}
	});
	    	
	// create entity pool
	GabotoEntityPool pool = GabotoEntityPool.createFrom(config);

	// transform to KML
	String kml = new KMLPoolTransformer().transform(pool);
	
	// output kml to console
	System.out.println(kml);
                                
                            </div>
                        </div>
                        <p><a name="id90938"><!--anchor--></a>
                            EntityFilters are a powerful tool to select the entities that are added to the 
                            entity pool. However, since the filters can only be executed after an entity
                            was instantiated, they do not provide a very good performance. They should therefore
                            be used with care. We will learn more about this in <a class="link_ptr" href="#chap_query" title="Querying Gaboto">2.3. Querying Gaboto</a>.
                        </p>
                    </div>
                </div>
                
                
                <div class="teidiv2" id="chap_objectModel_GabotoTimeBasedEntity"><h4><a name="chap_objectModel_GabotoTimeBasedEntity"></a>2.2.7. GabotoTimeBasedEntity</h4>
                    
                    <p><a name="id90966"><!--anchor--></a>
                        <a class="link_ref" href="#chap_objectModel_GabotoEntity" title="GabotoEntity">GabotoEntities</a> are the Java representation
                        of an Gaboto object with fixed attributes as it existed at a given point in time (or time span).
                        <strong>GabotoTimeBasedEntity</strong> represents an object over its entire lifespan containing all the properties
                        and how they changed over time. The GabotoTimeBasedEntity can be used to iterate over the entity
                        as it changed over time and it provides an easy to use interface for adding and changing time bound
                        data.
                    </p>
                    <div class="teidiv3" id="body.1_div.2_div.2_div.7_div.1"><h5><a name="body.1_div.2_div.2_div.7_div.1"></a>2.2.7.1. Examples</h5>
                        
                        <div class="p"><a name="id90993"><!--anchor--></a>
                            Loading an entity and traversing over all changed versions:
                            <div class="pre_eg cdata">
                                
    Gaboto gaboto = GabotoFactory.getInMemoryGaboto();
	GabotoTimeBasedEntity entityTB = GabotoTimeBasedEntity.loadEntity("someBuildingsURI", gaboto);

	System.out.println(entityTB.getType()); 
	// prints Building, if the URI was indeed a Building's URI

	Iterator&lt;GabotoEntity&gt; it = entityTB.iterator();
	while(it.hasNext()){
	    Building b = (Building) it.next();
	    System.out.println("During " + b.getTimeSpan() + " " + b.getUri() + "'s name was: " + b.getName());
	}
                                
                            </div>
                        </div>
                        <div class="p"><a name="id91002"><!--anchor--></a>
                            Creating an GabotoTimeBasedEntity:
                            <div class="pre_eg cdata">
                                
    TimeSpan ts = new TimeSpan(500,0,0,500,10,10);
    GabotoTimeBasedEntity entityTB = new GabotoTimeBasedEntity(Building.class, TestUtils.generateRandomURI(), ts);
    entityTB.addProperty(DC.title, name1);
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="teidiv1" id="chap_query"><h3><a name="chap_query"></a>2.3. Querying Gaboto</h3>
                
                <p><a name="id91022"><!--anchor--></a>
                    This chapter describes different approaches to query the Gaboto system presenting
                    their advantages and disadvantages. Since Gaboto is still in a very early phase of 
                    development and we don't have any reliable experiences with the performance of the different query
                    types described in this chapter, we can only present assumptions. 
                </p>
            
                <div class="teidiv2" id="body.1_div.2_div.3_div.1"><h4><a name="body.1_div.2_div.3_div.1"></a>2.3.1. Different Query Types</h4>
                    
                    <p><a name="id91038"><!--anchor--></a>
                        There are many different ways in which you can query data from the Gaboto system. You
                        can use high-level objects such as the <a class="link_ref" href="#chap_objectModel_GabotoEntityPool" title="GabotoEntityPool">GabotoEntityPool</a>
                        or use low-level methods like SPARQL.
                    </p>
                    <div class="teidiv3" id="body.1_div.2_div.3_div.1_div.1"><h5><a name="body.1_div.2_div.3_div.1_div.1"></a>2.3.1.1. The Gaboto Object Model</h5>
                        
                        <p><a name="id91058"><!--anchor--></a>
                            Using the Gaboto object model, you are presented with a rich high-level
                            easy to use interface to the data. The downside to this approach is that, 
                            high-level approaches always perform (slightly) worse than optimized low-level
                            approaches. However, if you follow certain guidelines when working with the
                            Gaboto object model, the performance disadvantages should not be too severe
                            and the advantages (maintainability, time for development, etc.) should outweigh
                            the disadvantages.
                            <a name="Note6"><!--anchor--></a> [Note: 
                                While it is rather difficult to write bad SQL, that cannot be properly optimized
                                by today's query optimizers, it is very easy to write bad SPARQL queries. The algorithms
                                used in Jena to optimize queries are currently still far from being able to produce 
                                the results their SQL counterparts are able of.
                            ]
                        </p>
                        
                        <div class="teidiv4" id="body.1_div.2_div.3_div.1_div.1_div.1"><h6><a name="body.1_div.2_div.3_div.1_div.1_div.1"></a>2.3.1.1.1. Point Queries</h6>
                            
                            <div class="p"><a name="id91077"><!--anchor--></a>
                                If we want to get information about a specific entity we can simply
                                ask the <a class="link_ref" href="#chap_objectModel_Gaboto" title="Gaboto">Gaboto object</a> for it.
                                We may want to get the details of the entity at a specific point in time or we may be interested in getting the details of how it has changed over time.
                                <div class="pre_eg cdata">
                                    
    // get Gaboto object
    Gaboto gaboto = GabotoFactory.getInMemoryGaboto();
    
    // get entity at a specific point in time
    GabotoEntity entity = gaboto.getEntity("entityURI", TimeInstant.now());
    
    // or instead get details about how the entity has changed over time
    GabotoTimeBasedEntity entityTB = gaboto.getEntityOverTime("entityURI");
                                    
                                </div>
                            </div>
                            <p><a name="id91097"><!--anchor--></a>
                                These objects can then be used to ascertain the information you are interested in.
                            </p>
                            <div class="teidiv5" id="body.1_div.2_div.3_div.1_div.1_div.1_div.1"><h7><a name="body.1_div.2_div.3_div.1_div.1_div.1_div.1"></a>2.3.1.1.1.1. Finding Entities</h7>
                                
                                <p><a name="id91109"><!--anchor--></a>
                                    To run point queries you first need to find the URIs of the entities in question.
                                    <a class="link_ref" href="#chap_objectModel_Gaboto" title="Gaboto">Gaboto</a> and 
                                    <a class="link_ref" href="#chap_objectModel_GabotoSnapshot" title="GabotoSnapshot">GabotoSnapshot</a> provide helper methods
                                    for this task.
                                </p>
                                <div class="teidiv6" id="body.1_div.2_div.3_div.1_div.1_div.1_div.1_div.1"><h8><a name="body.1_div.2_div.3_div.1_div.1_div.1_div.1_div.1"></a>2.3.1.1.1.1.1. Finding Entities in Snapshots</h8>
                                    
                                    <div class="p"><a name="id91136"><!--anchor--></a>
                                        If you already have a snapshot that you are working with, you can create entities
                                        by calling the method <strong>loadEntitiesWithProperty</strong>. This allows you to easily
                                        create entity pools that contain only those entities that have a specific property
                                        or entities that have that property with a specific value.
                                        <div class="pre_eg cdata">
                                            
    // load snapshot
    GabotoSnapshot snap = gaboto.getSnapshot(TimeInstant.now());
    
    // get all entities that have the title "Somerville College"
    GabotoEntityPool pool = snap.loadEntitiesWithProperty(DC.title, "Somerville College");                                            
                                            
                                        </div>
                                    </div>
                                    <p><a name="id91155"><!--anchor--></a>
                                        In RDF properties are described using URIs. The presented methods therefore take a URI 
                                        or a Jena abstraction called <em>Property</em> as input for defining the property you
                                        are looking for.
                                    </p>
                                </div>
                                <div class="teidiv6" id="body.1_div.2_div.3_div.1_div.1_div.1_div.1_div.2"><h8><a name="body.1_div.2_div.3_div.1_div.1_div.1_div.1_div.2"></a>2.3.1.1.1.1.2. Finding Entities in the Gaboto Object</h8>
                                    
                                    <p><a name="id91174"><!--anchor--></a>
                                        The <a class="link_ref" href="#chap_objectModel_Gaboto" title="Gaboto">Gaboto</a> object provides two mechanisms to
                                        find entities. You can either ask for a set of URIs (<em>getEntityURIsFor</em>) or directly create
                                        <a class="link_ref" href="#chap_objectModel_GabotoTimeBasedEntity" title="GabotoTimeBasedEntity">GabotoTimeBasedEntities</a> (loadEntitiesOverTimeWithProperty).
                                    </p>
                                    <div class="p"><a name="id91202"><!--anchor--></a>
                                        This example lists all URIs of entities that have a title:
                                        <div class="pre_eg cdata">
                                            
    Gaboto gaboto = GabotoFactory.getInMemoryGaboto();
    		
    // get list of URIs
    Collection&lt;String&gt; uris = gaboto.getEntityURIsFor(DC.title);                                            
    for(String uri : uris)
        System.out.println(uri);
                                            
                                        </div>
                                    </div>
                                    <div class="p"><a name="id91212"><!--anchor--></a>
                                        Get time based entities that have the title "Somerville College":
                                        <div class="pre_eg cdata">
                                            
Gaboto gaboto = GabotoFactory.getInMemoryGaboto();
		
// get entities
Collection&lt;GabotoTimeBasedEntity&gt; tbEntities = gaboto.loadEntitiesOverTimeWithProperty(DC.title, "Somerville College");
                                            
                                        </div>
                                        Note: although there is likely to be 
                                        only one element in the collection 
                                        when the title is "Somerville College",
                                        the collection will have many elements
                                        if the title is "Lodge".
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="teidiv4" id="body.1_div.2_div.3_div.1_div.1_div.2"><h6><a name="body.1_div.2_div.3_div.1_div.1_div.2"></a>2.3.1.1.2. GabotoEntityPool - Complex Queries</h6>
                            
                            <p><a name="id91237"><!--anchor--></a>
                                The <a class="link_ref" href="#chap_objectModel_GabotoEntityPool" title="GabotoEntityPool">GabotoEntityPool</a> offers many configuration
                                properties to guide its creation process. These are outsourced to the GabotoEntityPoolConfiguration object
                                that is then used as input for GabotoEntityPool's <strong>createFrom</strong> method. For a complete description
                                of all configuration options, refer to the JavaDoc of GabotoEntityPoolConfiguration.
                            </p>
                            <div class="teidiv5" id="body.1_div.2_div.3_div.1_div.1_div.2_div.1"><h7><a name="body.1_div.2_div.3_div.1_div.1_div.2_div.1"></a>2.3.1.1.2.1. Types</h7>
                                
                                <p><a name="id91263"><!--anchor--></a>
                                    With the methods <strong>addAcceptedType</strong>, <strong>setAcceptedTypes</strong>, <strong>addUnacceptedType</strong> and <strong>setUnacceptedTypes</strong>
                                    you can control which types of entity are to be added to the pool. By default all types are accepted.
                                </p>
                                <div class="p"><a name="id91285"><!--anchor--></a>
                                    Create pool that only contains colleges:
                                    <div class="pre_eg cdata">
                                        
	GabotoEntityPoolConfiguration config = new GabotoEntityPoolConfiguration(snapshot);
    config.addAcceptedType(OxPointsVocab.College_URI);
    GabotoEntityPool pool = GabotoEntityPool.createFrom(config);
                                        
                                    </div>
                                </div>
                                <div class="p"><a name="id91295"><!--anchor--></a>
                                    Create pool that contains everything but colleges:
                                    <div class="pre_eg cdata">
                                        
    GabotoEntityPoolConfiguration config = new GabotoEntityPoolConfiguration(snapshot);
    config.addUnacceptedType(OxPointsVocab.College_URI);
    GabotoEntityPool pool = GabotoEntityPool.createFrom(config);
                                        
                                    </div>
                                </div>
                            </div>
                            <div class="teidiv5" id="body.1_div.2_div.3_div.1_div.1_div.2_div.2"><h7><a name="body.1_div.2_div.3_div.1_div.1_div.2_div.2"></a>2.3.1.1.2.2. Resources</h7>
                                
                                <p><a name="id91310"><!--anchor--></a>
                                    If you only want to transform some specific RDF resources into GabotoEntities, then you
                                    can use the methods <strong>addResource</strong> and <strong>setResources</strong> to define which resources
                                    you want transformed. By default, entities are created for all resources that can be found. 
                                </p>
                                <p><a name="id91327"><!--anchor--></a>
                                    A list of resources can be obtained by either using Jena's API (use GabotoSnapshot.getModel()
                                    to obtain the underlying Jena Model of a snapshot) or by running SPARQL queries (see <a class="link_ptr" href="#chap_query_sparql" title="SPARQL Queries">2.3.1.2. SPARQL Queries</a>).
                                </p>
                            </div>
                            <div class="teidiv5" id="chap_query_forceCreation"><h7><a name="chap_query_forceCreation"></a>2.3.1.1.2.3. Dereferencing of Objects</h7>
                                
                                <p><a name="id91350"><!--anchor--></a>
                                    Objects in an Gaboto system usually have relationships with other objects. In OxPoints a College
                                    has, for example, a primary building. These relationships have to be somehow dereferenced when creating
                                    GabotoEntities during a pool's creation. The default method is called <strong>lazy dereferencing</strong>, which
                                    means, that relationships are only dereferenced if a relationship is actually accessed. If you, for example,
                                    created a pool containing College objects, the referenced Building objects (the college's primary buildings)
                                    will only be created if your program accesses the college's primary building property. 
                                </p>
                                <p><a name="id91371"><!--anchor--></a>
                                    If you know that you will need full dereferncing (this also includes references of references of
                                    references ...), you can set the parameter <em>enableLazyDereferencing(false)</em>.
                                </p>
                            </div>
                            <div class="teidiv5" id="chap_query_addReferencedEntities"><h7><a name="chap_query_addReferencedEntities"></a>2.3.1.1.2.4. Add Referenced Entities to Pool</h7>
                                
                                <p><a name="id91395"><!--anchor--></a>
                                    Defines whether referenced entities are added to the pool directly. By default referenced objects are
                                    not added directly, which means that if you ask the pool to give you a collection of all its entities
                                    these will not be present. 
                                </p>
                            </div>
                            <div class="teidiv5" id="chap_query_entityFilters"><h7><a name="chap_query_entityFilters"></a>2.3.1.1.2.5. Entity Filters</h7>
                                
                                <p><a name="id91415"><!--anchor--></a>
                                    Entity Filters are called after an entity was loaded and before it was added to the pool.
                                    It will only be added to the pool if it passes all entity filters. Entity filters are an
                                    easy way to guide the pool creation, but since entities are first loaded they do not provide
                                    a very good performance.
                                </p>
                                <div class="p"><a name="id91426"><!--anchor--></a>
                                    Simulate accepted types parameter with entity filters (only accept colleges):
                                    <div class="pre_eg cdata">
                                        
    Gaboto gaboto = GabotoFactory.getInMemoryGaboto();
    GabotoSnapshot snap = gaboto.getSnapshot(TimeInstant.now());
		    
    // configure pool
    GabotoEntityPoolConfiguration config = new GabotoEntityPoolConfiguration(snap);
    
    // add entity filter 
    config.addEntityFilter(new EntityFilter(){
        @Override
    	public boolean filterEntity(GabotoEntity entity) {
    		if(!(entity instanceof College))
    			return false; // reject, if entity is not a college
    		return true; // pass
    	}
    });
                                        
                                        
                                    </div>
                                </div>
                                <div class="p"><a name="id91436"><!--anchor--></a>
                                    Simulate unaccepted types (accept everything but colleges):
                                    <div class="pre_eg cdata">
                                        
    Gaboto gaboto = GabotoFactory.getInMemoryGaboto();
	GabotoSnapshot snap = gaboto.getSnapshot(TimeInstant.now());

	// configure pool
	GabotoEntityPoolConfiguration config = new GabotoEntityPoolConfiguration(snap);

	// add entity filter 
	config.addEntityFilter(new EntityFilter(){

	    // this filter only applies to entities of type College
		@Override
		public Class&lt;? extends GabotoEntity&gt; appliesTo(){
			return College.class;
		}
		
		@Override
		public boolean filterEntity(GabotoEntity entity) {
			// reject everything
			return false;
		}
	});                             
                                        
                                    </div>
                                </div>
                            </div>
                            <div class="teidiv5" id="body.1_div.2_div.3_div.1_div.1_div.2_div.6"><h7><a name="body.1_div.2_div.3_div.1_div.1_div.2_div.6"></a>2.3.1.1.2.6. Resource Filters</h7>
                                
                                <p><a name="id91451"><!--anchor--></a>
                                    Resource Filters are called before an entity is loaded and work with Jena's <strong>Resource</strong> object.
                                    Since they are called a bit earlier in the creation process, they provide a better performance
                                    than <a class="link_ref" href="#chap_query_entityFilters" title="Entity Filters">Entity Filters</a>.
                                </p>
                                
                                <p><a name="id91470"><!--anchor--></a>
                                    The implementation is similar to <a class="link_ref" href="#chap_query_entityFilters" title="Entity Filters">Entity Filters</a>. A method <strong>appliesTo</strong>
                                    specifies to which entity types the filter will be applied. The filter method is called <strong>filterResource</strong>.
                                </p>
                                
                                <div class="p"><a name="id91492"><!--anchor--></a>
                                    Example: Find all colleges that do not have a title property with the value "Somerville College":
                                    <div class="pre_eg cdata">
                                        
    Gaboto gaboto = GabotoFactory.getInMemoryGaboto();
    GabotoEntityPoolConfiguration config = new GabotoEntityPoolConfiguration(snap);
	config.addAcceptedType(OxPointsVocab.College_URI);
	config.addResourceFilter(new ResourceFilter(){

	    @Override
	    public Class&lt;? extends GabotoEntity&gt; appliesTo(){
			return College.class; // unnecessary because of accepted types.
		}
		
		public boolean filterResource(Resource res){
		    // everything that is not somerville
		    return ! res.hasProperty(DC.title, "Somerville College");
		}

	});
	GabotoEntityPool pool = GabotoEntityPool.createFrom(config);                                       
                                        
                                    </div>
                                </div>
                                
                                <p><a name="id91504"><!--anchor--></a>
                                Note: the full name of the Resource class is com.hp.hpl.jena.rdf.model.Resource.
                                </p>
                                
                                <div class="teidiv6" id="body.1_div.2_div.3_div.1_div.1_div.2_div.6_div.1"><h8><a name="body.1_div.2_div.3_div.1_div.1_div.2_div.6_div.1"></a>2.3.1.1.2.6.1. Predefined Resource Filters</h8>
                                    
                                    <div class="p"><a name="id91517"><!--anchor--></a>
                                        <dl><dt><a name="index.xml-item-id91526"><!--anchor--></a><a name="index.xml-label-id91523"><!--anchor--></a>PropertyExistsFilter</dt><dd>Tests whether resources that apply have a specific property.</dd><dt><a name="index.xml-item-id91536"><!--anchor--></a><a name="index.xml-label-id91532"><!--anchor--></a>PropertyNotExistsFilter</dt><dd>Tests whether resources that apply do not have a specific property.</dd><dt><a name="index.xml-item-id91546"><!--anchor--></a><a name="index.xml-label-id91542"><!--anchor--></a>PropertyEqualsFilter</dt><dd>Tests whether resources that apply have a specific property with a given value.</dd><dt><a name="index.xml-item-id91556"><!--anchor--></a><a name="index.xml-label-id91552"><!--anchor--></a>PropertyNotEqualsFilter</dt><dd>Tests whether resources that apply have a specific property with a value unequal to a given value.</dd></dl>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                    <div class="teidiv3" id="chap_query_sparql"><h5><a name="chap_query_sparql"></a>2.3.1.2. SPARQL Queries</h5>
                        
                        <p><a name="id91578"><!--anchor--></a>
                            SPARQL is the W3C query language for querying RDF data. It is a read-only language
                            and uses a syntax somewhere in between SQL and Datalog. Basically there are 4 different
                            types of SPARQL queries. SELECT queries are similar to SQL SELECT. You specify a set
                            of variables and restrictions and the SPARQL engine goes off and tries to find bindings
                            for these variables that match the defined restrictions. CONSTRUCT queries enable you
                            to create a new RDF Graph, that can then be used for further processing. DESCRIBE queries
                            describe entire objects and ASK queries return a boolean, indicating whether or not
                            your query statement can be matched or not.
                        </p>
                        <p><a name="id91581"><!--anchor--></a>
                            For information about how to write SPARQL queries, have a look at the
                            <a class="link_ref" href="#chap_query_furtherReading" title="Further Reading">Further Reading section</a>.
                        </p>
                        
                        <p><a name="id91592"><!--anchor--></a>
                            The <a class="link_ref" href="#chap_objectModel_GabotoSnapshot" title="GabotoSnapshot">GabotoSnapshot</a> object offers methods
                            to easily run SPARQL queries. If you want to work directly with Jena's API, aks the snapshot for the
                            underlying Jena Model object (<em>getModel()</em>).
                        </p>
                        
                        <div class="teidiv4" id="body.1_div.2_div.3_div.1_div.2_div.1"><h6><a name="body.1_div.2_div.3_div.1_div.2_div.1"></a>2.3.1.2.1. Prefixes</h6>
                            
                            <div class="p"><a name="id91616"><!--anchor--></a>
                                To make query writing a bit easier, you can use the static method <strong> GabotoPredefinedQueries.getStandardPrefixes()</strong>
                                to create a set of prefixes for you, that can then be used in your query. 
                                <div class="pre_eg cdata">
                                    
    String query = GabotoPredefinedQueries.getStandardPrefixes(); 
    System.out.println(query);
    
    /* prints:
    PREFIX dc:&lt;http://purl.org/dc/elements/1.1/&gt;
    PREFIX rdf:&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
    PREFIX gaboto:&lt;http://ns.ox.ac.uk/namespace/gaboto/2009/03/owl#&gt;
    PREFIX data:&lt;http://ns.ox.ac.uk/namespaces/oxpoints/data/&gt;
    PREFIX rdfs:&lt;http://www.w3.org/2000/01/rdf-schema#&gt;
    PREFIX owl:&lt;http://www.w3.org/2002/07/owl#&gt;
    PREFIX xsd:&lt;http://www.w3.org/2001/XMLSchema&gt;
    PREFIX rdfcon:&lt;http://ns.ox.ac.uk/namespace/rdfcontext/2009/02/owl#&gt;
    PREFIX owl-time:&lt;http://www.w3.org/2006/time#&gt;
    PREFIX rdfg:&lt;http://www.w3.org/2004/03/trix/rdfg-1/&gt;
    PREFIX oxp:&lt;http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#&gt;
     */
                                     
                                </div>
                            </div>
                        </div>
                        <div class="teidiv4" id="body.1_div.2_div.3_div.1_div.2_div.2"><h6><a name="body.1_div.2_div.3_div.1_div.2_div.2"></a>2.3.1.2.2. SELECT Queries</h6>
                            
                            <div class="p"><a name="id91638"><!--anchor--></a>
                                Print the name of all resources in a snapshot.
                                <div class="pre_eg cdata">
                                    
    // load snapshot
    Gaboto gaboto = GabotoFactory.getInMemoryGaboto();
    GabotoSnapshot snap = gaboto.getSnapshot(TimeInstant.now());
    
    // build query
    String query = GabotoPredefinedQueries.getStandardPrefixes();
    query += "SELECT ?uri ?name WHERE { ?uri  dc:title  ?name . }";
    
    // execute SSELECT query
    snap.execSPARQLSelect(query, new QuerySolutionProcessorImpl(){
        public void processSolution(QuerySolution solution) {
    		System.out.println(solution.getResource("uri").getURI() + " has the name: " + solution.getLiteral("name").getValue());
    	}
    });                                
                                    
                                </div>
                            </div>
                        </div>
                        <div class="teidiv4" id="body.1_div.2_div.3_div.1_div.2_div.3"><h6><a name="body.1_div.2_div.3_div.1_div.2_div.3"></a>2.3.1.2.3. CONSTRUCT Queries</h6>
                            
                            <div class="p"><a name="id91653"><!--anchor--></a>
                                Create a new snapshot that contains all colleges that start with <strong>b</strong>:
                                <div class="pre_eg cdata">
                                    
    // load snapshot
    Gaboto gaboto = GabotoFactory.getInMemoryGaboto();
	GabotoSnapshot snap = gaboto.getSnapshot(TimeInstant.now());
	
    // build query
    String query = GabotoPredefinedQueries.getStandardPrefixes();
	query += "CONSTRUCT { ?a ?b ?c. } WHERE {\n" +
    		     "?a rdf:type oxp:College . \n" +
    		     "?a dc:title ?title . \n" +
    		     "FILTER regex(?title, \"^b\", \"i\") . \n" +
    		     "?a ?b ?c . \n" +
		     "}";           
		     
    // execute query
    GabotoSnapshot newSnapShot = snap.execSPARQLConstruct(query);
                                    
                                </div>
                                <a name="Note7"><!--anchor--></a> [Note: 
                                    If you use the newly created snapshot to create an entity pool, the primary buildings
                                    will cannot be dereferenced in the resulting College objects since they are not part of the snapshot.
                                    If you want to achieve this change the pool's snapshot:
                                    <div class="pre_eg cdata">
                                        
        // create resultPool from model
    	GabotoEntityPool resultPool = newSnapShot.buildEntityPool();
    	
    	// change snapshot
    	resultPool.setSnapshot(snap)       
                                        
                                    </div>
                                ]
                            </div>
                            
                        </div>
                        <div class="teidiv4" id="body.1_div.2_div.3_div.1_div.2_div.4"><h6><a name="body.1_div.2_div.3_div.1_div.2_div.4"></a>2.3.1.2.4. DESCRIBE Queries</h6>
                            
                            <div class="p"><a name="id91686"><!--anchor--></a>
                                Create a snaphsot that only contains colleges:
                                <div class="pre_eg cdata">
                                    
        // load snapshot
        Gaboto gaboto = GabotoFactory.getInMemoryGaboto();
    	GabotoSnapshot snap = gaboto.getSnapshot(TimeInstant.now());
    	
    	// build query
    	String query = GabotoPredefinedQueries.getStandardPrefixes();
    	query += "DESCRIBE ?x WHERE { ?x rdf:type oxp:College }";
    	
    	// create new snapshot
    	GabotoSnapshot describedSnap = snap.execSPARQLDescribe(query);
                                    
                                </div>
                            </div>
                        </div>
                        <div class="teidiv4" id="body.1_div.2_div.3_div.1_div.2_div.5"><h6><a name="body.1_div.2_div.3_div.1_div.2_div.5"></a>2.3.1.2.5. ASK Queries</h6>
                            
                            <div class="p"><a name="id91701"><!--anchor--></a> 
                                Ask a simple question:
                                <div class="pre_eg cdata">
                                    
        // load snapshot
        Gaboto gaboto = GabotoFactory.getInMemoryGaboto();
        GabotoSnapshot snap = gaboto.getSnapshot(TimeInstant.now());
        
        // build query
        String query = GabotoPredefinedQueries.getStandardPrefixes();
    	query += "ASK { data:abc123  dc:title  \"Classics Lending Library\" . }";
    	
    	// execute query
    	System.out.println( snap.execSPARQLAsk(query) ? "true" : "false" );
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="teidiv2" id="body.1_div.2_div.3_div.2"><h4><a name="body.1_div.2_div.3_div.2"></a>2.3.2. The GabotoQuery Interface</h4>
                    
                    <p><a name="id91718"><!--anchor--></a>
                        The <strong>GabotoQuery</strong> interface and especially its abstract implementation <strong>GabotoQueryImpl</strong>
                        are meant to provide a starting point for writing reusable queries that can be used to generate
                        different output formats. They provide an interface to the user to specify an output format and will 
                        handle the transformation to that format automatically. The only thing the creator has to worry about is how to get
                        the data s/he is interested in.
                    </p>
                    <div class="teidiv3" id="body.1_div.2_div.3_div.2_div.1"><h5><a name="body.1_div.2_div.3_div.2_div.1"></a>2.3.2.1. Using Existing Queries</h5>
                        
                        <div class="p"><a name="id91744"><!--anchor--></a>
                            Using an GabotoQuery object is really simple. Instantiate the object, configure it, call <strong>execute</strong>
                            and tell it what output format it should generate. If we wanted to have the RDF for all carparks
                            in the system in XML abbreviated form, we could use the <strong>ListOfTypedEntities</strong> query:
                            <div class="pre_eg cdata">
                                
    // get Gaboto object
    Gaboto gaboto = GabotoFactory.getInMemoryGaboto();
    
    // instantiate query
    GabotoQuery loteQuery = new ListOfTypedEntities(gaboto, OxPointsVocab.Carpark_URI, TimeInstant.now());
    
    // perform query and get output 
    String output = (String) loteQuery.execute(GabotoQuery.FORMAT_RDF_XML_ABBREV);
    
    // print output
    System.out.println(output);
    
    /**
    Result:
    &lt;rdf:RDF
        xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
        xmlns:dc="http://purl.org/dc/elements/1.1/"
        xmlns:j.0="http://www.opengis.net/gml/"
        xmlns:j.1="http://ns.ox.ac.uk/namespace/Gaboto/2009/02/owl#"&gt;
      &lt;j.1:Carpark rdf:about="http://ns.ox.ac.uk/namespaces/Gaboto/data/carpark/6ed58a8a"&gt;
        &lt;j.1:hasLocation&gt;
          &lt;j.0:Point&gt;
            &lt;j.0:pos&gt;51.75966716041378 -1.25807142865529&lt;/j.0:pos&gt;
          &lt;/j.0:Point&gt;
        &lt;/j.1:hasLocation&gt;
        &lt;dc:title&gt;Keble Triangle&lt;/dc:title&gt;
      &lt;/j.1:Carpark&gt;
      &lt;j.1:Carpark rdf:about="http://ns.ox.ac.uk/namespaces/Gaboto/data/carpark/88f2cd48"&gt;
        &lt;j.1:hasLocation&gt;
          &lt;j.0:Point&gt;
            &lt;j.0:pos&gt;51.76312928396877 -1.259968959743287&lt;/j.0:pos&gt;
          &lt;/j.0:Point&gt;
        &lt;/j.1:hasLocation&gt;
        &lt;dc:title&gt;Bevington Road&lt;/dc:title&gt;
      &lt;/j.1:Carpark&gt;
      .....
    &lt;/RDF&gt;
    */
                                
                            </div>
                        </div>
                        <div class="p"><a name="id91764"><!--anchor--></a>
                            For a list of all supported output formats you can call the <strong>getSupportedFormats</strong> method.
                            Currently there are generic transformations (we will have a look at these in detail
                            in <a class="link_ptr" href="#chap_extending_transformations" title="Output Transformation">4.2. Output Transformation</a>) available for the following formats:
                            <dl><dt><a name="index.xml-item-id91786"><!--anchor--></a><a name="index.xml-label-id91783"><!--anchor--></a>RDF</dt><dd>Various RDF formats are supported.</dd><dt><a name="index.xml-item-id91795"><!--anchor--></a><a name="index.xml-label-id91792"><!--anchor--></a>KML</dt><dd>Google's geospatial XML markup.</dd><dt><a name="index.xml-item-id91804"><!--anchor--></a><a name="index.xml-label-id91800"><!--anchor--></a>JSON</dt><dd>JavaScript Object Notation</dd><dt><a name="index.xml-item-id91812"><!--anchor--></a><a name="index.xml-label-id91809"><!--anchor--></a>Jena Model</dt><dd>A Jena Model object (see <a class="link_ptr" href="">??</a>).</dd><dt><a name="index.xml-item-id91825"><!--anchor--></a><a name="index.xml-label-id91821"><!--anchor--></a>Entity Pool</dt><dd>An <a class="link_ref" href="#chap_objectModel_GabotoEntityPool" title="GabotoEntityPool">GabotoEntityPool</a> object.</dd></dl>
                            
                        </div>
                    </div>
                    
                    <div class="teidiv3" id="body.1_div.2_div.3_div.2_div.2"><h5><a name="body.1_div.2_div.3_div.2_div.2"></a>2.3.2.2. Writing new custom queries</h5>
                        
                        <p><a name="id91844"><!--anchor--></a>
                            Let us now try writing a query that, given a number <strong>n</strong> and a title finds us the nearest
                            <strong>n</strong> Colleges to an entity with this title (at a given point in time). The sample implementation I will show you here
                            is not in any case optimized for speed but uses easy to understand highlevel methods to achieve its
                            goal.
                        </p>
                        <div class="p"><a name="id91861"><!--anchor--></a>
                            The first step is to create a subclass to GabotoQueryImpl and make it configurable
                            in the constructor. We also provide for set methods to set the two parameters title and number.
                            <div class="pre_eg cdata">
                                
public class CollegesNearEntity extends GabotoQueryImpl {

	private String title;
	private TimeInstant timeInstant;
	private int number;
	
	private GabotoSnapshot snapshot;
	
	private List&lt;College&gt; listOfColleges;
	
	public CollegesNearEntity(String title, int number, TimeInstant ti) throws GabotoException {
		super();
		this.title = title;
		this.timeInstant = ti;
		this.number = number;
	}
	
	public CollegesNearEntity(Gaboto gaboto, String title, int number, TimeInstant ti) throws GabotoException {
		super(gaboto);
		this.title = title;
		this.timeInstant = ti;
		this.number = number;
	}

	public void setTitle(String title) {
		this.title = title;
	}

	public void setNumber(int number) {
		this.number = number;
	}

	@Override
	protected void doPrepare() throws GabotoException {
		
	}
	
	@Override
	public int getResultType() {
		
	}

	@Override
	protected Object execute() throws GabotoException {
		
	}

}

                                
                            </div>
                            You should always provide a constructor with a Gaboto object and one without it (in this
                            case Gaboto tries to instantiate an in-memory Gaboto object).
                        </div>
                        <div class="p"><a name="id91877"><!--anchor--></a>
                            GabotoQueryImpl defines three abstract methods that we have to override:
                            <dl><dt><a name="index.xml-item-id91888"><!--anchor--></a><a name="index.xml-label-id91885"><!--anchor--></a>doPrepare</dt><dd>
                                    <strong>doPrepare</strong> should be used to perform tasks that only have to be done
                                    once, before the query can be executed. We will use this to create a snapshot and
                                    produce a list of all colleges.
                                </dd><dt><a name="index.xml-item-id91905"><!--anchor--></a><a name="index.xml-label-id91901"><!--anchor--></a>getResultType</dt><dd>
                                    Basically, there are two types of queries that you can write. You can either create 
                                    a Jena Model (for example using SPARQL) or low-level methods or you can create an GabotoEntityPool 
                                    that contains all the entities you are interested in. <strong>getResultType</strong> defines
                                    which kind of query you will write. The two possible return values are:
                                    <ul><li><a name="id91923"><!--anchor--></a>GabotoQueryImpl.RESULT_TYPE_ENTITY_POOL</li><li><a name="id91927"><!--anchor--></a>GabotoQueryImpl.RESULT_TYPE_MODEL</li></ul>
                                    In this case we will create an entity pool with the resulting <strong>n</strong> colleges.
                                </dd><dt><a name="index.xml-item-id91944"><!--anchor--></a><a name="index.xml-label-id91940"><!--anchor--></a>execute</dt><dd>
                                    In this method you perform the actual query. The return value is either an GabotoEntityPool or
                                    a Jena Model (depending on the return value of <strong>getResultType</strong>). 
                                </dd></dl>
                        </div>
                        <p><a name="id91957"><!--anchor--></a>
                            We can now implement the three methods.
                        </p>
                        
                        <div class="teidiv4" id="body.1_div.2_div.3_div.2_div.2_div.1"><h6><a name="body.1_div.2_div.3_div.2_div.2_div.1"></a>2.3.2.2.1. The resulting class</h6>
                            
                            <div class="p"><a name="id91968"><!--anchor--></a>
                                <div class="pre_eg cdata">
                                    
package org.oucs.gaboto.sample;

import java.util.ArrayList;
import java.util.Collections;
import java.util.Comparator;
import java.util.Iterator;
import java.util.List;

import org.oucs.gaboto.beans.Location;
import org.oucs.gaboto.entities.College;
import org.oucs.gaboto.entities.GabotoEntity;
import org.oucs.gaboto.entities.pool.GabotoEntityPool;
import org.oucs.gaboto.entities.pool.GabotoEntityPoolConfiguration;
import org.oucs.gaboto.exceptions.GabotoException;
import org.oucs.gaboto.model.Gaboto;
import org.oucs.gaboto.model.GabotoSnapshot;
import org.oucs.gaboto.model.query.GabotoQueryImpl;
import org.oucs.gaboto.timedim.TimeInstant;
import org.oucs.gaboto.vocabulary.OxPointsVocab;

import com.hp.hpl.jena.vocabulary.DC;
import com.hp.hpl.jena.vocabulary.DC_11;

public class CollegesNearEntity extends GabotoQueryImpl {

	private String title;
	private TimeInstant timeInstant;
	private int number;
	
	private GabotoSnapshot snapshot;
	
	private List&lt;College&gt; listOfColleges;
	
	public CollegesNearEntity(String title, int number, TimeInstant ti) throws GabotoException {
		super();
		this.title = title;
		this.timeInstant = ti;
		this.number = number;
	}
	
	public CollegesNearEntity(Gaboto gaboto, String title, int number, TimeInstant ti) throws GabotoException {
		super(gaboto);
		this.title = title;
		this.timeInstant = ti;
		this.number = number;
	}

	public void setTitle(String title) {
		this.title = title;
	}

	public void setNumber(int number) {
		this.number = number;
	}

	@Override
	protected void doPrepare() throws GabotoException {
		// create snapshot
		snapshot = getGaboto().getSnapshot(timeInstant);
		
		// get all colleges
		GabotoEntityPoolConfiguration config = new GabotoEntityPoolConfiguration(snapshot);
		config.addAcceptedType(OxPointsVocab.College_URI);
		GabotoEntityPool colleges = GabotoEntityPool.createFrom(config);
		
		// find colleges we are interested in
		listOfColleges = new ArrayList&lt;College&gt;();
		for(GabotoEntity en : colleges.getEntities()){
			// cast to college
			College col = (College) en;
			
			// get its location
			Location colLoc = (Location) col.getPropertyValue(OxPointsVocab.hasLocation);
			if(null == colLoc)
				continue;
			
			// add to results if not enough results yet
			listOfColleges.add(col);
		}
	}
	
	@Override
	public int getResultType() {
		return GabotoQueryImpl.RESULT_TYPE_ENTITY_POOL;
	}

	@Override
	protected Object execute() throws GabotoException {
		// find entity with name
		GabotoEntityPool entities = snapshot.loadEntitiesWithProperty(DC_11.title, title);
		Iterator&lt;GabotoEntity&gt; it = entities.getEntities().iterator();
		if(! it.hasNext())
			throw new IllegalArgumentException("There is no entity with that title.");
		GabotoEntity entity = it.next();
		
		// we do not know what kind of entity we have
		// but we are interested in its location. We
		// can get to this property, by calling its getPropertyValue
		// method.
		Location loc = (Location) entity.getPropertyValue(OxPointsVocab.hasLocation);
		if(null == loc)
			throw new IllegalArgumentException("The entity " + entity.getUri() + " does not have a location.");
		
		// store latitude and longitude
		final double lat = loc.getLatitude();
		final double _long = loc.getLongitude();
		
		// sort results
		Collections.sort(listOfColleges, new Comparator&lt;College&gt;(){

			public int compare(College c1, College c2) {
				// distance of college 1
				Location loc = (Location) c1.getPropertyValue(OxPointsVocab.hasLocation);
				double distX = Math.abs(lat - loc.getLatitude());
				double distY = Math.abs(_long - loc.getLongitude());
				double dis1 = Math.sqrt(distX*distX + distY*distY);
				
				// distance of college 2
				loc = (Location) c2.getPropertyValue(OxPointsVocab.hasLocation);
				distX = Math.abs(lat - loc.getLatitude());
				distY = Math.abs(_long - loc.getLongitude());
				double dis2 = Math.sqrt(distX*distX + distY*distY);
				
				if(dis1 &lt; dis2)
					return -1;
				else if(dis1 &gt; dis2)
					return 1;
				
				return 0;
			}
			
		});
		
		//create result pool
		GabotoEntityPool resultPool = new GabotoEntityPool(getGaboto(), snapshot);
		for(int i = 0; i &lt; number &amp;&amp; i &lt; listOfColleges.size(); i++)
			resultPool.addEntity(listOfColleges.get(i));
		
		return resultPool;
	}
}

                                 
                                    
                                </div>
                            </div>
                            <div class="p"><a name="id91975"><!--anchor--></a>
                                This query can now be used to provide results in many different formats:
                                <div class="pre_eg cdata">
                                    
    // create query object that uses in memory Gaboto
    GabotoQuery query = new CollegesNearEntity("Somerville College", 5, TimeInstant.now());
    String output = (String) query.execute(GabotoQuery.FORMAT_KML);
	System.out.println(output);
                                      
                                </div>
                                Resulting in:
                                <div class="pre">
<span class="element">&lt;<span class="elementname">kml</span> xmlns="http://www.opengis.net/kml/2.2"
&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">Document</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">Placemark</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">name</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½ï¿½&gt;</span>St Anne's College<span class="element">&lt;/<span class="elementname">name</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">Point</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">coordinates</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½ï¿½ï¿½&gt;</span>-1.262354850769043,51.76193031549332<span class="element">&lt;/<span class="elementname">coordinates</span>&gt;</span><span class="element">&lt;/<span class="elementname">Point</span>&gt;</span><span class="element">&lt;/<span class="elementname">Placemark</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">Placemark</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">name</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½ï¿½&gt;</span>Somerville College<span class="element">&lt;/<span class="elementname">name</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">Point</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">coordinates</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½ï¿½ï¿½&gt;</span>-1.2613785266876,51.75943345494568<span class="element">&lt;/<span class="elementname">coordinates</span>&gt;</span><span class="element">&lt;/<span class="elementname">Point</span>&gt;</span><span class="element">&lt;/<span class="elementname">Placemark</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">Placemark</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">name</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½ï¿½&gt;</span>Green Templeton College<span class="element">&lt;/<span class="elementname">name</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">Point</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">coordinates</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½ï¿½ï¿½&gt;</span>-1.262467503547,51.761257969688444<span class="element">&lt;/<span class="elementname">coordinates</span>&gt;</span><span class="element">&lt;/<span class="elementname">Point</span>&gt;</span><span class="element">&lt;/<span class="elementname">Placemark</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">Placemark</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">name</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½ï¿½&gt;</span>Regent's Park College<span class="element">&lt;/<span class="elementname">name</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">Point</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">coordinates</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½ï¿½ï¿½&gt;</span>-1.2606704235076904,51.75731499956544<span class="element">&lt;/<span class="elementname">coordinates</span>&gt;</span><span class="element">&lt;/<span class="elementname">Point</span>&gt;</span><span class="element">&lt;/<span class="elementname">Placemark</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">Placemark</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">name</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½ï¿½&gt;</span>St Benet's Hall<span class="element">&lt;/<span class="elementname">name</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">Point</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">coordinates</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½ï¿½ï¿½&gt;</span>-1.26084208488464,51.75807207653707<span class="element">&lt;/<span class="elementname">coordinates</span>&gt;</span><span class="element">&lt;/<span class="elementname">Point</span>&gt;</span><span class="element">&lt;/<span class="elementname">Placemark</span>&gt;</span><span class="element">&lt;/<span class="elementname">Document</span>&gt;</span><span class="element">&lt;/<span class="elementname">kml</span>&gt;</span></div>
	                            And:
    	                        <div class="pre_eg cdata">
    	                            
    	output = (String) query.execute(OxPointsQuery.FORMAT_RDF_XML_ABBREV);
    	System.out.println(output);    
    	                            
    	                        </div>
                                Resulting in:
                                <div class="pre">
<span class="element">&lt;<span class="elementname">RDF</span> xmlns="http://www.w3.org/1999/02/22-rdf-syntax-ns#"

ï¿½ï¿½ï¿½xmlns:j.1="http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#"
ï¿½ï¿½ï¿½xmlns:dc="http://purl.org/dc/elements/1.1/"
ï¿½ï¿½ï¿½xmlns:j.0="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½ï¿½xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">College</span> xmlns="http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#"
ï¿½
ï¿½ï¿½ï¿½<span class="attribute">about</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/a43adce8</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">hasHomepage</span> xmlns="http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#"
ï¿½ï¿½
ï¿½ï¿½ï¿½ï¿½<span class="attribute">resource</span>="<span class="attributevalue">http://www.st-benets.ox.ac.uk</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">primaryPlace</span> xmlns="http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#"
ï¿½ï¿½
ï¿½ï¿½ï¿½ï¿½<span class="attribute">resource</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespaces/oxpoints/data/building/102e814f</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">title</span> xmlns="http://purl.org/dc/elements/1.1/"
ï¿½ï¿½&gt;</span>St Benet's Hall<span class="element">&lt;/<span class="elementname">title</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">adr</span> xmlns="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">Address</span> xmlns="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">street-address</span> xmlns="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½ï¿½ï¿½&gt;</span>38 St Giles', Oxford<span class="element">&lt;/<span class="elementname">street-address</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">postal-code</span> xmlns="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½ï¿½ï¿½&gt;</span>OX1 3LN<span class="element">&lt;/<span class="elementname">postal-code</span>&gt;</span><span class="element">&lt;/<span class="elementname">Address</span>&gt;</span><span class="element">&lt;/<span class="elementname">adr</span>&gt;</span><span class="element">&lt;/<span class="elementname">College</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">College</span> xmlns="http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#"
ï¿½
ï¿½ï¿½ï¿½<span class="attribute">about</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/c16e28a7</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">hasITHomepage</span> xmlns="http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#"
ï¿½ï¿½
ï¿½ï¿½ï¿½ï¿½<span class="attribute">resource</span>="<span class="attributevalue">http://www.st-annes.ox.ac.uk/study/undergraduate/computing_it.html</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">hasHomepage</span> xmlns="http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#"
ï¿½ï¿½
ï¿½ï¿½ï¿½ï¿½<span class="attribute">resource</span>="<span class="attributevalue">http://www.st-annes.ox.ac.uk/</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">primaryPlace</span> xmlns="http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#"
ï¿½ï¿½
ï¿½ï¿½ï¿½ï¿½<span class="attribute">resource</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespaces/oxpoints/data/building/275ab0d1</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">title</span> xmlns="http://purl.org/dc/elements/1.1/"
ï¿½ï¿½&gt;</span>St Anne's College<span class="element">&lt;/<span class="elementname">title</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">adr</span> xmlns="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">Address</span> xmlns="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">street-address</span> xmlns="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½ï¿½ï¿½&gt;</span>Oxford<span class="element">&lt;/<span class="elementname">street-address</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">postal-code</span> xmlns="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½ï¿½ï¿½&gt;</span>OX2 6HS<span class="element">&lt;/<span class="elementname">postal-code</span>&gt;</span><span class="element">&lt;/<span class="elementname">Address</span>&gt;</span><span class="element">&lt;/<span class="elementname">adr</span>&gt;</span><span class="element">&lt;/<span class="elementname">College</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">College</span> xmlns="http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#"
ï¿½
ï¿½ï¿½ï¿½<span class="attribute">about</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/678b78ec</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">hasHomepage</span> xmlns="http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#"
ï¿½ï¿½ï¿½<span class="attribute">resource</span>="<span class="attributevalue">http://www.rpc.ox.ac.uk/rpc/</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">primaryPlace</span> xmlns="http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#"
ï¿½ï¿½
ï¿½ï¿½ï¿½ï¿½<span class="attribute">resource</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespaces/oxpoints/data/building/ae870de6</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">title</span> xmlns="http://purl.org/dc/elements/1.1/"
ï¿½ï¿½&gt;</span>Regent's Park College<span class="element">&lt;/<span class="elementname">title</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">adr</span> xmlns="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">Address</span> xmlns="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">street-address</span> xmlns="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½ï¿½ï¿½&gt;</span>Oxford<span class="element">&lt;/<span class="elementname">street-address</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">postal-code</span> xmlns="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½ï¿½ï¿½&gt;</span>OX1 2LB<span class="element">&lt;/<span class="elementname">postal-code</span>&gt;</span><span class="element">&lt;/<span class="elementname">Address</span>&gt;</span><span class="element">&lt;/<span class="elementname">adr</span>&gt;</span><span class="element">&lt;/<span class="elementname">College</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">College</span> xmlns="http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#"
ï¿½
ï¿½ï¿½ï¿½<span class="attribute">about</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/b039a03c</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">hasITHomepage</span> xmlns="http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#"
ï¿½ï¿½
ï¿½ï¿½ï¿½ï¿½<span class="attribute">resource</span>="<span class="attributevalue">http://www.some.ox.ac.uk/students/it_services/</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">hasHomepage</span> xmlns="http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#"
ï¿½ï¿½ï¿½<span class="attribute">resource</span>="<span class="attributevalue">http://www.some.ox.ac.uk/</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">primaryPlace</span> xmlns="http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#"
ï¿½ï¿½
ï¿½ï¿½ï¿½ï¿½<span class="attribute">resource</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespaces/oxpoints/data/building/34e05e71</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">title</span> xmlns="http://purl.org/dc/elements/1.1/"
ï¿½ï¿½&gt;</span>Somerville College<span class="element">&lt;/<span class="elementname">title</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">adr</span> xmlns="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">Address</span> xmlns="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">street-address</span> xmlns="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½ï¿½ï¿½&gt;</span>Oxford<span class="element">&lt;/<span class="elementname">street-address</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">postal-code</span> xmlns="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½ï¿½ï¿½&gt;</span>OX2 6HD<span class="element">&lt;/<span class="elementname">postal-code</span>&gt;</span><span class="element">&lt;/<span class="elementname">Address</span>&gt;</span><span class="element">&lt;/<span class="elementname">adr</span>&gt;</span><span class="element">&lt;/<span class="elementname">College</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">College</span> xmlns="http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#"
ï¿½
ï¿½ï¿½ï¿½<span class="attribute">about</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/fe041602</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">hasHomepage</span> xmlns="http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#"
ï¿½ï¿½ï¿½<span class="attribute">resource</span>="<span class="attributevalue">http://www.gtc.ox.ac.uk/</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">primaryPlace</span> xmlns="http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#"
ï¿½ï¿½
ï¿½ï¿½ï¿½ï¿½<span class="attribute">resource</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespaces/oxpoints/data/building/8b9b83f2</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">title</span> xmlns="http://purl.org/dc/elements/1.1/"
ï¿½ï¿½&gt;</span>Green Templeton College<span class="element">&lt;/<span class="elementname">title</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">adr</span> xmlns="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">Address</span> xmlns="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">street-address</span> xmlns="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½ï¿½ï¿½&gt;</span>Oxford<span class="element">&lt;/<span class="elementname">street-address</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">postal-code</span> xmlns="http://nwalsh.com/rdf/vCard#"
ï¿½ï¿½ï¿½ï¿½&gt;</span>OX2 6HG<span class="element">&lt;/<span class="elementname">postal-code</span>&gt;</span><span class="element">&lt;/<span class="elementname">Address</span>&gt;</span><span class="element">&lt;/<span class="elementname">adr</span>&gt;</span><span class="element">&lt;/<span class="elementname">College</span>&gt;</span><span class="element">&lt;/<span class="elementname">RDF</span>&gt;</span></div>
                            </div>
                        </div>
                    </div>
                    
                </div>

                <div class="teidiv2" id="chap_query_furtherReading"><h4><a name="chap_query_furtherReading"></a>2.3.3. Further Reading</h4>
                    
                    
                    <dl><dt><a name="index.xml-item-id92290"><!--anchor--></a><a name="index.xml-label-id92286"><!--anchor--></a>SPARQL [http://www.w3.org/TR/rdf-sparql-query/]</dt><dd>
                            Description of the W3C Query Language for querying RDF data.
                        </dd><dt><a name="index.xml-item-id92300"><!--anchor--></a><a name="index.xml-label-id92296"><!--anchor--></a>ARQ [http://jena.sourceforge.net/ARQ/]</dt><dd>
                            Jena's SPARQL processor
                        </dd></dl>
                </div>
            </div>
            
            <div class="teidiv1" id="chap_manageData"><h3><a name="chap_manageData"></a>2.4. Managing Data</h3>
                
                <p><a name="id92316"><!--anchor--></a>
                    In this chapter I'll describe in detail how to add, change and delete data in Gaboto and
                    give some insights on how Gaboto will store data that has been added. As with queries, Gaboto
                    provides low and high-level methods for managing data. However, for most cases you will never have
                    to bother about using the low-level methods.
                </p>
                <p><a name="id92326"><!--anchor--></a>
                    The objects we will be investigating in this chapter are <a class="link_ref" href="#chap_objectModel_GabotoEntity" title="GabotoEntity">
                    GabotoEntity</a> or rather the specific subclasses, <a class="link_ref" href="#chap_objectModel_GabotoTimeBasedEntity" title="GabotoTimeBasedEntity">GabotoTimeBasedEntity</a>
                    and the <a class="link_ref" href="#chap_objectModel_Gaboto" title="Gaboto">Gaboto</a> object. While GabotoEntities store the
                    data that we want to add, the Gaboto object provides the methods to actually persist the objects in
                    the underlying RDF store.
                </p>
                <p><a name="id92354"><!--anchor--></a>
                    While we were using an in-memory Gaboto object while querying the system, we will be working
                    with a persistent object when managing it.
                </p>
                
                <div class="teidiv2" id="body.1_div.2_div.4_div.1"><h4><a name="body.1_div.2_div.4_div.1"></a>2.4.1. Importing and Exporting Data</h4>
                    
                    <p><a name="id92367"><!--anchor--></a>
                        The <a class="link_ref" href="#chap_objectModel_Gaboto" title="Gaboto">Gaboto object</a> offers the methods <strong>read</strong>,
                        <strong>write</strong> and <strong>writeCDG</strong> which allow you to export/import data from/into various RDF formats.
                        If there is already data in the system, the imported data will be merged with the existing data.
                    </p>

                    <div class="teidiv3" id="body.1_div.2_div.4_div.1_div.1"><h5><a name="body.1_div.2_div.4_div.1_div.1"></a>2.4.1.1. Example: Export to files</h5>
                        
                        <div class="p"><a name="id92398"><!--anchor--></a>
                            <div class="pre_eg cdata">
                            
    Gaboto gaboto = GabotoFactory.getInMemoryGaboto();
 
    // store named graphs in file graphs.rdf
    File graphs = new File("graphs.rdf");
	FileOutputStream fos = new FileOutputStream(graphs);
	
	// store context description graph in cdg.rdf
	File cdg = new File("cdg.rdf");
	FileOutputStream cdg_fos = new FileOutputStream(cdg);
	
	// perform the actual export
	gaboto.write(fos);
	gaboto.writeCDG(cdg_fos);
                            
                            </div>
                        </div>
                    </div>
                    <div class="teidiv3" id="body.1_div.2_div.4_div.1_div.2"><h5><a name="body.1_div.2_div.4_div.1_div.2"></a>2.4.1.2. Example: Import from files</h5>
                        
                        <div class="p"><a name="id92412"><!--anchor--></a>
                            <div class="pre_eg cdata">
                                
    // create empty Gaboto object 
    // this could of course also be a persistent object
	Gaboto gaboto = GabotoFactory.getEmptyInMemoryGaboto();
	
	File graphs = new File("graphs.rdf");
	FileInputStream fis = new FileInputStream(graphs);
	
	File cdg = new File("cdg.rdf");
	FileInputStream cdg_fis = new FileInputStream(cdg);
	
	gaboto.read(fis, cdg_fis);
	
	// after the import we have to recreate the time index 
	gaboto.recreateTimeDimensionIndex();                                
                                
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="teidiv2" id="body.1_div.2_div.4_div.2"><h4><a name="body.1_div.2_div.4_div.2"></a>2.4.2. Adding Data</h4>
                    
                    <p><a name="id92426"><!--anchor--></a>
                        We will first have a quick glance at the low level methods, that allow you to directly
                        work with RDF constructs. We will then discuss the high-level methods in greater detail 
                        as you will hardly ever have to use anything else.
                    </p>
                    <div class="teidiv3" id="body.1_div.2_div.4_div.2_div.1"><h5><a name="body.1_div.2_div.4_div.2_div.1"></a>2.4.2.1. Adding RDF Triples</h5>
                        
                        <div class="p"><a name="id92441"><!--anchor--></a>
                            The <a class="link_ref" href="#chap_objectModel_Gaboto" title="Gaboto">Gaboto</a> object offers the method
                            <strong>add</strong> that takes a Jena Triple object and an optional <a class="link_ref" href="#chap_objectModel_Time" title="Time">TimeSpan</a>
                            as parameters. The time span describes the validity of the triple, i.e., during the specified time
                            span the triple is valid. If no time span is provided, then the triple is universally valid,
                            meaning, that it is valid at any point in time.
                            <div class="pre_eg cdata">
                                
    // get Gaboto object
    Gaboto gaboto = GabotoFactory.getPersistentGaboto();
    
    // create a triple
    Triple t = new Triple(
        Node.createURI( "someSubjectURI" ),
        Node.createURI( "somePredicateURI" ),
        Node.createLiteral( "some literal" )
    );
    
    // add the triple with a time span from 1900-2000
    gaboto.add(new TimeSpan(1900,null,null,100,null,null),t);
                                
                            </div>
                        </div>
                        <div class="p"><a name="id92472"><!--anchor--></a>
                            In the above example, we added the triple
                            <div class="pre_eg cdata">&lt;someSubjectURI&gt;  &lt;somePredicateURI&gt;  "some literal" .</div>
                            to the graph that contains all triples that are valid from 1900-2000. If the graph did not yet
                            exist in the system, <strong>add</strong> would have automatically created the new graph first. If
                            we had not specified a time span, then the triple would have been added to the the special
                            <strong>generalKnowledgeGraph</strong>, the graph that contains all universally valid triples.
                        </div>
                    </div>
                    <div class="teidiv3" id="body.1_div.2_div.4_div.2_div.2"><h5><a name="body.1_div.2_div.4_div.2_div.2"></a>2.4.2.2. Adding GabotoEntities and GabotoTimeBoundEntities</h5>
                        
                        <p><a name="id92505"><!--anchor--></a>
                            As discussed in <a class="link_ptr" href="#chap_objectModel" title="The Gaboto Object Model">2.2. The Gaboto Object Model</a> GabotoEntity describes an entity as it exists
                            at a given point in time or time span, where it has a fixed set of properties. In contrast,
                            GabotoTimeBoundEntity describes an entity over its entire life span. The same applies, when these
                            objects are persisted to the underlying RDF. Persisting an GabotoEntity will put all the triples
                            that describe the entity into one graph. This can either be the GeneralKnowledgeGraph, in case, the 
                            entity did not have a life span associated with it. If it has, all the triples will be added to
                            the graph that contains the valid data for this time span. Persisting an GabotoTimeBasedEntity object
                            will usually result in spreading triples across multiple graphs.
                        </p>
                        <div class="p"><a name="id92513"><!--anchor--></a>
                            Let us now create a new college and add it to the system. 
                            <div class="pre_eg cdata">
                                
    // get Gaboto object
    Gaboto gaboto = GabotoFactory.getPersistentGaboto();
    
    // create college and set URI
    College col = new College();
    col.setUri(gaboto.generateID("college"));
    
    // set properties
    col.setTimeSpan(new TimeSpan(1900,null,null,100,null,null));
    col.setName("AM College");
    
    // persist college in RDF
    gaboto.add(col);                                
                                
                            </div>

                            If we happened to start off with an empty system, the resulting RDF would look like this
                            (Syntax: <a class="link_ref" href="http://www4.wiwiss.fu-berlin.de/bizer/TriG/" target="_top" title="TRIG">TRIG</a>):
                            <div class="pre_eg cdata">
                                
    @prefix dc:      &lt;http://purl.org/dc/elements/1.1/&gt; .
    @prefix rdf:     &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
    
    &lt;http://ns.ox.ac.uk/namespaces/oxpoints/graphs#gkg.rdf&gt; { }
    
    &lt;http://ns.ox.ac.uk/namespaces/gaboto/graphs#tg-1900~100-0-0&gt; {&lt;http://ns.ox.ac.uk/namespaces/oxpoints/data/college/f14de441&gt;
              a       &lt;http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#College&gt; ;
              dc:title "AM College" .
    }                               
                                
                            </div>
                            While this describes the college data, another entry is added to the <strong>contextDescriptionGraph</strong>
                            (a special graph that describes all the graphs in the system), to describe the newly created
                            <strong>http://ns.ox.ac.uk/namespaces/gaboto/graphs#tg-1900~100-0-0</strong>:
                            <div class="pre_eg cdata">
                                
    &lt;http://ns.ox.ac.uk/namespaces/gaboto/graphs#tg-1900~100-0-0&gt;
          a       &lt;http://www.w3.org/2004/03/trix/rdfg-1/Graph&gt; ;
          &lt;http://ns.ox.ac.uk/namespace/rdfcontext/2009/02/owl#hasTemporalDimension&gt;
                  [ a       &lt;http://www.w3.org/2006/time#Interval&gt; ;
                    &lt;http://www.w3.org/2006/time#hasBeginning&gt;
                            [ a       &lt;http://www.w3.org/2006/time#Instant&gt; ;
                              &lt;http://www.w3.org/2006/time#hasDateTimeDescription&gt;
                                      [ a       &lt;http://www.w3.org/2006/time#DateTimeDescription&gt; ;
                                        &lt;http://www.w3.org/2006/time#unitType&gt;
                                                &lt;http://www.w3.org/2006/time#unitYear&gt; ;
                                        &lt;http://www.w3.org/2006/time#year&gt;
                                                1900
                                      ]
                            ] ;
                    &lt;http://www.w3.org/2006/time#hasDurationDescription&gt;
                            [ a       &lt;http://www.w3.org/2006/time#DurationDescription&gt; ;
                              &lt;http://www.w3.org/2006/time#days&gt;
                                      0 ;
                              &lt;http://www.w3.org/2006/time#months&gt;
                                      0 ;
                              &lt;http://www.w3.org/2006/time#years&gt;
                                      100
                            ]
                  ] .
    
    &lt;http://ns.ox.ac.uk/namespaces/gaboto/graphs#gkg.rdf&gt;
          a       &lt;http://ns.ox.ac.uk/namespace/rdfcontext/2009/02/owl#GlobalKnowledgeGraph&gt; .
                                
                                
                            </div>
                        </div>
                        <div class="teidiv4" id="body.1_div.2_div.4_div.2_div.2_div.1"><h6><a name="body.1_div.2_div.4_div.2_div.2_div.1"></a>2.4.2.2.1. URIs</h6>
                            
                            <div class="p"><a name="id92555"><!--anchor--></a>
                                When creating a new entity object that you want to add to Gaboto you have to assign it a
                                unique id. For this purpose the <a class="link_ref" href="#chap_objectModel_Gaboto" title="Gaboto">Gaboto</a> object provides
                                the method <strong>generateID</strong> which makes sure that the generated ID is in fact unique. 
                                As a shortcut, GabotoEntity provides the static method
                                <strong>createNew</strong>:
                                <div class="pre_eg cdata">
                                    
    Gaboto gaboto = GabotoFactory.getPersistentGaboto();
    College col = GabotoEntity.createNew(oxp, new College());                                
                                    
                                </div>
                            </div>
                        </div>
                        <div class="teidiv4" id="body.1_div.2_div.4_div.2_div.2_div.2"><h6><a name="body.1_div.2_div.4_div.2_div.2_div.2"></a>2.4.2.2.2. GabotoTimeBasedEntities</h6>
                            
                            <p><a name="id92600"><!--anchor--></a>
                                If you have an entity with a defined life span but a fixed set of properties, 
                                <a class="link_ref" href="#chap_objectModel_GabotoEntity" title="GabotoEntity">GabotoEntity</a> is your friend. If you however,
                                have properties that changed over time, you have to work with the slightly more
                                complicated <a class="link_ref" href="#chap_objectModel_GabotoTimeBasedEntity" title="GabotoTimeBasedEntity">GabotoTimeBasedEntity</a>
                                object.
                            </p>
                            <div class="p"><a name="id92622"><!--anchor--></a>
                                Let's try and describe parts of the history of <strong>Oxford University Computing Services (OUCS)</strong>.
                                OUCS was founded in 1957 and was known as <strong>Computing Laboratory</strong> from 1957 to 1969. It then
                                changed names (in fact it was split in two, but we ignore this fact for this example) and is since
                                known as <strong>Oxford University Computing Services</strong>:
                                <div class="pre_eg cdata">
                                    
    // get persistent Gaboto object
    Gaboto gaboto = GabotoFactory.getPersistentGaboto();
    
    // instantiate GabotoTimeBasedEntity of type unit with 
    // a open ended time span starting in 1957
    GabotoTimeBasedEntity oucs = new GabotoTimeBasedEntity(Unit.class, gaboto.generateID("unit"), new TimeSpan(1957,null,null));
    
    // set the title from 1957 - 1969 and 1969 - dooms day
    oucs.addProperty(new TimeSpan(1957,null,null,12,null,null), DC.title, "Computing Laboratory");
    oucs.addProperty(new TimeSpan(1969,null,null), DC.title, "Oxford University Computing Services");
	
    // add it to the system.
    gaboto.add(oucs);                                        
                                    
                                </div>
                            </div>
                            <div class="p"><a name="id92645"><!--anchor--></a>
                                This produces the following RDF (again assuming that the system did not contain
                                any data before this):
                                <div class="pre_eg cdata">
                                    
    @prefix dc:      &lt;http://purl.org/dc/elements/1.1/&gt; .
    @prefix rdf:     &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
    
    &lt;http://ns.ox.ac.uk/namespaces/gaboto/graphs#gkg.rdf&gt; { }
    
    &lt;http://ns.ox.ac.uk/namespaces/gaboto/graphs#tg-1957~12-0-0&gt; {&lt;http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/22596a16&gt;
              dc:title "Computing Laboratory" .
    }
    
    &lt;http://ns.ox.ac.uk/namespaces/gaboto/graphs#tg-1957~dooms-day&gt; {&lt;http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/22596a16&gt;
              a       &lt;http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Unit&gt; .
    }
    
    &lt;http://ns.ox.ac.uk/namespaces/gaboto/graphs#tg-1969~dooms-day&gt; {&lt;http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/22596a16&gt;
              dc:title "Oxford University Computing Services" .
    }
                                    
                                </div>
                            </div>
                            <p><a name="id92655"><!--anchor--></a>
                                In this case three new graphs were created. One to store the associate rdf:type (Unit),
                                with an open ended time span from 1957 onwards, one from 1957-1969 claiming the unit's name
                                is <strong>Computing Laboratory</strong> and another open ended graph (1969-onwards) claiming the unit's
                                name is <strong>Oxford University Computing Services</strong>.
                            </p>
                            <div class="p"><a name="id92672"><!--anchor--></a>
                                We can now query the system <a name="Note8"><!--anchor--></a> [Note: In a productive system, you should always use an in-memory Gaboto
                                for any kind of query.]:
                                <div class="pre_eg cdata">
                                    
    Collection&lt;GabotoTimeBasedEntity&gt; units = gaboto.loadEntitiesOverTimeWithProperty(DC.title, "Computing Laboratory");
    for(GabotoTimeBasedEntity entityTB : units){
		System.out.println("Entity " + entityTB.getUri() + " is of type " + entityTB.getEntityClass().getSimpleName());
		
		Iterator&lt;GabotoEntity&gt; entityIterator = entityTB.iterator();
		while(entityIterator.hasNext()){
			Unit unit = (Unit)entityIterator.next();
			System.out.println("\tDuring " + unit.getTimeSpan() + " the entity's name was " + unit.getName());
		}
    }                
	
	/**
	 Result:
	 Entity http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/cc9ff6ae is of type Unit
  	     During 1957~12-0-0 the entity's name was Computing Laboratory
	     During 1969~dooms-day the entity's name was Oxford University Computing Services
    */
                                    
                                </div>
                            </div>
                            <p><a name="id92686"><!--anchor--></a>
                                As we have seen from the example, <strong>GabotoTimeBasedEntity</strong> is a generic object
                                applicable for all entities and does therefore not provide specialized methods like, e.g.,
                                <strong>setName</strong>. One way of adding data is (as we have done in the example) to use the
                                underlying RDF predicate to describe what kind of property you want to add. We will later
                                see (in part <a class="link_ptr" href="#part_configuring" title="Part II - Configuring Gaboto">3. Part II - Configuring Gaboto</a>) where these are defined.
                            </p>
                            <div class="p"><a name="id92710"><!--anchor--></a>
                                Another way to add properties to <strong>GabotoTimeBasedEntity</strong> is to use <strong>GabotoEntity</strong>
                                objects. This is a less error-prone approach (but at the cost of more code lines), since you have the advantage of type aware methods.
                                Let's redo the inital example with this approach:
                                <div class="pre_eg cdata">
                                    
    GabotoTimeBasedEntity oucs = new GabotoTimeBasedEntity(Unit.class, gaboto.generateID("unit"), new TimeSpan(1957,null,null));
	
	 // set the title from 1957 - 1969
	Unit unit = new Unit();
	unit.setName("Computing Laboratory");
	unit.setTimeSpan(new TimeSpan(1957,null,null,12,null,null));
	oucs.addEntity(unit);
	
	// set the title from 1969 - dooms day
	unit = new Unit();
	unit.setName("Oxford University Computing Services");
	unit.setTimeSpan(new TimeSpan(1969,null,null));
	oucs.addEntity(unit);
	
	// add entity to system
	gaboto.add(oucs);
                                    
                                </div>
                            </div>
                        </div>
                        <div class="teidiv4" id="chap_manageData_type"><h6><a name="chap_manageData_type"></a>2.4.2.2.3. The role of the <strong>rdf:type</strong> Property</h6>
                            
                            <p><a name="id92745"><!--anchor--></a>
                                If you go back to the above examples, you can see that Gaboto added an <a class="link_ref" href="http://www.w3.org/TR/rdf-schema/#ch_type" target="_top" title="rdf:type">rdf:type</a>
                                property on oucs in the most general graph. For one thing, this property describes the resource's
                                type, telling Gaboto to load it into a <strong>Unit</strong> object. But it is also used by Gaboto to
                                derive the life span of an entity. An entity's life span is the time span of the graph where its rdf:type
                                is defined. You should therefore be careful, not to add any additional type triples, as this would
                                result in a corrupted data store for Gaboto (although it is not technically wrong RDF). However, if you
                                stick to the described high-levle methods, Gaboto should make sure, that this does not happen.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="teidiv2" id="body.1_div.2_div.4_div.3"><h4><a name="body.1_div.2_div.4_div.3"></a>2.4.3. Removing and Changing Data</h4>
                    
                    <p><a name="id92772"><!--anchor--></a>
                        Technically removing and changing data is closely related, since Gaboto does not directly
                        support changing data. What happens internally if you call one of the <strong>changeEntity</strong> methods
                        of the <strong>Gaboto</strong> object is that Gaboto removes all traces of the entity (calling <em>Gaboto.purge</em>) and
                        then to add the new version of the entity to the system. Besides the changeEntity methods, there are various
                        <strong>remove</strong> methods that can be used for removing data. However, since these do not necessarily
                        remove an entire object but just parts (and you should therefore be very careful, if you want to use
                        them), you will usually go for the method <strong>purge</strong>, which deletes all triples that are associated
                        with the entity you want to remove from the system.
                    </p>
                </div>
            </div>
            
        </div>

        <div class="teidiv0" id="part_configuring"><h2><a name="part_configuring"></a>3. Part II - Configuring Gaboto</h2>
            
        
            <p><a name="id92822"><!--anchor--></a>
                In this chapter we will learn how to set up Gaboto. This mainly includes defining the entities
                that you want to be able to talk about, their relationships to one another and their properties. We will
                describe the set up process through the example of the OxPOints system.
            </p>
            
            <p><a name="id92831"><!--anchor--></a>
                In order to better understand the configuration process, I will shortly describe what the system
                actually does with the finished configuration. Gaboto is a system that allows you to
                map RDF to Java classes and vice versa. In the previous examples we have already worked with GabotoEntities
                from the OxPoints system, such as <strong>College</strong>
                or <strong>Building</strong>. These classes are generated automatically by the configuration process. So what we
                are configuring is in fact the program to generate all the necessary classes that are needed to for a
                specialized Gaboto.
            </p>
        
            <div class="teidiv1" id="chap_configuring_ontologies"><h3><a name="chap_configuring_ontologies"></a>3.1. Ontologies</h3>
                
                <p><a name="id92863"><!--anchor--></a>
                    When setting up a new system based on Gaboto, the first step should be to think about
                    the ontologies that describe your entities. Though it is not necessary to create ontologies it will help,
                    as we have to refer to our entity types and properties as URIs and ontologies are the way to define
                    these URIs.
                </p>
                <div class="p"><a name="id92873"><!--anchor--></a>
                    In the OxPoints system we use (amongst others) the following ontologies:
                    <dl><dt><a name="index.xml-item-id92885"><!--anchor--></a><a name="index.xml-label-id92882"><!--anchor--></a>OxPoints Ontology</dt><dd>
                              The OxPoints ontology defines university entities, places and some general entities, that we
                              want to talk about in the OxPoints system.
                        </dd><dt><a name="index.xml-item-id92895"><!--anchor--></a><a name="index.xml-label-id92892"><!--anchor--></a>Dublin Core</dt><dd>
                            The <a class="link_ref" href="http://purl.org/dc/elements/1.1/" target="_top" title="Dublin Core">Dublin Core</a> ontology provides a set of general
                            and widely used properties (e.g., title). We use these, wherever applicable.
                        </dd><dt><a name="index.xml-item-id92912"><!--anchor--></a><a name="index.xml-label-id92908"><!--anchor--></a>GEO_2007</dt><dd>
                            <a class="link_ref" href="http://www.w3.org/2005/Incubator/geo/XGR-geo-20071023/W3C_XGR_Geo_files/geo_2007.owl" target="_top" title="GEO_2007">GEO_2007</a>
                            is an ontology produced by the W3C to capture some of <a class="link_ref" href="http://www.opengis.net/gml/" target="_top" title="GML's">GML's</a> features
                            in RDF. We use it to encode locations.
                        </dd><dt><a name="index.xml-item-id92935"><!--anchor--></a><a name="index.xml-label-id92931"><!--anchor--></a>An OWL Ontology for vCards</dt><dd>
                            The <a class="link_ref" href="http://nwalsh.com/rdf/vCard" target="_top" title="OWL Ontology for vCards">OWL Ontology for vCards</a>, created by Norman Walsh, allows you
                            to encode vCards in RDF. We use it to encode addresses.
                        </dd></dl>
                </div>
                
                <div class="teidiv2" id="chap_ontology"><h4><a name="chap_ontology"></a>3.1.1. The OxPoints Ontology</h4>
                    
                    <p><a name="id92959"><!--anchor--></a>
                        Before we start going deeper into the configuration, let's have a closer look at the the OxPoints 
                        ontology. The OxPoints ontology defines all entities in the OxPoints system (Unit, College, Building, etc.)
                        and certain properties that we could not find in other, more specialized ontologies. We will later
                        see, how we use the entities and properties, defined in this ontology in the Gaboto configuration.
                    </p>
                    <div class="pre">
<span class="element">&lt;<span class="elementname">RDF</span> xmlns="http://www.w3.org/1999/02/22-rdf-syntax-ns#"

ï¿½ï¿½<span class="attribute">xml:base</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/gaboto/2009/03/owl#</span>"
ï¿½ï¿½ï¿½xmlns:owl="http://www.w3.org/2002/07/owl#"
ï¿½ï¿½ï¿½xmlns:xsd="http://www.w3.org/2001/XMLSchema"
ï¿½ï¿½ï¿½xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
ï¿½ï¿½ï¿½xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"&gt;</span>
ï¿½
<span class="comment">&lt;!-- Describe the oxpoints ontology --&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">Ontology</span> xmlns="http://www.w3.org/2002/07/owl#"
ï¿½ï¿½<span class="attribute">about</span>="<span class="attributevalue"></span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">versionInfo</span> xmlns="http://www.w3.org/2002/07/owl#"
ï¿½ï¿½&gt;</span>0.1<span class="element">&lt;/<span class="elementname">versionInfo</span>&gt;</span><span class="element">&lt;/<span class="elementname">Ontology</span>&gt;</span><span class="element">&lt;/<span class="elementname">RDF</span>&gt;</span></div>
                </div>
            </div>
        
            <div class="teidiv1" id="chap_configuring_properties"><h3><a name="chap_configuring_properties"></a>3.2. Properties</h3>
                
                <p><a name="id92984"><!--anchor--></a>
                    Gaboto is configured from a single XML based configuration file that defines the entities
                    (see <a class="link_ptr" href="#chap_objectModel_GabotoEntity" title="GabotoEntity">2.2.5. GabotoEntity</a>), their properties and the relations between
                    the different entities. Before we look at the configuration file, we will look at the
                    different kind of properties that are supported by Gaboto and how they map to RDF. 
                </p>
                <div class="p"><a name="id92998"><!--anchor--></a>
                    Properties describe our entities. In RDF a property is represented (like our entities) by a URI
                    and should be defined in an ontology. One of the properties we have seen in the previous examples
                    is the <strong>title</strong> property from the <a class="link_ref" href="http://purl.org/dc/elements/1.1/title" target="_top" title="Dublin Core">Dublin Core</a>
                    ontology. In RDF a title would look somewhat like:
                    <div class="pre_eg cdata">
                        
    oxpdata:someEntityURI    dc:title    "The entity's title" .                        
                        
                    </div>
                </div>
                
                <div class="teidiv2" id="body.1_div.3_div.2_div.1"><h4><a name="body.1_div.3_div.2_div.1"></a>3.2.1. Simple Properties</h4>
                    
                    <p><a name="id93035"><!--anchor--></a>
                        Simple properties are properties that are represented by one RDF triple, where the
                        object is a literal. This can be, e.g., the title property <strong>dc:title</strong> from 
                        the previous example. 
                    </p>
                    <div class="p"><a name="id93046"><!--anchor--></a>
                        Gaboto currently supports the following types:
                        <ul><li><a name="id93054"><!--anchor--></a>String</li><li><a name="id93058"><!--anchor--></a>int</li><li><a name="id93061"><!--anchor--></a>double</li><li><a name="id93064"><!--anchor--></a>float</li><li><a name="id93068"><!--anchor--></a>boolean</li></ul>
                    </div>
                </div>
                <div class="teidiv2" id="body.1_div.3_div.2_div.2"><h4><a name="body.1_div.3_div.2_div.2"></a>3.2.2. Active vs. Passive Properties</h4>
                    
                    <div class="p"><a name="id93080"><!--anchor--></a>
                        When defining relationships between two entities, you have to define, with which entity
                        the actual information is stored. Take the relationship between buildings and university
                        units as an example. If we want to store that a unit occupies a certain building, we have
                        two options<a name="Note9"><!--anchor--></a> [Note: In the Gaboto system we went for the first solution and store the information
                        together with the unit.]:
                        <ol><li><a name="id93099"><!--anchor--></a>
                                We store the information with the unit. In RDF this could be:
                                <div class="pre_eg cdata">
                                    
    data:someUnitURI    oxp:occupies    data:someBuildingURI .                                    
                                    
                                </div>
                            </li><li><a name="id93114"><!--anchor--></a>
                                We store the information with the building. In RDF this could be:
                                <div class="pre_eg cdata">
                                    
    data:someBuildingURI    oxp:occupiedBy    data:someUnitURI .                                    
                                    
                                </div>
                            </li></ol>
                    </div>
                    <p><a name="id93131"><!--anchor--></a>
                        Where you store your properties is really up to you and there is no definite right or wrong.
                        However, it is faster to load properties that are directly stored with an entity, so if you expect
                        to have lots of queries of the type <em>what buildings belong to a unit</em> and only very
                        few of the type <em>what units occupy this building</em> then you might want to store the
                        relationship with the unit for a better query performance.
                    </p>
                </div>
                <div class="teidiv2" id="body.1_div.3_div.2_div.3"><h4><a name="body.1_div.3_div.2_div.3"></a>3.2.3. Complex Properties</h4>
                    
                    <div class="p"><a name="id93156"><!--anchor--></a>
                        Complex properties are properties that consist of more than one peace of information. An address
                        for example consists of a postal code, a street address and many more fields. In Gaboto, complex
                        properties are called <strong>GabotoBean</strong><a name="Note10"><!--anchor--></a> [Note: The term bean was chosen because of the close relationship
                            to <a class="link_ref" href="http://en.wikipedia.org/wiki/JavaBeans" target="_top" title="Java Beans">Java Beans</a>. A bit more on the subject of
                        Java Beans, and their relationship to GabotoBeans and GabotoEntities will be presented in <a class="link_ptr" href="#part_extending" title="Part III - Extending Gaboto">4. Part III - Extending Gaboto</a>] and as <strong>GabotoEntity</strong>s they are first class java
                        objects. 
                        <div class="pre_eg cdata">
                            
    data:someUnitURI  vCard:adr [ 
                    a                  vCard:Address ;
                    vCard:postal_code    "OX3 7DQ" ;
                    vCard:street_address "Old Road Campus Research Building, off Roosevelt Drive, Oxford"
            ] ;                            
                            
                        </div>
                    </div>
                    <p><a name="id93023"><!--anchor--></a>
                        In RDF complex properties are stored using a <a class="link_ref" href="http://www.w3.org/TR/REC-rdf-syntax/#structuredproperties" target="_top" title="blank node">blank node</a>,
                        which then contains all the necessary information.
                    </p>
                </div>
                <div class="teidiv2" id="body.1_div.3_div.2_div.4"><h4><a name="body.1_div.3_div.2_div.4"></a>3.2.4. Indirect Properties</h4>
                    
                    <p><a name="id93209"><!--anchor--></a>
                        Indirect properties are properties that are not stored explicitly but can be derived from other
                        properties. We could for example define, that the location of a university unit is the location of
                        its primary building (we assume, that units have a primary building and that buildings have a location).
                        We can then derive the information by simply looking at the units primary building and searching
                        for a location there.
                        <a name="Note11"><!--anchor--></a> [Note: The indirect property does not necessarily have to be stored directly at the next entity. This
                        can again point to a new entity, and the search is continued there.]
                        <a name="Note12"><!--anchor--></a> [Note: It is possible to create infinite loops through carelessly defining indirect properties. Gaboto currently
                        does not provide any mechanisms to detect this.]
                    </p>
                    <p><a name="id93225"><!--anchor--></a>
                        Indirect properties can also be used as fallback solutions. We could for example define, that the location
                        of a <strong>Place</strong> is either stored directly with it, but that if no location is specified, we 
                            should look at its parent Place.
                    </p>
                </div>
                <div class="teidiv2" id="body.1_div.3_div.2_div.5"><h4><a name="body.1_div.3_div.2_div.5"></a>3.2.5. Static Properties</h4>
                    
                    <p><a name="id93244"><!--anchor--></a>
                        Static properties are properties that are not stored in RDF but that are constructed using information
                        from other properties. For example, you might want to add a description to an entity that consists of its
                        title and its main website.
                    </p>
                </div>
                <div class="teidiv2" id="porperties_unstoredProperty"><h4><a name="porperties_unstoredProperty"></a>3.2.6. Unstored Properties</h4>
                    
                    <p><a name="id93264"><!--anchor--></a>
                        Unstored Properties are properties that have the same value as a stored property. In OxPoints
                        we use unstored properties to define a parent relationship that is used by the transformation to
                        KML.
                    </p>
                </div>
                <div class="teidiv2" id="body.1_div.3_div.2_div.7"><h4><a name="body.1_div.3_div.2_div.7"></a>3.2.7. Collections</h4>
                    
                    <div class="p"><a name="id93278"><!--anchor--></a>
                        In many cases you want to store lists of things. For example a building can be occupied by
                        several units. We use <a class="link_ref" href="http://www.w3.org/TR/REC-rdf-syntax/#collections" target="_top" title="RDF collections">RDF collections</a>
                        to achieve this. Currently only <strong>Bags (unordered lists)</strong> are implemented.
                        <div class="pre_eg cdata">
                            
    data:someUnitURI         oxp:occupies
                              [ a       rdf:Bag ;
                                rdf:_1  &lt;http://ns.ox.ac.uk/namespaces/oxpoints/data/building/c8048b54&gt; ;
                                rdf:_2  &lt;http://ns.ox.ac.uk/namespaces/oxpoints/data/building/b11a46a1&gt; ;
                                rdf:_3  &lt;http://ns.ox.ac.uk/namespaces/oxpoints/data/building/865f58ae&gt; ;
                                rdf:_4  &lt;http://ns.ox.ac.uk/namespaces/oxpoints/data/building/25212490&gt;
                              ] ;                            
                            
                        </div>
                    </div>
                </div>
            </div>
            <div class="teidiv1" id="body.1_div.3_div.3"><h3><a name="body.1_div.3_div.3"></a>3.3.  The Gaboto configuration file</h3>
                
                <p><a name="id93308"><!--anchor--></a>
                    The configuration file contains general information (such as database connection etc.),
                    and the definition of all the entities in the system, that you want to
                    store information about. To define an entity we have to specify what properties (v.s.) the entity can have.
                    The configuration file also allows us to define GabotoBeans that can then be used as complex properties.
                    The syntax for the configuration file is documented with an <a class="link_ref" href="#configuration_schema" title="Configuration File Schema">XSD schema</a>
                </p>
                <p><a name="id93317"><!--anchor--></a>
                    In the case of the OxPoints system most of our entities fall into two super classes: Units and Places.
                    To be able to add properties to all entities we also introduced a common abstract super entity
                    called <strong>OxpEntity</strong>.
                    Units describe political units, such as colleges, departments, libraries etc. Places describe anything
                    that can be mapped (e.g. buildings, rooms, etc.). All these types (supertypes and subtypes) will become
                    an GabotoEntity. As for complex properties, the Gaboto system currently models a very simple address
                    (consisting of a postal code and a street address) and a location to store latitude and longitude.
                </p>
                <p><a name="id93328"><!--anchor--></a>
                    Before we go into detail, let's have a look at the configuration file, the Gaboto system uses:    
                </p>
                <div class="p"><a name="id93334"><!--anchor--></a>
                    <div class="pre">
<span class="element">&lt;<span class="elementname">Gaboto</span>ï¿½<span class="attribute">xml:base</span>="<span class="attributevalue">../config/Gaboto.xml</span>"
ï¿½ï¿½ï¿½xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">config</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">namespaces</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">graphs</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespaces/oxpoints/graphs#</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">data</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespaces/oxpoints/data/</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">namespacePrefixes</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">namespacePrefix</span>
ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">prefix</span>="<span class="attributevalue">oxp</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">ns</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">namespacePrefixes</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">database</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">engineName</span>&gt;</span>MySQL<span class="element">&lt;/<span class="elementname">engineName</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">url</span>&gt;</span>jdbc:mysql://localhost:8889/oxp<span class="element">&lt;/<span class="elementname">url</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">user</span>&gt;</span>gabotoUser<span class="element">&lt;/<span class="elementname">user</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">password</span>&gt;</span>gabotoPassword<span class="element">&lt;/<span class="elementname">password</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">driver</span>&gt;</span>com.mysql.jdbc.Driver<span class="element">&lt;/<span class="elementname">driver</span>&gt;</span><span class="element">&lt;/<span class="elementname">database</span>&gt;</span><span class="element">&lt;/<span class="elementname">config</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">GabotoBeans</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoBean</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Address</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://nwalsh.com/rdf/vCard#Address</span>"&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">properties</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">postCode</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">String</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://nwalsh.com/rdf/vCard#postal_code</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">streetAddress</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">String</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://nwalsh.com/rdf/vCard#street_address</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">properties</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoBean</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoBean</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">Location</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://www.opengis.net/gml/Point</span>"&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">properties</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">pos</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">String</span>"ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://www.opengis.net/gml/pos</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">properties</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">customMethods</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">method</span>&gt;</span> 
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ 
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ public Double getLatitude(){
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ try{
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ return Double.valueOf(getPos().split(" ")[1]);
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ }catch(NumberFormatException e){
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ return null;
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ }
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ }
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ 
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;/<span class="elementname">method</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">method</span>&gt;</span> 
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ 
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ public Double getLongitude(){
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ try{
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ return Double.valueOf(getPos().split(" ")[0]);
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ }catch(NumberFormatException e){
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ return null;
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ }
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ }
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ 
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;/<span class="elementname">method</span>&gt;</span><span class="element">&lt;/<span class="elementname">customMethods</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoBean</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoBeans</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">GabotoEntities</span>&gt;</span>
ï¿½ï¿½
<span class="comment">&lt;!-- Common bas class --&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">OxpEntity</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#OxpEntity</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">abstract</span>="<span class="attributevalue">true</span>"&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">properties</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">images</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Image</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">collection</span>="<span class="attributevalue">bag</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#inImage</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">properties</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntities</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Image</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Image</span>"&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">properties</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">width</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">String</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#width</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">height</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">String</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#height</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">passiveProperty</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">imageContents</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">OxpEntity</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">relationshipType</span>="<span class="attributevalue">N:M</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#inImage</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">properties</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoEntity</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Place</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Place</span>"&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">properties</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">name</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">String</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://purl.org/dc/elements/1.1/title</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">parent</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Place</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#physicallyContainedWithin</span>"&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">indirectProperty</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLocation</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">unstoredProperty</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/gaboto/kml/2009/03/owl#parent</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">property</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">location</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Location</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLocation</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">address</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Address</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://nwalsh.com/rdf/vCard#adr</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">homepage</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Website</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasHomepage</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">passiveProperty</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">containedPlaces</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Place</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">relationshipType</span>="<span class="attributevalue">1:N</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#physicallyContainedWithin</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">properties</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntities</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Building</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Building</span>"&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">properties</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">passiveProperty</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">occupiedBy</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Unit</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">relationshipType</span>="<span class="attributevalue">N:M</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#occupies</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">properties</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoEntity</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Carpark</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Carpark</span>"&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">properties</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">capacity</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">int</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#capacity</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">properties</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoEntity</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">DrainCover</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#DrainCover</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Entrance</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Entrance</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Room</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Room</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Site</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Site</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">WAP</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#WAP</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">GabotoEntities</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoEntity</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Unit</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Unit</span>"&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">properties</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">address</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Address</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://nwalsh.com/rdf/vCard#adr</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">homepage</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Website</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasHomepage</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">OUCSCode</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">String</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasOUCSCode</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">itHomepage</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Website</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasITHomepage</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">name</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">String</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://purl.org/dc/elements/1.1/title</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">occupiedBuildings</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Building</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">collection</span>="<span class="attributevalue">bag</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#occupies</span>"&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">indirectProperty</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLocation</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">n</span>="<span class="attributevalue">2</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">property</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">primaryPlace</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Place</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#primaryPlace</span>"&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">indirectProperty</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">location</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLocation</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">n</span>="<span class="attributevalue">1</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">property</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">subsetOf</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Unit</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#subsetOf</span>"&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">indirectProperty</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLocation</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">n</span>="<span class="attributevalue">3</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">unstoredProperty</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/gaboto/kml/2009/03/owl#parent</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">property</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">weblearn</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Website</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasWeblearn</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">passiveProperty</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">hasSubsets</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Unit</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">relationshipType</span>="<span class="attributevalue">1:N</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#subsetOf</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">properties</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">customMethods</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">method</span>&gt;</span> 
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ @StaticProperty("http://purl.org/dc/elements/1.1/description")
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ public String getDescription(){
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ String description = "";
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ 
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ if(null != getHomepage())
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ description += "Website: &lt;a href=\"" + getHomepage().getUri() + "\"&gt;" + getHomepage().getUri() + "&lt;/a&gt;&lt;br/&gt;";
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ if(null != getImages() &amp;amp;&amp;amp; getImages().size() &gt; 0){
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ Image img = getImages().iterator().next();
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ description += "&lt;img src=\"" + img.getUri() + "\" width=\"" + img.getWidth() + "\" height=\"" + img.getHeight() + "\"/&gt;";
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ }
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ 
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ return description;
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ }
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ 
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;/<span class="elementname">method</span>&gt;</span><span class="element">&lt;/<span class="elementname">customMethods</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntities</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">College</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#College</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Department</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Department</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Division</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Division</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Faculty</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Faculty</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Group</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Group</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Library</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Library</span>"&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">properties</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">OLISCode</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">String</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasOLISCode</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">libraryHomepage</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Website</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLibraryHomepage</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">properties</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoEntity</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Museum</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Museum</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">ServiceDepartment</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#ServiceDepartment</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">GabotoEntities</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoEntity</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Website</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Website</span>"&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">properties</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">passiveProperty</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">isWeblearnIn</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">OxpEntity</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">relationshipType</span>="<span class="attributevalue">1:N</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasWeblearn</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">passiveProperty</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">isITHomepageIn</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">OxpEntity</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">relationshipType</span>="<span class="attributevalue">1:N</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasITHomepage</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">passiveProperty</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">isHomepageIn</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">OxpEntity</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">relationshipType</span>="<span class="attributevalue">1:N</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasHomepage</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">passiveProperty</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">isLibraryHomepageIn</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">OxpEntity</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">relationshipType</span>="<span class="attributevalue">1:N</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLibraryHomepage</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">properties</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoEntity</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoEntities</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoEntity</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoEntities</span>&gt;</span><span class="element">&lt;/<span class="elementname">Gaboto</span>&gt;</span></div>
                </div>

                <div class="teidiv2" id="body.1_div.3_div.3_div.1"><h4><a name="body.1_div.3_div.3_div.1"></a>3.3.1. General Structure</h4>
                    
                    <div class="p"><a name="id93352"><!--anchor--></a>
                        The configuration file is divided into three sections: A general configuration,
                        One to define GabotoBeans (complex properties) and one to define the entities.
                        <div class="pre">
<span class="element">&lt;<span class="elementname">Gaboto</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">config</span>&gt;</span><span class="element">&lt;/<span class="elementname">config</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">GabotoBeans</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoBeans</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">GabotoEntities</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoEntities</span>&gt;</span><span class="element">&lt;/<span class="elementname">Gaboto</span>&gt;</span></div>
                    </div>
                </div>
                <div class="teidiv2" id="body.1_div.3_div.3_div.2"><h4><a name="body.1_div.3_div.3_div.2"></a>3.3.2. The config Section</h4>
                    
                    <p><a name="id93384"><!--anchor--></a>
                        The config section defines the database connection to be used, the namespaces under
                        which data and graphs are stored and additional namespace prefixes, that will be added
                        to the default prefixes returned by <em>GabotoPredefinedQueries.getStandardPrefixes</em>.
                    </p>
                    
                    <div class="teidiv3" id="body.1_div.3_div.3_div.2_div.1"><h5><a name="body.1_div.3_div.3_div.2_div.1"></a>3.3.2.1. Defining Database Connection</h5>
                        
                        <p><a name="id93402"><!--anchor--></a>
                            Gaboto uses Jena, for its database connection 
                            (<a class="link_ref" href="http://jena.sourceforge.net/DB/creating-db-models.html" target="_top" title="section on persistent models in Jena">section on persistent models in Jena</a>).
                            It comes shipped with the necessary JDBC libraries for MySQL and PostgreSQL.
                        </p>
                        <div class="p"><a name="id93416"><!--anchor--></a>
                            Example configuration for MySQL:
                            <div class="pre">
<span class="element">&lt;<span class="elementname">database</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">engineName</span>&gt;</span>MySQL<span class="element">&lt;/<span class="elementname">engineName</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">url</span>&gt;</span>jdbc:mysql://localhost:8889/oxp<span class="element">&lt;/<span class="elementname">url</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">user</span>&gt;</span>gabotoUser<span class="element">&lt;/<span class="elementname">user</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">password</span>&gt;</span>gabotoPassword<span class="element">&lt;/<span class="elementname">password</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">driver</span>&gt;</span>com.mysql.jdbc.Driver<span class="element">&lt;/<span class="elementname">driver</span>&gt;</span><span class="element">&lt;/<span class="elementname">database</span>&gt;</span></div>
                        </div>
                        <div class="p"><a name="id93448"><!--anchor--></a>
                            Example configuration for PostgreSQL:
    <div class="pre">
<span class="element">&lt;<span class="elementname">database</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">engineName</span>&gt;</span>PostgreSQL<span class="element">&lt;/<span class="elementname">engineName</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">url</span>&gt;</span>jdbc:postgresql://localhost:5432/oxpoints?ssl=true<span class="element">&lt;/<span class="elementname">url</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">user</span>&gt;</span>gabotoUser<span class="element">&lt;/<span class="elementname">user</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">password</span>&gt;</span>gabotoPassword<span class="element">&lt;/<span class="elementname">password</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">driver</span>&gt;</span>org.postgresql.Driver<span class="element">&lt;/<span class="elementname">driver</span>&gt;</span><span class="element">&lt;/<span class="elementname">database</span>&gt;</span></div>                            
                        </div>
                    </div>
                </div>
                <div class="teidiv2" id="body.1_div.3_div.3_div.3"><h4><a name="body.1_div.3_div.3_div.3"></a>3.3.3. Defining GabotoBeans</h4>
                    
                    <div class="p"><a name="id93487"><!--anchor--></a>
                        Let's have a look at the simple <strong>Address</strong> bean:
                        <div class="pre">
<span class="element">&lt;<span class="elementname">GabotoBean</span>
ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Address</span>"
ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://nwalsh.com/rdf/vCard#Address</span>"&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">properties</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">postCode</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">String</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://nwalsh.com/rdf/vCard#postal_code</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">streetAddress</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">String</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://nwalsh.com/rdf/vCard#street_address</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">properties</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoBean</span>&gt;</span></div>
                    </div>
                    <div class="p"><a name="id93531"><!--anchor--></a>
                        The <span class="gi">&lt;GabotoBean&gt;</span> element has two mandatory attributes:
                        <dl><dt><a name="index.xml-item-id93546"><!--anchor--></a><a name="index.xml-label-id93542"><!--anchor--></a>name</dt><dd>
                                The name attribute, describes the bean's name. It should start with an
                                uppercase letter and follow the rules for Java class names, as it will be used
                                as the class name for the corresponding Java class. 
                            </dd><dt><a name="index.xml-item-id93558"><!--anchor--></a><a name="index.xml-label-id93554"><!--anchor--></a>type</dt><dd>
                                The type attribute defines the type (RDF:type) of the bean. It has to be a URI.
                            </dd></dl>
                    </div>
                    <div class="p"><a name="id93566"><!--anchor--></a>
                        Next, we have to define the properties our bean is going to have. We do this in the <span class="gi">&lt;properties&gt;</span>
                        section. Each <span class="gi">&lt;property&gt;</span> element has three mandatory attributes and an optional collection
                        attribute:
                        <dl><dt><a name="index.xml-item-id93586"><!--anchor--></a><a name="index.xml-label-id93582"><!--anchor--></a>name (mandatory)</dt><dd>
                                The property's name is used to derive the method names for the resulting class. <strong>postCode</strong> would
                                produce the names: <strong>getPostCode</strong> and <strong>setPostCode</strong>.
                            </dd><dt><a name="index.xml-item-id93607"><!--anchor--></a><a name="index.xml-label-id93603"><!--anchor--></a>type (mandatory)</dt><dd>
                                Defines the property's datatype. The datatype can either be <strong>String</strong> (mapped to an RDF Literal),
                                the name of an GabotoBean or the name of an GabotoEntity.
                            </dd><dt><a name="index.xml-item-id93621"><!--anchor--></a><a name="index.xml-label-id93618"><!--anchor--></a>uri (mandatory)</dt><dd>
                                Defines the predicate URI this property should be matched to. This has to be a valid URI.
                            </dd><dt><a name="index.xml-item-id93631"><!--anchor--></a><a name="index.xml-label-id93627"><!--anchor--></a>collection</dt><dd>
                                Defines whether the property stores exactly one value, or whether it stores a list of values
                                (mapped to <a class="link_ref" href="http://www.w3.org/TR/REC-rdf-syntax/#collections" target="_top" title="RDF Collections">RDF Collections</a>).
                                Supported values are:
                                <ul><li><a name="id93648"><!--anchor--></a><strong>bag</strong>: an unordered list.</li></ul>
                            </dd></dl>
                    </div>
                    <div class="teidiv3" id="body.1_div.3_div.3_div.3_div.1"><h5><a name="body.1_div.3_div.3_div.3_div.1"></a>3.3.3.1. The bean's RDF</h5>
                        
                        <div class="p"><a name="id93664"><!--anchor--></a>
                            As we have said, GabotoBeans (or complex properties) are properties that are connected
                            to an GabotoEntity in the underlying RDF via a blank node. Here is an example of the
                            RDF produced by the Address bean.
                            <div class="pre_eg cdata">
                                
&lt;http://ns.ox.ac.uk/namespaces/Gaboto/data/unit/c40051d6&gt;
          v:adr [ a       v:Address ;
                    v:postal_code "OX2 6LY" ;
                    v:street_address "1 Church Walk, Oxford"
                  ] ;                                
                                
                            </div>
                        </div>
                    </div>
                    <div class="teidiv3" id="body.1_div.3_div.3_div.3_div.2"><h5><a name="body.1_div.3_div.3_div.3_div.2"></a>3.3.3.2. The Resulting Class</h5>
                        
                        <div class="p"><a name="id93683"><!--anchor--></a>
                            From a <span class="gi">&lt;GabotoBean&gt;</span> element, Gaboto creates a custom Java class. Here is
                            the result for the Address bean class.
                            <div class="pre_eg cdata">
                                
public class Address extends GabotoBean {
	private String postCode;
	private String streetAddress;
	@Override
	public String getType(){
		return "http://nwalsh.com/rdf/vCard#Address";
	}
	@SimpleLiteralProperty("http://nwalsh.com/rdf/vCard#postal_code")
	public String getPostCode(){
		return this.postCode;
	}

	@SimpleLiteralProperty("http://nwalsh.com/rdf/vCard#postal_code")
	public void setPostCode(String postCode){
		this.postCode = postCode;
	}

	@SimpleLiteralProperty("http://nwalsh.com/rdf/vCard#street_address")
	public String getStreetAddress(){
		return this.streetAddress;
	}

	@SimpleLiteralProperty("http://nwalsh.com/rdf/vCard#street_address")
	public void setStreetAddress(String streetAddress){
		this.streetAddress = streetAddress;
	}

	public void loadFromResource(Resource res, GabotoSnapshot snapshot, GabotoEntityPool pool) {
		super.loadFromResource(res, snapshot, pool);
		Statement stmt;

		stmt = res.getProperty(snapshot.getProperty("http://nwalsh.com/rdf/vCard#postal_code"));
		if(null != stmt &amp;&amp; stmt.getObject().isLiteral())
			this.setPostCode(((Literal)stmt.getObject()).getString());

		stmt = res.getProperty(snapshot.getProperty("http://nwalsh.com/rdf/vCard#street_address"));
		if(null != stmt &amp;&amp; stmt.getObject().isLiteral())
			this.setStreetAddress(((Literal)stmt.getObject()).getString());

	}
}
                                
                            </div>
                        </div>
                        <p><a name="id93697"><!--anchor--></a>
                            We will have a look at the meaning of the annotations and the <strong>loadFromResource</strong>
                            method in <a class="link_ptr" href="#part_extending" title="Part III - Extending Gaboto">4. Part III - Extending Gaboto</a>.
                        </p>
                    </div>
                    <div class="teidiv3" id="body.1_div.3_div.3_div.3_div.3"><h5><a name="body.1_div.3_div.3_div.3_div.3"></a>3.3.3.3. Custom Methods</h5>
                        
                        <p><a name="id93717"><!--anchor--></a>
                            In some cases, you might want to add custom helper methods to a bean class. For this
                            purpose you can use the <span class="gi">&lt;customMethods&gt;</span> element (at the same level as <span class="gi">&lt;properties&gt;</span>)
                            containing <span class="gi">&lt;method&gt;</span> elements. <span class="gi">&lt;method&gt;</span> can then contain plain Java code, that is
                            added to the class.                            
                        </p>
                    </div>
                </div>
                <div class="teidiv2" id="body.1_div.3_div.3_div.4"><h4><a name="body.1_div.3_div.3_div.4"></a>3.3.4. Defining GabotoEntities</h4>
                    
                    <div class="p"><a name="id93749"><!--anchor--></a>
                        The configuration for GabotoEntities is similar to GabotoBeans but as you might guess
                        a bit more complex. Let's start with a simple entity: <strong>Image</strong>
                        <div class="pre">
<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Image</span>"
ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Image</span>"&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">properties</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">width</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">String</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#width</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">height</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">String</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#height</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">imageOf</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">GabotoEntity</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">collection</span>="<span class="attributevalue">bag</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#imageOf</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">properties</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoEntity</span>&gt;</span></div>
                    </div>
                    <div class="p"><a name="id93809"><!--anchor--></a>
                        An GabotoEntity is defined using the <span class="gi">&lt;GabotoEntity&gt;</span> element. This element has
                        two mandatory and one optional attributes:
                        <dl><dt><a name="index.xml-item-id93826"><!--anchor--></a><a name="index.xml-label-id93822"><!--anchor--></a>name (mandatory)</dt><dd>
                                The name attribute, describes the entity's name. It should start with an
                                uppercase letter and following the rules for Java class names, as it will be used
                                as the class name for the corresponding Java class. 
                            </dd><dt><a name="index.xml-item-id93838"><!--anchor--></a><a name="index.xml-label-id93834"><!--anchor--></a>type (mandatory)</dt><dd>
                                The type attribute defines the type (RDF:type) of the entity. It has to be a URI.
                            </dd><dt><a name="index.xml-item-id93847"><!--anchor--></a><a name="index.xml-label-id93844"><!--anchor--></a>abstract</dt><dd>
                                If set to <em>true</em>, then the resulting class will be labeled as abstract.
                            </dd></dl>
                    </div>
                    <div class="p"><a name="id93858"><!--anchor--></a>
                        Each <span class="gi">&lt;property&gt;</span> element has three mandatory attributes and an optional collection
                        attribute:
                        <dl><dt><a name="index.xml-item-id93875"><!--anchor--></a><a name="index.xml-label-id93871"><!--anchor--></a>name (mandatory)</dt><dd>
                                The property's name is used to derive the method names for the resulting class. <strong>imageOf</strong> would
                                produce the names: <strong>getImageOf</strong>, <strong>setImageOf</strong> and <strong>addImageOf</strong><a name="Note13"><!--anchor--></a> [Note: 
                                    The add method is added whenever you have a collection property.
                                ].
                            </dd><dt><a name="index.xml-item-id93904"><!--anchor--></a><a name="index.xml-label-id93900"><!--anchor--></a>type (mandatory)</dt><dd>
                                Defines the property's datatype. The datatype can either be <strong>String</strong> (mapped to an RDF Literal),
                                the name of an GabotoBean or the name of an GabotoEntity.
                            </dd><dt><a name="index.xml-item-id93918"><!--anchor--></a><a name="index.xml-label-id93915"><!--anchor--></a>uri (mandatory)</dt><dd>
                                Defines the predicate URI this property should be matched to. This has to be a valid URI.
                            </dd><dt><a name="index.xml-item-id93928"><!--anchor--></a><a name="index.xml-label-id93924"><!--anchor--></a>collection</dt><dd>
                                Defines whether the property stores exactly one value, or whether it stores a list of values
                                (mapped to <a class="link_ref" href="http://www.w3.org/TR/REC-rdf-syntax/#collections" target="_top" title="RDF Collections">RDF Collections</a>).
                                Supported values are:
                                <ul><li><a name="id93945"><!--anchor--></a><strong>bag</strong>: an unordered list.</li></ul>
                            </dd></dl>
                    </div>
                    <div class="p"><a name="id93955"><!--anchor--></a>
                        So far not much new. Let's have a look at a more complex entity:
                        <div class="pre">
<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Place</span>"
ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Place</span>"&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">properties</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">name</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">String</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://purl.org/dc/elements/1.1/title</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">parent</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Place</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#physicallyContainedWithin</span>"&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">indirectProperty</span>
ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLocation</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">property</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">location</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Location</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLocation</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">address</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Address</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://nwalsh.com/rdf/vCard#adr</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">homepage</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Website</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasHomepage</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">passiveProperty</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">containedPlaces</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Place</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">relationshipType</span>="<span class="attributevalue">1:N</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#physicallyContainedWithin</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">properties</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">GabotoEntities</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Building</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Building</span>"&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">properties</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">passiveProperty</span>
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">occupiedBy</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Unit</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">relationshipType</span>="<span class="attributevalue">N:M</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#occupies</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">properties</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoEntity</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Carpark</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Carpark</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">DrainCover</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#DrainCover</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Entrance</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Entrance</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Room</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Room</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Site</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Site</span>"/&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">WAP</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#WAP</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">GabotoEntities</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoEntity</span>&gt;</span></div>
                    </div>
                    <div class="teidiv3" id="body.1_div.3_div.3_div.4_div.1"><h5><a name="body.1_div.3_div.3_div.4_div.1"></a>3.3.4.1. Inheritance</h5>
                        
                        <p><a name="id94132"><!--anchor--></a>
                            <span class="gi">&lt;GabotoEntity&gt;</span> can contain a <span class="gi">&lt;GabotoEntities&gt;</span> element. With this
                            it is possible to create an inheritance structure which is then mapped to Java. In the case
                            of Place the entities Building, Carpark, DrainCover, Entrance, Room, Site and WAP are sub types
                            and therefore inherit all the properties defined on Place. 
                        </p>
                    </div>
                    <div class="teidiv3" id="body.1_div.3_div.3_div.4_div.2"><h5><a name="body.1_div.3_div.3_div.4_div.2"></a>3.3.4.2. Indirect Properties</h5>
                        
                        <div class="p"><a name="id94156"><!--anchor--></a>
                            Each <span class="gi">&lt;property&gt;</span> element can have multiple <span class="gi">&lt;indirectProperty&gt;</span> child elements. An indirect
                            property serves two objectives:
                            <ol><li><a name="id94173"><!--anchor--></a>
                                    In case you do not have a direct property defined (active, static and unstored)                
                                    for this URI, then Gaboto will search for
                                    that property in the entity returned by the outer property definition.
                                </li><li><a name="id94182"><!--anchor--></a>
                                    In case you have a direct property defined for this URI, Gaboto uses the indirect property as
                                    a fallback solution in case the return value from the direct property is null.
                                </li></ol>
                        </div>
                        <p><a name="id94192"><!--anchor--></a>
                            Let us have a look at the example. In the example, the property (with the uri <strong>http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#physicallyContainedWithin</strong>)
                            has an indirect property definition for the property <strong>http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLocation</strong>. This means, that if
                            you ask an object of type Place for the property <strong>hasLocation</strong> it will since it has a direct
                            property defined for it, first check the direct property and return its value if it is not null. If it
                            is null, it will take the result of the property <strong>physicallyContainedWithin</strong> (which returns an GabotoEntity)
                            and search for the <strong>hasLocation</strong> property there. 
                        </p>
                        <p><a name="id94227"><!--anchor--></a>
                            Another example (now case 2) would be the location of a Unit. A Unit does not have a direct property
                            for <strong>hasLocation</strong>. But we have defined that the location of a Unit is the location of its 
                            primary building (described by the property <strong>hasPrimaryBuilding</strong>). 
                        </p>
                        <p><a name="id94243"><!--anchor--></a>
                            Since indirect properties try to search for a property at a different entity, they can naturally only
                            be defined on properties, that describe a relationship with another entity (store another entity).
                        </p>
                        <div class="teidiv4" id="body.1_div.3_div.3_div.4_div.2_div.1"><h6><a name="body.1_div.3_div.3_div.4_div.2_div.1"></a>3.3.4.2.1. Multiple Alternatives</h6>
                            
                            <div class="p"><a name="id94257"><!--anchor--></a>
                                In some cases you might want to specify more than one "alternative" using indirect
                                properties. For example for Units, we might want to say, that the location should be searched
                                for in its primary building, if this fails, then go to the super Unit and search for
                                the location there. We can do this by adding another attribute <strong>n</strong> on the
                                <span class="gi">&lt;indirectProperty&gt;</span> elements which takes a natural number (starting with 1) and defines the order
                                in which the indirect properties should be processed.<a name="Note14"><!--anchor--></a> [Note: If <strong>n</strong> is not defined, the
                                default <strong>1</strong> will be assumed.]
                                <div class="pre">
<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Unit</span>"
ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Unit</span>"&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">properties</span>&gt;</span> ...
ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">primaryPlace</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Place</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#primaryPlace</span>"&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">indirectProperty</span>
ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLocation</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">n</span>="<span class="attributevalue">1</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">property</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">subsetOf</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Unit</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#subsetOf</span>"&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">indirectProperty</span>
ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLocation</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">n</span>="<span class="attributevalue">2</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">property</span>&gt;</span>
ï¿½ï¿½ ...
ï¿½<span class="element">&lt;/<span class="elementname">properties</span>&gt;</span>
 ...
<span class="element">&lt;/<span class="elementname">GabotoEntity</span>&gt;</span></div>
                            </div>
                        </div>
                        <div class="teidiv4" id="body.1_div.3_div.3_div.4_div.2_div.2"><h6><a name="body.1_div.3_div.3_div.4_div.2_div.2"></a>3.3.4.2.2. Method Creation</h6>
                            
                            <p><a name="id94356"><!--anchor--></a>
                                By default no methods are created for indirect properties. If you want Gaboto to create a
                                get method for you, you have to add a name attribute onto the <span class="gi">&lt;indirectProperty&gt;</span> 
                                element. 
                                Note: Currently methods to look up indirect properties are not type safe. This means that
                                they will return an object of type <strong>Object</strong> and you have to manually cast it.
                                
                            </p>
                        </div>
                    </div>
                    <div class="teidiv3" id="body.1_div.3_div.3_div.4_div.3"><h5><a name="body.1_div.3_div.3_div.4_div.3"></a>3.3.4.3. Passive Properties</h5>
                        
                        <p><a name="id94382"><!--anchor--></a>
                            If an entity has a relationship with another entity, but the information about this
                            relationship is stored with the other entity, we can add a <span class="gi">&lt;passiveProperty&gt;</span> element
                            to tell Gaboto to include methods, that automatically dereference the properties and
                            allow for easy access.
                        </p>
                        <div class="p"><a name="id94396"><!--anchor--></a>
                            Places, for example, have the property <strong>physicallyContainedWithin</strong>. So each place
                            directly knows its parent. If we now wanted to be able to tell, what places a place contains,
                            we had to dereference the property and search for it "backwards". Adding a <strong>passive property</strong>
                            will do all that and we can access the contained places like any other property.
                            
                            <div class="pre">
<span class="element">&lt;<span class="elementname">passiveProperty</span>
ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">containedPlaces</span>"
ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Place</span>"
ï¿½ï¿½<span class="attribute">relationshipType</span>="<span class="attributevalue">1:N</span>"
ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#physicallyContainedWithin</span>"/&gt;</span></div>
                        </div>
                        <div class="p"><a name="id94433"><!--anchor--></a>
                            The <span class="gi">&lt;passiveProperty&gt;</span> element has four mandatory attributes:
                            <dl><dt><a name="index.xml-item-id94448"><!--anchor--></a><a name="index.xml-label-id94445"><!--anchor--></a>name</dt><dd>
                                    The property's name. The name is used to derive the method names. In the example
                                    a method <strong>getContainedPlaces</strong> would be created.
                                </dd><dt><a name="index.xml-item-id94464"><!--anchor--></a><a name="index.xml-label-id94460"><!--anchor--></a>type</dt><dd>
                                    The type of the GabotoEntity where the actual property is stored.
                                </dd><dt><a name="index.xml-item-id94474"><!--anchor--></a><a name="index.xml-label-id94471"><!--anchor--></a>relationshipType</dt><dd>
                                    Defines the cardinality of the relationship. The first part describes the number of 
                                    entities that take part in the relationship, of the type where the passive property is defined.
                                    The second part describes the number of entities that take part in the relationship, of the type
                                    where the actual property is defined.
                                    Allowed values are:
                                    <dl><dt><a name="index.xml-item-id94484"><!--anchor--></a><a name="index.xml-label-id94481"><!--anchor--></a>1:N</dt><dd>
                                            Example: One place contains many places, whereas each place is only directly contained in
                                            one other place.
                                        </dd><dt><a name="index.xml-item-id94494"><!--anchor--></a><a name="index.xml-label-id94491"><!--anchor--></a>N:M</dt><dd>
                                            Example: A unit occupies many buildings and each building may be occupied by multiple units.
                                        </dd></dl>
                                </dd><dt><a name="index.xml-item-id94506"><!--anchor--></a><a name="index.xml-label-id94503"><!--anchor--></a>uri</dt><dd>
                                    The URI, that describes the property.
                                </dd></dl>
                        </div>
                        <div class="teidiv4" id="body.1_div.3_div.3_div.4_div.3_div.1"><h6><a name="body.1_div.3_div.3_div.4_div.3_div.1"></a>3.3.4.3.1. Set- and Add- Methods</h6>
                            
                            <p><a name="id94517"><!--anchor--></a>
                                Even though passive properties will create set (and sometimes add) methods, these should not
                                be used. They are only used when loading the data from RDF and whatever is stored in a passive 
                                property will have no effect, when storing the entity.
                            </p>
                        </div>
                    </div>
                    <div class="teidiv3" id="body.1_div.3_div.3_div.4_div.4"><h5><a name="body.1_div.3_div.3_div.4_div.4"></a>3.3.4.4. Custom Methods</h5>
                        
                        <p><a name="id94535"><!--anchor--></a>
                            As is the case with GabotoBeans, you might want to add custom helper methods to an entity class. For this
                            purpose you can use the <span class="gi">&lt;customMethods&gt;</span> element (at the same level as <span class="gi">&lt;properties&gt;</span>)
                            containing <span class="gi">&lt;method&gt;</span> elements. <span class="gi">&lt;method&gt;</span> can then contain plain Java code, that is
                            added to the class.                            
                        </p>
                    </div>
                    <div class="teidiv3" id="body.1_div.3_div.3_div.4_div.5"><h5><a name="body.1_div.3_div.3_div.4_div.5"></a>3.3.4.5. Static Properties</h5>
                        
                        <p><a name="id94566"><!--anchor--></a>
                            You might have noticed, that most of the methods that are automatically generated are annotated using
                            <a class="link_ref" href="http://en.wikipedia.org/wiki/Java_annotation" target="_top" title="Java Annotations">Java Annotations</a>. Using 
                            <a class="link_ref" href="http://java.sun.com/docs/books/tutorial/reflect/index.html" target="_top" title="reflection">reflection</a> Gaboto takes
                            these annotations to figure out how to create RDF for the various properties<a name="Note15"><!--anchor--></a> [Note: This could be in fact
                            changed to also create the appropriate methods for RDF generation during the creation of the class. However,
                            since this is (at least at the moment) not a time critical task, reflection is more than adequate for
                            the job]. More importantly however, the annotations are used by the general output transformers
                            (such as KML, JSON, etc.).
                        </p>
                        <div class="p"><a name="id94599"><!--anchor--></a>
                            In order to generate output for any kind of GabotoEntity, the general output transformers treat
                            each entity not as a specific entity (such as college, building etc.) but as an GabotoEntity, that 
                            has certain properties. The KML transformer, for example, simply checks for the following properties:
                            <dl><dt><a name="index.xml-item-id94627"><!--anchor--></a><a name="index.xml-label-id94613"><!--anchor--></a>http://purl.org/dc/elements/1.1/title</dt><dd>
                                    The dublin core title property.
                                </dd><dt><a name="index.xml-item-id94632"><!--anchor--></a><a name="index.xml-label-id94617"><!--anchor--></a>http://purl.org/dc/elements/1.1/description</dt><dd>
                                    The dublin core description property, which is used as an optional description. This
                                    can contain HTML.
                                </dd><dt><a name="index.xml-item-id94644"><!--anchor--></a><a name="index.xml-label-id94640"><!--anchor--></a>http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLocation</dt><dd>
                                    The Gaboto location attribute, used to define the entity's location.
                                </dd></dl>
                        </div>
                        <div class="p"><a name="id94652"><!--anchor--></a>
                            In some cases, as, for example, with the <strong>http://purl.org/dc/elements/1.1/description</strong> property, you might not want to 
                            actually store this property in the database, but be able to generate it "on the fly" by combining
                            various bits of information. For this purpose you can create <strong>custom methods</strong> and annotate
                            these with the <strong>StaticProperty</strong> annotation. The single parameter to the annotation is the 
                            property's URI. The method should have no parameters, and the return value should (naturally)
                            correspond to the definition of the property (in the case of http://purl.org/dc/elements/1.1/description the return value
                            should be a string).
                            <div class="pre">
<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Unit</span>"
ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Unit</span>"&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">properties</span>&gt;</span> ...
ï¿½<span class="element">&lt;/<span class="elementname">properties</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">customMethods</span>&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">method</span>&gt;</span> 
ï¿½ï¿½ï¿½ï¿½ @StaticProperty("http://purl.org/dc/elements/1.1/description")
ï¿½ï¿½ï¿½ï¿½ public String getDescription(){
ï¿½ï¿½ï¿½ï¿½ String description = "";
ï¿½ï¿½ï¿½ï¿½ 
ï¿½ï¿½ï¿½ï¿½ if(null != getHomepage())
ï¿½ï¿½ï¿½ï¿½ description += "Website: &lt;a href=\"" + getHomepage().getUri() + "\"&gt;" + getHomepage().getUri() + "&lt;/a&gt;&lt;br/&gt;";
ï¿½ï¿½ï¿½ï¿½ if(null != getImages() &amp;amp;&amp;amp; getImages().size() &gt; 0){
ï¿½ï¿½ï¿½ï¿½ Image img = getImages().iterator().next();
ï¿½ï¿½ï¿½ï¿½ description += "&lt;img src=\"" + img.getUri() + "\" width=\"" + img.getWidth() + "\" height=\"" + img.getHeight() + "\"/&gt;";
ï¿½ï¿½ï¿½ï¿½ }
ï¿½ï¿½ï¿½ï¿½ 
ï¿½ï¿½ï¿½ï¿½ return description;
ï¿½ï¿½ï¿½ï¿½ }
ï¿½ï¿½ï¿½ï¿½ 
ï¿½ï¿½<span class="element">&lt;/<span class="elementname">method</span>&gt;</span><span class="element">&lt;/<span class="elementname">customMethods</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">GabotoEntities</span>&gt;</span> ...
ï¿½<span class="element">&lt;/<span class="elementname">GabotoEntities</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoEntity</span>&gt;</span></div>
                        </div>
                    </div>
                    <div class="teidiv3" id="body.1_div.3_div.3_div.4_div.6"><h5><a name="body.1_div.3_div.3_div.4_div.6"></a>3.3.4.6. Unstored Properties</h5>
                        
                        <div class="p"><a name="id94718"><!--anchor--></a>
                            Unstored properties are properties that have the same value as a stored property, but that
                            are not persisted. They are mainly used by tools (e.g. transformation tools) that work with GabotoEntities
                            in a generic way. For example the KML transformation looks for a property called
                            <em>http://ns.ox.ac.uk/namespace/gaboto/kml/2009/03/owl#parent</em> when it constructs the title of a placemark. If it finds
                            the <em>parent</em> attribute it will add the parent's title to the title to create
                            a comma separated list of titles:
                            <div class="pre">
<span class="element">&lt;<span class="elementname">kml</span> xmlns="http://www.opengis.net/kml/2.2"
&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">Document</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="elementname">Placemark</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">name</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½ï¿½&gt;</span>All Souls College Library, All Souls College<span class="element">&lt;/<span class="elementname">name</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">description</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½ï¿½&gt;</span>Website: &lt;a href="http://www.all-souls.ox.ac.uk/library/"&gt;http://www.all-souls.ox.ac.uk/library/&lt;/a&gt;&lt;br/&gt;<span class="element">&lt;/<span class="elementname">description</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">Point</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½ï¿½&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">coordinates</span> xmlns="http://www.opengis.net/kml/2.2"
ï¿½ï¿½ï¿½ï¿½&gt;</span>-1.253042221069336,51.75278555467572<span class="element">&lt;/<span class="elementname">coordinates</span>&gt;</span><span class="element">&lt;/<span class="elementname">Point</span>&gt;</span><span class="element">&lt;/<span class="elementname">Placemark</span>&gt;</span><span class="element">&lt;/<span class="elementname">Document</span>&gt;</span><span class="element">&lt;/<span class="elementname">kml</span>&gt;</span></div>
                        </div>
                        <div class="p"><a name="id94776"><!--anchor--></a>
                            Usually you have such properties already defined in a more specific ontology. Here is the
                            example of OxPoints Unit:
                            <div class="pre">
<span class="element">&lt;<span class="elementname">GabotoEntity</span>
ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">Unit</span>"
ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Unit</span>"&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">properties</span>&gt;</span> ...
ï¿½<span class="element">&lt;<span class="elementname">property</span>
ï¿½ï¿½ï¿½ï¿½<span class="attribute">name</span>="<span class="attributevalue">subsetOf</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">type</span>="<span class="attributevalue">Unit</span>"
ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#subsetOf</span>"&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">indirectProperty</span>
ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLocation</span>"
ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">n</span>="<span class="attributevalue">3</span>"/&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="elementname">unstoredProperty</span>
ï¿½ï¿½ï¿½ï¿½ï¿½<span class="attribute">uri</span>="<span class="attributevalue">http://ns.ox.ac.uk/namespace/gaboto/kml/2009/03/owl#parent</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">property</span>&gt;</span>
ï¿½ï¿½ ...
ï¿½<span class="element">&lt;/<span class="elementname">properties</span>&gt;</span>
 ...
<span class="element">&lt;<span class="elementname">GabotoEntities</span>&gt;</span> ...
ï¿½<span class="element">&lt;/<span class="elementname">GabotoEntities</span>&gt;</span><span class="element">&lt;/<span class="elementname">GabotoEntity</span>&gt;</span></div>
                        </div>
                        <p><a name="id94829"><!--anchor--></a>
                            You can add as many unstored properties into a property element as you like. If you add
                            a name attribute getMethods will be created.
                        </p>
                    </div>
                    <div class="teidiv3" id="body.1_div.3_div.3_div.4_div.7"><h5><a name="body.1_div.3_div.3_div.4_div.7"></a>3.3.4.7. The resulting Java Class for Place</h5>
                        
                        <div class="pre_eg cdata">
                            
package org.oucs.gaboto.entities;

import java.util.HashMap;
import java.util.Map;
import java.util.Collection;
import java.util.HashSet;
import java.util.Set;
import java.util.List;
import java.util.ArrayList;
import java.lang.reflect.Method;
import org.oucs.gaboto.entities.utils.SimpleLiteralProperty;
import org.oucs.gaboto.entities.utils.SimpleURIProperty;
import org.oucs.gaboto.entities.utils.ComplexProperty;
import org.oucs.gaboto.entities.utils.BagURIProperty;
import org.oucs.gaboto.entities.utils.BagLiteralProperty;
import org.oucs.gaboto.entities.utils.BagComplexProperty;
import org.oucs.gaboto.entities.utils.IndirectProperty;
import org.oucs.gaboto.entities.utils.UnstoredProperty;
import org.oucs.gaboto.entities.utils.PassiveProperty;
import org.oucs.gaboto.entities.utils.StaticProperty;
import org.oucs.gaboto.vocabulary.*;
import org.oucs.gaboto.entities.GabotoEntity;
import org.oucs.gaboto.entities.pool.GabotoEntityPool;
import org.oucs.gaboto.entities.pool.EntityExistsCallback;
import org.oucs.gaboto.entities.pool.PassiveEntitiesRequest;
import org.oucs.gaboto.model.GabotoSnapshot;
import com.hp.hpl.jena.rdf.model.Resource;
import com.hp.hpl.jena.rdf.model.Statement;
import com.hp.hpl.jena.rdf.model.StmtIterator;
import com.hp.hpl.jena.rdf.model.Property;
import com.hp.hpl.jena.rdf.model.Literal;
import com.hp.hpl.jena.rdf.model.Bag;
import com.hp.hpl.jena.rdf.model.NodeIterator;
import com.hp.hpl.jena.rdf.model.RDFNode;
import com.hp.hpl.jena.ontology.OntClass;
import org.oucs.gaboto.entities.OxpEntity;
import org.oucs.gaboto.beans.Location;
import org.oucs.gaboto.beans.Address;


/**
 *&lt;p&gt;This class was automatically generated by Gaboto&lt;p&gt;
 */
public class Place extends OxpEntity {
	private String name;
	private Place parent;
	private Location location;
	private Address address;
	private Website homepage;
	private Collection&lt;Place&gt; containedPlaces;


	private static Map&lt;String, List&lt;Method&gt;&gt; indirectPropertyLookupTable;
	static{
		indirectPropertyLookupTable = new HashMap&lt;String, List&lt;Method&gt;&gt;();
		List&lt;Method&gt; list;

		try{
			list = new ArrayList&lt;Method&gt;();
			list.add(Place.class.getMethod("getParent", (Class&lt;?&gt;[])null));
			indirectPropertyLookupTable.put("http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLocation", list);

		} catch (Exception e) {
			e.printStackTrace();
		}
	}

	@Override
	public String getType(){
		return "http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Place";
	}

	@SimpleLiteralProperty(
		value = "http://purl.org/dc/elements/1.1/title",
		datatypeType = "javaprimitive",
		javaType = "String"
	)
	public String getName(){
		return this.name;
	}

	@SimpleLiteralProperty(
		value = "http://purl.org/dc/elements/1.1/title",
		datatypeType = "javaprimitive",
		javaType = "String"
	)
	public void setName(String name){
		this.name = name;
	}

	@UnstoredProperty({"http://ns.ox.ac.uk/namespace/gaboto/kml/2009/03/owl#parent"})
	@IndirectProperty({"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLocation"})
	@SimpleURIProperty("http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#physicallyContainedWithin")
	public Place getParent(){
		if(! this.isDirectReferencesResolved())
			this.resolveDirectReferences();
		return this.parent;
	}

	@SimpleURIProperty("http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#physicallyContainedWithin")
	public void setParent(Place parent){
		if( null != parent)
			this.removeMissingReference( parent.getUri() );
		this.parent = parent;
	}

	@ComplexProperty("http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLocation")
	public Location getLocation(){
		return this.location;
	}

	@ComplexProperty("http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLocation")
	public void setLocation(Location location){
		this.location = location;
	}

	@ComplexProperty("http://nwalsh.com/rdf/vCard#adr")
	public Address getAddress(){
		return this.address;
	}

	@ComplexProperty("http://nwalsh.com/rdf/vCard#adr")
	public void setAddress(Address address){
		this.address = address;
	}

	@SimpleURIProperty("http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasHomepage")
	public Website getHomepage(){
		if(! this.isDirectReferencesResolved())
			this.resolveDirectReferences();
		return this.homepage;
	}

	@SimpleURIProperty("http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasHomepage")
	public void setHomepage(Website homepage){
		if( null != homepage)
			this.removeMissingReference( homepage.getUri() );
		this.homepage = homepage;
	}

	@PassiveProperty(
		uri = "http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#physicallyContainedWithin",
		entity = "Place"
	)
	public Collection&lt;Place&gt; getContainedPlaces(){
		if(! isPassiveEntitiesLoaded() )
			loadPassiveEntities();
		return this.containedPlaces;
	}

	@PassiveProperty(
		uri = "http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#physicallyContainedWithin",
		entity = "Place"
	)
	private void setContainedPlaces(Collection&lt;Place&gt; containedPlaces){
		this.containedPlaces = containedPlaces;
	}

	private void addContainedPlace(Place containedPlace){
		if(null == this.containedPlaces)
			this.containedPlaces = new HashSet&lt;Place&gt;();
		this.containedPlaces.add(containedPlace);
	}


	public Collection&lt;PassiveEntitiesRequest&gt; getPassiveEntitiesRequest(){
		Collection&lt;PassiveEntitiesRequest&gt; requests = super.getPassiveEntitiesRequest();
		if(null == requests)
			requests = new HashSet&lt;PassiveEntitiesRequest&gt;();
		requests.add(new PassiveEntitiesRequest(){
			public String getType() {
				return "http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Place";
			}

			public String getUri() {
				return "http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#physicallyContainedWithin";
			}

			public int getCollectionType() {
				return GabotoEntityPool.PASSIVE_PROPERTY_COLLECTION_TYPE_NONE;
			}

			public void passiveEntityLoaded(GabotoEntity entity) {
				addContainedPlace((Place)entity);
			}
		});
		return requests;
	}


	public void loadFromSnapshot(Resource res, GabotoSnapshot snapshot, GabotoEntityPool pool) {
		super.loadFromSnapshot(res, snapshot, pool);
		Statement stmt;

		stmt = res.getProperty(snapshot.getProperty("http://purl.org/dc/elements/1.1/title"));
		if(null != stmt &amp;&amp; stmt.getObject().isLiteral())
			this.setName(((Literal)stmt.getObject()).getString());

		stmt = res.getProperty(snapshot.getProperty("http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#physicallyContainedWithin"));
		if(null != stmt &amp;&amp; stmt.getObject().isResource()){
			Resource missingReference = (Resource)stmt.getObject();
			EntityExistsCallback callback = new EntityExistsCallback(){
				public void entityExists(GabotoEntityPool pool, GabotoEntity entity) {
					setParent((Place)entity);
				}
			};
			this.addMissingReference(missingReference, callback);
		}

		stmt = res.getProperty(snapshot.getProperty("http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLocation"));
		if(null != stmt &amp;&amp; stmt.getObject().isAnon()){
			Location location = new Location();
			location.loadFromResource((Resource)stmt.getObject(), snapshot, pool);
			setLocation(location);
		}

		stmt = res.getProperty(snapshot.getProperty("http://nwalsh.com/rdf/vCard#adr"));
		if(null != stmt &amp;&amp; stmt.getObject().isAnon()){
			Address address = new Address();
			address.loadFromResource((Resource)stmt.getObject(), snapshot, pool);
			setAddress(address);
		}

		stmt = res.getProperty(snapshot.getProperty("http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasHomepage"));
		if(null != stmt &amp;&amp; stmt.getObject().isResource()){
			Resource missingReference = (Resource)stmt.getObject();
			EntityExistsCallback callback = new EntityExistsCallback(){
				public void entityExists(GabotoEntityPool pool, GabotoEntity entity) {
					setHomepage((Website)entity);
				}
			};
			this.addMissingReference(missingReference, callback);
		}

	}
	public List&lt;Method&gt; getIndirectMethodsForProperty(String propertyURI){
		List&lt;Method&gt; list = super.getIndirectMethodsForProperty(propertyURI);
		if(null == list)
			return indirectPropertyLookupTable.get(propertyURI);
		
		else{
			List&lt;Method&gt; tmp = indirectPropertyLookupTable.get(propertyURI);
			if(null != tmp)
				list.addAll(tmp);
		}
		return list;
	}

}    
                            
                        </div>
                    </div>
                </div>
            </div>
            <div class="teidiv1" id="body.1_div.3_div.4"><h3><a name="body.1_div.3_div.4"></a>3.4. Generating the Java Files from the Configuration</h3>
                
                <div class="teidiv2" id="body.1_div.3_div.4_div.1"><h4><a name="body.1_div.3_div.4_div.1"></a>3.4.1. From the Command Line</h4>
                    
                    <div class="p"><a name="id94861"><!--anchor--></a>
                        To generate the Java classes from the configuration file run:
                        <div class="pre_eg cdata">
                            
        org.oucs.gaboto.helperscripts.CreateClassesFromConfiguration  configfile outputdirEntities outputdirBeans outputdirMisc                         
                            
                        </div>
                    </div>
                    <p><a name="id94881"><!--anchor--></a>
                        You should then copy all the beans to org.oucs.gaboto.beans, all the entities to
                        org.oucs.gaboto.entities and all the misc files to org.oucs.gaboto.util and recompile
                        the Gaboto Library.
                    </p>
                </div>
                <div class="teidiv2" id="body.1_div.3_div.4_div.2"><h4><a name="body.1_div.3_div.4_div.2"></a>3.4.2. From within Java</h4>
                    
                    <p><a name="id94896"><!--anchor--></a>
                        The <a class="link_ref" href="#chap_objectModel_GabotoLibrary" title="GabotoLibrary">GabotoLibrary</a> offers a method to
                        trigger the generation of classes.
                    </p>
                </div>
                <div class="teidiv2" id="body.1_div.3_div.4_div.3"><h4><a name="body.1_div.3_div.4_div.3"></a>3.4.3. Using Apache Ant</h4>
                    
                    <p><a name="id94912"><!--anchor--></a>
                        See <a class="link_ptr" href="#compilingGaboto" title="Compiling Gaboto">4.1.3. Compiling Gaboto</a>.
                    </p>
                </div>    
            </div>
      </div>
              
        <div class="teidiv0" id="part_extending"><h2><a name="part_extending"></a>4. Part III - Extending Gaboto</h2>
            
            
            <div class="teidiv1" id="body.1_div.4_div.1"><h3><a name="body.1_div.4_div.1"></a>4.1. Working with the Gaboto Code</h3>
                
                <p><a name="id94936"><!--anchor--></a>
                    This section describes tools that should be used when developing Gaboto and
                    how to compile new versions.
                </p>
                
                <div class="teidiv2" id="body.1_div.4_div.1_div.1"><h4><a name="body.1_div.4_div.1_div.1"></a>4.1.1. Test Driven Development with JUnit</h4>
                    
                    <p><a name="id94948"><!--anchor--></a>
                         Most of Gaboto's more important objects were/are tested using unit tests
                         (using <a class="link_ref" href="http://www.junit.org/" target="_top" title="JUnit">JUnit</a>). Currently
                         Gaboto contains a test suit with 50+ test cases (in package:
                         org.oucs.gaboto.test). Whenever any changes to Gaboto are made, 
                         these tests should still run successfully (unless you have a very
                         good explanation)
                        <a name="Note16"><!--anchor--></a> [Note: 
                            The only test that is allowed to fail is <strong>testModelSizeEquality</strong>.
                            However, the difference between the expected and the actual value shouldn't
                            be too high (java.lang.AssertionError: expected:14616 but was:14615,
                            would be ok).                              
                         ].
                    </p>
                    <p><a name="id94979"><!--anchor--></a>
                        As some of the tests add and remove triples the tests should not be run against
                        a productive system.
                    </p>
                </div>
                
                <div class="teidiv2" id="transformOntologyIntoJava"><h4><a name="transformOntologyIntoJava"></a>4.1.2. Transforming Ontologies into Java Helper Classes</h4>
                    
                    <div class="p"><a name="id94997"><!--anchor--></a>
                        Typing in long URIs is hazardous and error prone. Jena therefore offers a 
                        small utility to create Java helper classes for OWL and RDFS ontologies
                        called <a class="link_ref" href="http://jena.sourceforge.net/how-to/schemagen.html" target="_top" title="schemagen">schemagen</a>.
                        The utility can be run from the command line, or via an ant task.
                        Here is an example ant task to transform the vCard ontology. For more examples
                        have a look at the ant build file <strong>build.xml</strong>.
                        
                        <div class="pre">
<span class="element">&lt;<span class="elementname">java</span>ï¿½<span class="attribute">classname</span>="<span class="attributevalue">jena.schemagen</span>"ï¿½<span class="attribute">classpathref</span>="<span class="attributevalue">eclp</span>"ï¿½<span class="attribute">fork</span>="<span class="attributevalue">yes</span>"&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">arg</span>ï¿½<span class="attribute">value</span>="<span class="attributevalue">-i</span>"/&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">arg</span>ï¿½<span class="attribute">value</span>="<span class="attributevalue">ontologies/vCard.owl</span>"/&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">arg</span>ï¿½<span class="attribute">value</span>="<span class="attributevalue">-n</span>"/&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">arg</span>ï¿½<span class="attribute">value</span>="<span class="attributevalue">VCard</span>"/&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">arg</span>ï¿½<span class="attribute">value</span>="<span class="attributevalue">-o</span>"/&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">arg</span>ï¿½<span class="attribute">value</span>="<span class="attributevalue">${vocab.dir}</span>"/&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">arg</span>ï¿½<span class="attribute">value</span>="<span class="attributevalue">--ontology</span>"/&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">arg</span>ï¿½<span class="attribute">value</span>="<span class="attributevalue">--package</span>"/&gt;</span>
ï¿½<span class="element">&lt;<span class="elementname">arg</span>ï¿½<span class="attribute">value</span>="<span class="attributevalue">org.oucs.gaboto.vocabulary</span>"/&gt;</span><span class="element">&lt;/<span class="elementname">java</span>&gt;</span></div>
                    </div>
                    <div class="p"><a name="id95071"><!--anchor--></a>
                        To run the schema generation call:
                        <div class="pre_eg cdata">
    ant schemas
                        </div>
                    </div>
                </div>
                
                <div class="teidiv2" id="compilingGaboto"><h4><a name="compilingGaboto"></a>4.1.3. Compiling Gaboto</h4>
                    
                    <div class="p"><a name="id95090"><!--anchor--></a>
                        Gaboto can be compiled using the provided <a class="link_ref" href="http://ant.apache.org/" target="_top" title="ant">ant</a> build script.
                        Available ant targets are:
                        <dl><dt><a name="index.xml-item-id95109"><!--anchor--></a><a name="index.xml-label-id95105"><!--anchor--></a>compile</dt><dd>
                                Compiles gaboto.
                            </dd><dt><a name="index.xml-item-id95117"><!--anchor--></a><a name="index.xml-label-id95113"><!--anchor--></a>debploy</dt><dd>
                                This is the default ant task. It will compile Gaboto and copy a Gaboto.jar file
                                and a Gaboto.zip (containing documentation, Gaboto.jar and all necessary libraries)
                                to the deploy directory.
                            </dd><dt><a name="index.xml-item-id95129"><!--anchor--></a><a name="index.xml-label-id95125"><!--anchor--></a>gabotoConfiguration</dt><dd>
                                Reads the configuration and copies the created classes to the correct positions.
                            </dd><dt><a name="index.xml-item-id95138"><!--anchor--></a><a name="index.xml-label-id95135"><!--anchor--></a>configureAndDeploy</dt><dd>
                                Creates the necessary classes from the configuration, compiles and deploys Gaboto. 
                            </dd><dt><a name="index.xml-item-id95148"><!--anchor--></a><a name="index.xml-label-id95144"><!--anchor--></a>schemas</dt><dd>
                                Transforms defined ontologies into Java helper classes (see <a class="link_ptr" href="#transformOntologyIntoJava" title="Transforming Ontologies into Java Helper Classes">4.1.2. Transforming Ontologies into Java Helper Classes</a>). 
                            </dd></dl>
                    </div>
                </div>
            </div>
            
            <div class="teidiv1" id="chap_extending_transformations"><h3><a name="chap_extending_transformations"></a>4.2. Output Transformation</h3>
                
                <p><a name="id95172"><!--anchor--></a>
                    Gaboto allows for the dynamic transformation of GabotoEntityPools into specified
                    output formats. These transformations are independent from the entities inside
                    the pool. In this section we'll have a look at existing transformers, their
                    implementations and how to create new transformers.
                </p>
                
                <div class="teidiv2" id="body.1_div.4_div.2_div.1"><h4><a name="body.1_div.4_div.2_div.1"></a>4.2.1. General Approach</h4>
                    
                    <p><a name="id95188"><!--anchor--></a>
                        Basically, there are two approaches to writing a transformer. The first approach
                        is to transform entire entities including all their properties into an output format
                        that can then be processed by another system. The <strong>JSON transformer</strong> does exactly
                        that and transforms entire entities into a JSON representation that can then be easily
                        processed from within JavaScript or in any other system that allows to import
                        JSON.
                    </p>
                    <p><a name="id95205"><!--anchor--></a>
                        The <strong>KML transformer</strong> follows a different approach. It looks for few very specific
                        properties that it needs to create valid KML documents and thereby ignores most of an entity's
                        properties. It also adds specific KML transformation properties, that an entity might
                        "implement" to guide the KML transformation process.
                    </p>
                </div>
                
                <div class="teidiv2" id="body.1_div.4_div.2_div.2"><h4><a name="body.1_div.4_div.2_div.2"></a>4.2.2. The KML Transformer</h4>
                    
                    <div class="p"><a name="id95225"><!--anchor--></a>
                        In its simplest form the KML transformer looks for three properties:
                        <ul><li><a name="id95234"><!--anchor--></a>http://purl.org/dc/elements/1.1/title</li><li><a name="id95238"><!--anchor--></a>http://purl.org/dc/elements/1.1/description</li><li><a name="id95242"><!--anchor--></a>http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLocation</li></ul>
                        It uses the generic methods provided by the <a class="link_ref" href="#chap_objectModel_GabotoEntity" title="GabotoEntity">GabotoEntity</a>
                        object (<em>getPropertyValue</em>) to see whether the entity that it currently transforms
                        has these properties or not. 
                    </div>
                    <div class="p"><a name="id95262"><!--anchor--></a>
                        A simple transformation of two entities from OxPoints could produce this KML:
                        <div class="pre_eg cdata">
    &lt;kml xmlns="http://www.opengis.net/kml/2.2"&gt;
        &lt;Document&gt;
            &lt;Placemark&gt;
                &lt;name&gt;All Souls College&lt;/name&gt;
                &lt;description&gt;&lt;![CDATA[Website: &lt;a href="http://www.all-souls.ox.ac.uk"&gt;http://www.all-souls.ox.ac.uk&lt;/a&gt;&lt;br/&gt;&lt;img src="http://www.oucs.ox.ac.uk/oxpoints/images/collegepictures/alls.jpg" width="167px" height="125px"/&gt;]]&gt;&lt;/description&gt;
                &lt;Point&gt;
                    &lt;coordinates&gt;-1.253042221069336,51.75278555467572&lt;/coordinates&gt;
                &lt;/Point&gt;
            &lt;/Placemark&gt;
            &lt;Placemark&gt;
                &lt;name&gt;Computing Services&lt;/name&gt;
                &lt;description&gt;&lt;![CDATA[Website: &lt;a href="http://www.oucs.ox.ac.uk/"&gt;http://www.oucs.ox.ac.uk/&lt;/a&gt;&lt;br/&gt;]]&gt;&lt;/description&gt;
                &lt;Point&gt;
                    
                    &lt;coordinates&gt;-1.26035,51.76001&lt;/coordinates&gt;
                &lt;/Point&gt;
            &lt;/Placemark&gt;
        &lt;/Document&gt;
    &lt;/kml&gt;

                        </div>
                    </div>
                    <p><a name="id95276"><!--anchor--></a>
                        Besides the properties mentioned above, the KML transformer also looks for a property
                        specific to its KML transformation: <strong>http://ns.ox.ac.uk/namespace/gaboto/kml/2009/03/owl#parent</strong>. When constructing the 
                        name of a placemark the KML transformer tries to establish a hierarchy using the <strong>parent</strong>
                        property in order to add the names of all direct ancestors to the KML <span class="gi">&lt;name&gt;</span> element.
                    </p>
                    <div class="p"><a name="id95297"><!--anchor--></a>
                        Since this property is seldom something an entity actually stores under this name, it is
                        usually modelled using an <strong>unstored property</strong> (see <a class="link_ptr" href="#porperties_unstoredProperty" title="Unstored Properties">3.2.6. Unstored Properties</a>).
                        For example, the All Souls College Library is a subunit of All Souls College
                        <div class="pre_eg cdata">
    &lt;kml xmlns="http://www.opengis.net/kml/2.2"&gt;
        &lt;Document&gt;
            &lt;Placemark&gt;
                &lt;name&gt;All Souls College Library, All Souls College&lt;/name&gt;
                &lt;description&gt;&lt;![CDATA[Website: &lt;a href="http://www.all-souls.ox.ac.uk/library/"&gt;http://www.all-souls.ox.ac.uk/library/&lt;/a&gt;&lt;br/&gt;]]&gt;&lt;/description&gt;
                &lt;Point&gt;
                    &lt;coordinates&gt;-1.253042221069336,51.75278555467572&lt;/coordinates&gt;
                &lt;/Point&gt;
            &lt;/Placemark&gt;
        &lt;/Document&gt;
    &lt;/kml&gt;
                        </div>
                    </div>
                </div>
                
                <div class="teidiv2" id="body.1_div.4_div.2_div.3"><h4><a name="body.1_div.4_div.2_div.3"></a>4.2.3. The JSON Transformer</h4>
                    
                    <p><a name="id95324"><!--anchor--></a>
                        The JSON transformer follows a very different approach. It does not care about specific
                        properties an entity might have or might not have, but it transforms all properties an entity
                        has. For this, it also uses the generic methods made available by the <a class="link_ref" href="#chap_objectModel_GabotoEntity" title="GabotoEntity">GabotoEntity</a>
                        object (<em>getAllDirectProperties</em>, <em>getAllPassiveProperties</em> and
                        <em>getAllIndirectProperties</em>). All properties are transformed into JSON key value
                        pairs. If the value is another entity, a sub object is created and depending on the configured
                        nesting level all of its properties are added.
                    </p>
                    <div class="p"><a name="id95356"><!--anchor--></a>
                        This is the JSON output for <strong>All Souls College Library</strong> with a nesting level of 1 (this
                        means that the properties of directly referenced entities are not included in the output):
                        <div class="pre_eg cdata">
                
    [{"uri":"http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/451091d3",
      "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Library",
      "http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasOUCSCode":"O_lib_asc",
      "http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#subsetOf":{
         "uri":"http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/eacfd81c",
         "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#College",
         "nestingToDeep":true
      }
      "http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasITHomepage":null,
      "http://purl.org/dc/elements/1.1/description":"Website: &lt;a href=\"http://www.all-souls.ox.ac.uk/library/\"&gt;http://www.all-souls.ox.ac.uk/library/&lt;\/a&gt;&lt;br/&gt;",
      "http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasHomepage":{
    	 "uri":"http://www.all-souls.ox.ac.uk/library/",
    	 "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Website",
    	 "nestingToDeep":true
      },
      "http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLibraryHomepage":{
      	 "uri":"http://www.lib.ox.ac.uk/libraries/guides/ASC.html",
      	 "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Website",
      	 "nestingToDeep":true
      },
      "http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasWeblearn":null,
      "http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#occupies":null,
      "http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#primaryPlace":null,
      "http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasOLISCode":"ASC",
      "http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#inImage":null,
      "http://ns.ox.ac.uk/namespace/gaboto/kml/2009/03/owl#parent":{
      	 "uri":"http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/eacfd81c",
      	 "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#College",
      	 "nestingToDeep":true
      },
      "http://purl.org/dc/elements/1.1/title":"All Souls College Library",
      "http://nwalsh.com/rdf/vCard#adr":null,
      "http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#hasLocation":{
      	 "http://www.opengis.net/gml/pos":"-1.253042221069336 51.75278555467572"
      },
      "passiveProperties":{
      	 "http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#subsetOf":[
      		{ "uri":"http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/9152267c",
      		  "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Library",
      		  "nestingToDeep":true},
      		{"uri":"http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/ae209cfc",
      		 "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Library",
      		 "nestingToDeep":true},
      		{"uri":"http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/de0e1221",
      		 "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Library",
      		 "nestingToDeep":true},
      		{"uri":"http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/74c2f3f6",
      		 "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Library",
      		 "nestingToDeep":true},
      		{"uri":"http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/bb83b72f",
      		 "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Library",
      		 "nestingToDeep":true},
      		{"uri":"http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/dca87473", 
      		 "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Library",
      		 "nestingToDeep":true},
      		{"uri":"http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/e64e46e5",
      		 "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Library",
      		 "nestingToDeep":true},
      		{"uri":"http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/95331e00",
      		 "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Library",
      		 "nestingToDeep":true},
      		{"uri":"http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/568a19b6",
      		 "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Library",
      		 "nestingToDeep":true},
      		{"uri":"http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/c4573969",
      		 "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Library",
      		 "nestingToDeep":true},
      		{"uri":"http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/3651f49e",
      		 "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Library",
      		 "nestingToDeep":true},
      		{"uri":"http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/0b80626d",
      		 "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Library",
      		 "nestingToDeep":true},
      		{"uri":"http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/5762f9fd",
      		 "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Library",
      		 "nestingToDeep":true},
      		{"uri":"http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/bd13f56e",
      		 "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Library",
      		 "nestingToDeep":true},
      		{"uri":"http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/2a770d05",
      		 "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Library",
      		 "nestingToDeep":true},
      		{"uri":"http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/139108dc",
      		 "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Library",
      		 "nestingToDeep":true},
      		{"uri":"http://ns.ox.ac.uk/namespaces/oxpoints/data/unit/0c5d61a7",
      		 "type":"http://ns.ox.ac.uk/namespace/oxpoints/2009/02/owl#Library",
      		 "nestingToDeep":true}
      	]
      }
    }]                
                                            
                        </div>
                    </div>
                </div>
                
                <div class="teidiv2" id="body.1_div.4_div.2_div.4"><h4><a name="body.1_div.4_div.2_div.4"></a>4.2.4. Adding new Output Transformations to Gaboto</h4>
                    
                    <p><a name="id95374"><!--anchor--></a>
                        New transformers should implement the <strong>EntityPoolTransformer</strong> interface.
                    </p>
                </div>
            </div>
            
            <div class="teidiv1" id="body.1_div.4_div.3"><h3><a name="body.1_div.4_div.3"></a>4.3. Insights into Gaboto</h3>
                
                <p><a name="id95390"><!--anchor--></a>
                    In this section I want to explain some of the ideas behind Gaboto's implementation.
                </p>
                <div class="teidiv2" id="body.1_div.4_div.3_div.1"><h4><a name="body.1_div.4_div.3_div.1"></a>4.3.1. JavaBeans vs. GabotoEntity and GabotoBean</h4>
                    
                    <p><a name="id95402"><!--anchor--></a>
                        Java Beans are reusable software components that follow certain coding guidelines and
                        allow introspection (accessing information about themselve at runtime). GabotoEntities
                        and Beans follow the Java Bean coding guidelines, but introspection is handled differently.
                    </p>
                    <p><a name="id95411"><!--anchor--></a>
                        As described in <a class="link_ptr" href="#chap_configuring_properties" title="Properties">3.2. Properties</a>, Gaboto knows of a range
                        of different property types, that have to be treated differently when trying to retrieve
                        or store values. For example an indirect property follows a path to a different GabotoEntity
                        and searches for the property in question there. In order to differentiate between the
                        different properties, Gaboto makes use of <a class="link_ref" href="http://en.wikipedia.org/wiki/Java_annotation" target="_top" title="Java annotations">Java annotations</a>.
                    </p>
                    <p><a name="id95434"><!--anchor--></a>
                        Java annotations allow us to tag classes, methods and fields with defined annotations
                        that can be accessed at runtime. This technique is called 
                        <a class="link_ref" href="http://java.sun.com/docs/books/tutorial/reflect/index.html" target="_top" title="reflection">reflection</a>.
                        Through the java reflection API, we can now, for example, loop over the methods of an
                        object, and test each method for present annotations. 
                    </p>
                    <div class="teidiv3" id="body.1_div.4_div.3_div.1_div.1"><h5><a name="body.1_div.4_div.3_div.1_div.1"></a>4.3.1.1. Gaboto's Annotation</h5>
                        
                        <p><a name="id95457"><!--anchor--></a>
                            In GabotoEntities and GabotoBeans methods are annotated to describe the 
                            sort of property this method represents. GabotoBeans can only have
                            direct properties.
                        </p>
                        
                        <div class="teidiv4" id="body.1_div.4_div.3_div.1_div.1_div.1"><h6><a name="body.1_div.4_div.3_div.1_div.1_div.1"></a>4.3.1.1.1. Direct Properties</h6>
                            
                            <p><a name="id95470"><!--anchor--></a>
                                Direct properties are properties that are stored together with the
                                entity/bean or that can be directly retrieved from the entity/bean.
                            </p>
                        
                            <div class="teidiv5" id="body.1_div.4_div.3_div.1_div.1_div.1_div.1"><h7><a name="body.1_div.4_div.3_div.1_div.1_div.1_div.1"></a>4.3.1.1.1.1. Direct Stored Properties</h7>
                                
                                <p><a name="id95484"><!--anchor--></a>
                                    Properties that are stored together with the entity/bean.
                                </p>
                                
                                <div class="teidiv6" id="body.1_div.4_div.3_div.1_div.1_div.1_div.1_div.1"><h8><a name="body.1_div.4_div.3_div.1_div.1_div.1_div.1_div.1"></a>4.3.1.1.1.1.1. SimpleLiteralProperty</h8>
                                    
                                </div>
                                <div class="teidiv6" id="body.1_div.4_div.3_div.1_div.1_div.1_div.1_div.2"><h8><a name="body.1_div.4_div.3_div.1_div.1_div.1_div.1_div.2"></a>4.3.1.1.1.1.2. SimpleURIProperty</h8>
                                    
                                </div>
                                <div class="teidiv6" id="body.1_div.4_div.3_div.1_div.1_div.1_div.1_div.3"><h8><a name="body.1_div.4_div.3_div.1_div.1_div.1_div.1_div.3"></a>4.3.1.1.1.1.3. ComplexProperty</h8>
                                    
                                </div>
                                <div class="teidiv6" id="body.1_div.4_div.3_div.1_div.1_div.1_div.1_div.4"><h8><a name="body.1_div.4_div.3_div.1_div.1_div.1_div.1_div.4"></a>4.3.1.1.1.1.4. BagLiteralProperty</h8>
                                    
                                </div>
                                <div class="teidiv6" id="body.1_div.4_div.3_div.1_div.1_div.1_div.1_div.5"><h8><a name="body.1_div.4_div.3_div.1_div.1_div.1_div.1_div.5"></a>4.3.1.1.1.1.5. BagURIProperty</h8>
                                    
                                </div>
                                <div class="teidiv6" id="body.1_div.4_div.3_div.1_div.1_div.1_div.1_div.6"><h8><a name="body.1_div.4_div.3_div.1_div.1_div.1_div.1_div.6"></a>4.3.1.1.1.1.6. BagComplexProperty</h8>
                                    
                                </div>
                            </div>
                            
                            <div class="teidiv5" id="body.1_div.4_div.3_div.1_div.1_div.1_div.2"><h7><a name="body.1_div.4_div.3_div.1_div.1_div.1_div.2"></a>4.3.1.1.1.2. Direct Unstored Properties</h7>
                                
                                <p><a name="id95538"><!--anchor--></a>
                                    Properties that are not stored, but that can be retrieved directly
                                    from the entity/bean.
                                </p>
                                <div class="teidiv6" id="body.1_div.4_div.3_div.1_div.1_div.1_div.2_div.1"><h8><a name="body.1_div.4_div.3_div.1_div.1_div.1_div.2_div.1"></a>4.3.1.1.1.2.1. StaticProperty</h8>
                                    
                                </div>
                                    
                                <div class="teidiv6" id="body.1_div.4_div.3_div.1_div.1_div.1_div.2_div.2"><h8><a name="body.1_div.4_div.3_div.1_div.1_div.1_div.2_div.2"></a>4.3.1.1.1.2.2. UnstoredProperty</h8>
                                    
                                </div>
                            </div>
                            
                        </div>
                        
                        <div class="teidiv4" id="body.1_div.4_div.3_div.1_div.1_div.2"><h6><a name="body.1_div.4_div.3_div.1_div.1_div.2"></a>4.3.1.1.2. IndirectProperty</h6>
                            
                            <p><a name="id95568"><!--anchor--></a>
                                Indirect properties are properties that are not stored directly with an
                                entity, but with an entity that can be referenced (not necessarily directly)
                                from this entity.
                            </p>
                        </div>
                        <div class="teidiv4" id="body.1_div.4_div.3_div.1_div.1_div.3"><h6><a name="body.1_div.4_div.3_div.1_div.1_div.3"></a>4.3.1.1.3. PassiveProperty</h6>
                            
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="teidiv1" id="body.1_div.4_div.4"><h3><a name="body.1_div.4_div.4"></a>4.4. To Do</h3>
                
                <p><a name="id95593"><!--anchor--></a>
                    Here are a list of ideas of how Gaboto might be further improved.
                </p>
                
                <div class="teidiv2" id="body.1_div.4_div.4_div.1"><h4><a name="body.1_div.4_div.4_div.1"></a>4.4.1. Multiple Inheritance</h4>
                    
                    <p><a name="id95604"><!--anchor--></a>
                        RDF supports multiple inheritance. To map this to java, Gaboto needs to create interfaces
                        and interface implementations from the configuration file rather than just the implementations.
                    </p>
                </div>
                <div class="teidiv2" id="body.1_div.4_div.4_div.2"><h4><a name="body.1_div.4_div.4_div.2"></a>4.4.2. Get rid of Reflection when creating RDF from a GabotoPool/GabotoEntity</h4>
                    
                    <p><a name="id95619"><!--anchor--></a>
                        This would increase the speed of adding data to the system and of generating
                        RDF output.
                    </p>
                    <p><a name="id95625"><!--anchor--></a>
                        To achieve this, specialized methods (similar to <em>loadFromSnapshot</em>) need to be created during the configuration
                        process. The <em>getTriplesFor</em> method of the GabotoEntity object has then to be 
                        changed to use the dynamically created method instead of the reflection object (<em>RDFContainerTripleGeneratorImpl</em>). 
                    </p>
                </div>
                <div class="teidiv2" id="body.1_div.4_div.4_div.3"><h4><a name="body.1_div.4_div.4_div.3"></a>4.4.3. More simple Datatypes</h4>
                    
                    <p><a name="id95652"><!--anchor--></a>
                        As Jena offers the full range of XSD datatypes, Gaboto should support more than the currently
                        supported primitive java types for literal properties.
                    </p>
                </div>
                <div class="teidiv2" id="body.1_div.4_div.4_div.4"><h4><a name="body.1_div.4_div.4_div.4"></a>4.4.4. Make GabotoQuery know about existing Transformations</h4>
                    
                    <p><a name="id95666"><!--anchor--></a>
                        Currently GabotoQueryImpl only knows about the already existing transformations.
                        It should be possible to make it aware of newly available transformations.
                    </p>
                </div>
                <div class="teidiv2" id="body.1_div.4_div.4_div.5"><h4><a name="body.1_div.4_div.4_div.5"></a>4.4.5. Add new Import Mechanisms (e.g., JSON Importer)</h4>
                    
                    <p><a name="id95681"><!--anchor--></a>
                        JSON could easily be used to add data into the system. In order to achieve
                        this a JSON to GabotoEntity converter had to be written.
                    </p>
                </div>
                <div class="teidiv2" id="body.1_div.4_div.4_div.6"><h4><a name="body.1_div.4_div.4_div.6"></a>4.4.6. Create option to leave out Time Dimension</h4>
                    
                    <p><a name="id95694"><!--anchor--></a>
                        In many projects the Time Dimension might not be necessary. It should be easy
                        for these projects to get rid of the time dimension and not having to create
                        the same snapshot all the time.
                    </p>
                </div>
                <div class="teidiv2" id="body.1_div.4_div.4_div.7"><h4><a name="body.1_div.4_div.4_div.7"></a>4.4.7. Remove Custom Methods from Config File</h4>
                    
                    <p><a name="id95710"><!--anchor--></a>
                        It would be nicer to be able to create custom methods for entities/beans directly
                        in your IDE instead of in the XML configuration file. For this each entity/bean
                        needs to consist of a super and a subclass. The super class is the one that is
                        generated from the configuration, while the subclass is the one that is actually
                        used by the user. Here the user can easily add custom methods.
                    </p>
                </div>
                <div class="teidiv2" id="body.1_div.4_div.4_div.8"><h4><a name="body.1_div.4_div.4_div.8"></a>4.4.8. Allow for specific Jena Database configuration</h4>
                    
                    <p><a name="id95720"><!--anchor--></a>
                        Jena offers a couple of configuration properties for persistent models
                        (see <a class="link_ptr" href="http://jena.sourceforge.net/DB/creating-db-models.html" target="_top" title=""><span>http://jena.sourceforge.net/DB/creating-db-models.html</span></a>). It would
                        be nice if these could be configured from within the Gaboto configuration file.
                    </p>
                </div>
            </div>
        </div>
      
      
          <div class="teidiv0" id="configuration_schema"><h2><a name="configuration_schema"></a>Configuration File Schema</h2>
              
              <div class="pre">
<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">schema</span>ï¿½<span class="attribute">elementFormDefault</span>="<span class="attributevalue">qualified</span>"ï¿½<span class="attribute">xml:base</span>="<span class="attributevalue">../schemas/Gaboto.xsd</span>"
ï¿½ï¿½ï¿½xmlns:xs="http://www.w3.org/2001/XMLSchema"&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">Gaboto</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">sequence</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">ref</span>="<span class="attributevalue">config</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">ref</span>="<span class="attributevalue">GabotoBeans</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">ref</span>="<span class="attributevalue">GabotoEntities</span>"/&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">sequence</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">element</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">config</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">sequence</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">ref</span>="<span class="attributevalue">namespaces</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">ref</span>="<span class="attributevalue">namespacePrefixes</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">ref</span>="<span class="attributevalue">database</span>"/&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">sequence</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">element</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">namespaces</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">attribute</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">data</span>"ï¿½<span class="attribute">use</span>="<span class="attributevalue">required</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:anyURI</span>"/&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">attribute</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">graphs</span>"ï¿½<span class="attribute">use</span>="<span class="attributevalue">required</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:anyURI</span>"/&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">element</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">namespacePrefixes</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">sequence</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">ref</span>="<span class="attributevalue">namespacePrefix</span>"/&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">sequence</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">element</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">namespacePrefix</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">attribute</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">ns</span>"ï¿½<span class="attribute">use</span>="<span class="attributevalue">required</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:anyURI</span>"/&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">attribute</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">prefix</span>"ï¿½<span class="attribute">use</span>="<span class="attributevalue">required</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:NCName</span>"/&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">element</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">database</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">sequence</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">ref</span>="<span class="attributevalue">engineName</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">ref</span>="<span class="attributevalue">url</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">ref</span>="<span class="attributevalue">user</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">ref</span>="<span class="attributevalue">password</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">ref</span>="<span class="attributevalue">driver</span>"/&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">sequence</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">element</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">engineName</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:NCName</span>"/&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">url</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:anyURI</span>"/&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">user</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:NCName</span>"/&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">password</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:NCName</span>"/&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">driver</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:NCName</span>"/&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">GabotoBeans</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">sequence</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">maxOccurs</span>="<span class="attributevalue">unbounded</span>"ï¿½<span class="attribute">ref</span>="<span class="attributevalue">GabotoBean</span>"/&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">sequence</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">element</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">GabotoBean</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">sequence</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">ref</span>="<span class="attributevalue">properties</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">minOccurs</span>="<span class="attributevalue">0</span>"ï¿½<span class="attribute">ref</span>="<span class="attributevalue">customMethods</span>"/&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">sequence</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">attribute</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">name</span>"ï¿½<span class="attribute">use</span>="<span class="attributevalue">required</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:NCName</span>"/&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">attribute</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">type</span>"ï¿½<span class="attribute">use</span>="<span class="attributevalue">required</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:anyURI</span>"/&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">element</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">properties</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">sequence</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">minOccurs</span>="<span class="attributevalue">0</span>"ï¿½<span class="attribute">maxOccurs</span>="<span class="attributevalue">unbounded</span>"ï¿½<span class="attribute">ref</span>="<span class="attributevalue">property</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">minOccurs</span>="<span class="attributevalue">0</span>"ï¿½<span class="attribute">maxOccurs</span>="<span class="attributevalue">unbounded</span>"ï¿½<span class="attribute">ref</span>="<span class="attributevalue">passiveProperty</span>"/&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">sequence</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">element</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">property</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">sequence</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">minOccurs</span>="<span class="attributevalue">0</span>"ï¿½<span class="attribute">ref</span>="<span class="attributevalue">indirectProperty</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">minOccurs</span>="<span class="attributevalue">0</span>"ï¿½<span class="attribute">ref</span>="<span class="attributevalue">unstoredProperty</span>"/&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">sequence</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">attribute</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">collection</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:NCName</span>"/&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">attribute</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">name</span>"ï¿½<span class="attribute">use</span>="<span class="attributevalue">required</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:NCName</span>"/&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">attribute</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">type</span>"ï¿½<span class="attribute">use</span>="<span class="attributevalue">required</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:NCName</span>"/&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">attribute</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">uri</span>"ï¿½<span class="attribute">use</span>="<span class="attributevalue">required</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:anyURI</span>"/&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">element</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">indirectProperty</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">attribute</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">n</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:integer</span>"/&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">attribute</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">uri</span>"ï¿½<span class="attribute">use</span>="<span class="attributevalue">required</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:anyURI</span>"/&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">element</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">unstoredProperty</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">attribute</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">uri</span>"ï¿½<span class="attribute">use</span>="<span class="attributevalue">required</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:anyURI</span>"/&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">element</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">passiveProperty</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">attribute</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">name</span>"ï¿½<span class="attribute">use</span>="<span class="attributevalue">required</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:NCName</span>"/&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">attribute</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">relationshipType</span>"ï¿½<span class="attribute">use</span>="<span class="attributevalue">required</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:NMTOKEN</span>"/&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">attribute</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">type</span>"ï¿½<span class="attribute">use</span>="<span class="attributevalue">required</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:NCName</span>"/&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">attribute</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">uri</span>"ï¿½<span class="attribute">use</span>="<span class="attributevalue">required</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:anyURI</span>"/&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">element</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">customMethods</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">sequence</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">maxOccurs</span>="<span class="attributevalue">unbounded</span>"ï¿½<span class="attribute">ref</span>="<span class="attributevalue">method</span>"/&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">sequence</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">element</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">method</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:string</span>"/&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">GabotoEntities</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">sequence</span>&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">minOccurs</span>="<span class="attributevalue">0</span>"ï¿½<span class="attribute">maxOccurs</span>="<span class="attributevalue">unbounded</span>"ï¿½<span class="attribute">ref</span>="<span class="attributevalue">GabotoEntity</span>"/&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">sequence</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">element</span>&gt;</span>
ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">GabotoEntity</span>"&gt;</span>
ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">choice</span>ï¿½<span class="attribute">minOccurs</span>="<span class="attributevalue">0</span>"ï¿½<span class="attribute">maxOccurs</span>="<span class="attributevalue">unbounded</span>"&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">ref</span>="<span class="attributevalue">GabotoEntities</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">ref</span>="<span class="attributevalue">customMethods</span>"/&gt;</span>
ï¿½ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">element</span>ï¿½<span class="attribute">ref</span>="<span class="attributevalue">properties</span>"/&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">choice</span>&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">attribute</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">abstract</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:boolean</span>"/&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">attribute</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">name</span>"ï¿½<span class="attribute">use</span>="<span class="attributevalue">required</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:NCName</span>"/&gt;</span>
ï¿½ï¿½ï¿½<span class="element">&lt;<span class="namespace">xsd:</span><span class="elementname">attribute</span>ï¿½<span class="attribute">name</span>="<span class="attributevalue">type</span>"ï¿½<span class="attribute">use</span>="<span class="attributevalue">required</span>"ï¿½<span class="attribute">type</span>="<span class="attributevalue">xs:anyURI</span>"/&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">complexType</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">element</span>&gt;</span><span class="element">&lt;/<span class="namespace">xsd:</span><span class="elementname">schema</span>&gt;</span></div>
          </div>
      
  
</div></div><div class="sidecol" id="lh-col"><div class="box" id="boxborder"><p>ï¿½</p><ul class="navbar">
    <li class="listheading">Login</li>
    <li>
        <a href="http://weblearn.ox.ac.uk/site/" title="Virtual Learning Environment">WebLearn</a>
    </li>
    <li>
        <a href="https://webmail.ox.ac.uk" title="Email Login">Webmail Login</a>
    </li>

    <li>
        <a href="https://register.oucs.ox.ac.uk/self/index/" title="Self Registration Login ">Registration Services</a>
    </li>

</ul><ul class="navbar">
                <li class="listheading">General Links</li>
                <li>
                                <a href="/atoz/" title="">Looking for a Service?</a>
                </li>
                <li>
                                <a href="/itlp/" title="">Need Training in IT?</a>
                </li>
                <li>
                                <a href="/help/" title="">Need Help With IT?</a>
                </li>

</ul><div id="lh-col-bottom"><h3>Document Links:</h3><div class="tocFront"><ul class="tocContainer"><li class="toclist0"><a class="toclist" href="#front.1_div.1">Preface</a>
</li></ul></div><div class="tocBody"><!--start TOC--><ul class="tocContainer"><!--TOC components--><li class="toclist0"><a class="toclist" href="#body.1_div.1">1. Introduction to Gaboto</a>
</li><li class="toclist0"><a class="toclist" href="#body.1_div.2">2. Part I - Using Gaboto</a>
</li><li class="toclist0"><a class="toclist" href="#part_configuring">3. Part II - Configuring Gaboto</a>
</li><li class="toclist0"><a class="toclist" href="#part_extending">4. Part III - Extending Gaboto</a>
</li></ul></div><div class="tocBack"><ul class="tocContainer"><li class="toclist0"><a class="toclist" href="#configuration_schema">Configuration File Schema</a>
</li></ul></div></div></div></div></div><div class="clear" id="em"></div><div class="clear" id="footer"><p><a href="http://www.ox.ac.uk/"><img alt="University Crest" height="71" src="http://www.oucs.ox.ac.uk/images/crest-outline.gif" title="Oxford University home page" width="60" class="pic-left"></a>
       | <a href="/about/">About</a> | <a href="/about/contact.xml">Contact</a>
        | <a href="/feedback/">Feedback</a> | <a href="/enable/acstatement.xml">Accessibility</a> | <a href="http://www.ox.ac.uk/copyright/">ï¿½</a> University of Oxford. <br> OUCS documents are
        available in alternative formats through advance request from the Help
        Centre. 
      </p><p> Written by Arno Mittelbach, . </p><p>[Change Page Style: <a href="?style=text">Simple text</a> | <a href="?splitLevel=-1">Printable version</a> | <a href="?style=screen">Normal</a> ] </p><!--Feed, my children, feed.... eejaingi5boh1coo@oucs.ox.ac.uk
        eik0koofahvan1ei@oucs.ox.ac.uk uejoo4upie6aibee@oucs.ox.ac.uk
        uechool9aechaep7@oucs.ox.ac.uk --></div><script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">_uacct = "UA-757158-1";
	urchinTracker();
	</script></div></body></html>
